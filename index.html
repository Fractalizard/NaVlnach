<!DOCTYPE html>
<html data-init="no-js">
<head>
<meta charset="UTF-8" />
<title>Na vlnách finál 2</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!--

SugarCube (v2.36.1): A free (gratis and libre) story format.

Copyright © 2013–2021 Thomas Michael Edwards <thomasmedwards@gmail.com>.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->
<script id="script-libraries" type="text/javascript">
if(document.head&&document.addEventListener&&document.querySelector&&Object.create&&Object.freeze&&JSON){document.documentElement.setAttribute("data-init", "loading");
/*! @source http://purl.eligrey.com/github/classList.js/blob/1.2.20171210/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;s>i;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],h=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~a(this,t+"")},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",~a(this,t)||(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);~e;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.replace=function(t,e){var n=a(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},s.defineProperty){var f={get:h,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,f)}catch(p){void 0!==p.number&&-2146823252!==p.number||(f.enumerable=!1,s.defineProperty(i,e,f))}}else s[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;i>n;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}());
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2020 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/v4.5.14/LICENSE
 */
(function(t,r){"use strict";if(typeof define==="function"&&define.amd){define(r)}else if(typeof exports==="object"){module.exports=r()}else{t.returnExports=r()}})(this,function(){var t=Array;var r=t.prototype;var e=Object;var n=e.prototype;var i=Function;var a=i.prototype;var o=String;var f=o.prototype;var u=Number;var l=u.prototype;var s=r.slice;var c=r.splice;var v=r.push;var h=r.unshift;var p=r.concat;var y=r.join;var d=a.call;var g=a.apply;var w=Math.max;var b=Math.min;var T=n.toString;var m=typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol";var D;var S=Function.prototype.toString,x=/^\s*class /,O=function isES6ClassFn(t){try{var r=S.call(t);var e=r.replace(/\/\/.*\n/g,"");var n=e.replace(/\/\*[.\s\S]*\*\//g,"");var i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(a){return false}},E=function tryFunctionObject(t){try{if(O(t)){return false}S.call(t);return true}catch(r){return false}},j="[object Function]",I="[object GeneratorFunction]",D=function isCallable(t){if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(m){return E(t)}if(O(t)){return false}var r=T.call(t);return r===j||r===I};var M;var U=RegExp.prototype.exec,$=function tryRegexExec(t){try{U.call(t);return true}catch(r){return false}},F="[object RegExp]";M=function isRegex(t){if(typeof t!=="object"){return false}return m?$(t):T.call(t)===F};var N;var C=String.prototype.valueOf,k=function tryStringObject(t){try{C.call(t);return true}catch(r){return false}},A="[object String]";N=function isString(t){if(typeof t==="string"){return true}if(typeof t!=="object"){return false}return m?k(t):T.call(t)===A};var R=e.defineProperty&&function(){try{var t={};e.defineProperty(t,"x",{enumerable:false,value:t});for(var r in t){return false}return t.x===t}catch(n){return false}}();var P=function(t){var r;if(R){r=function(t,r,n,i){if(!i&&r in t){return}e.defineProperty(t,r,{configurable:true,enumerable:false,writable:true,value:n})}}else{r=function(t,r,e,n){if(!n&&r in t){return}t[r]=e}}return function defineProperties(e,n,i){for(var a in n){if(t.call(n,a)){r(e,a,n[a],i)}}}}(n.hasOwnProperty);var J=function isPrimitive(t){var r=typeof t;return t===null||r!=="object"&&r!=="function"};var Y=u.isNaN||function isActualNaN(t){return t!==t};var z={ToInteger:function ToInteger(t){var r=+t;if(Y(r)){r=0}else if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}return r},ToPrimitive:function ToPrimitive(t){var r,e,n;if(J(t)){return t}e=t.valueOf;if(D(e)){r=e.call(t);if(J(r)){return r}}n=t.toString;if(D(n)){r=n.call(t);if(J(r)){return r}}throw new TypeError},ToObject:function(t){if(t==null){throw new TypeError("can't convert "+t+" to object")}return e(t)},ToUint32:function ToUint32(t){return t>>>0}};var Z=function Empty(){};P(a,{bind:function bind(t){var r=this;if(!D(r)){throw new TypeError("Function.prototype.bind called on incompatible "+r)}var n=s.call(arguments,1);var a;var o=function(){if(this instanceof a){var i=g.call(r,this,p.call(n,s.call(arguments)));if(e(i)===i){return i}return this}else{return g.call(r,t,p.call(n,s.call(arguments)))}};var f=w(0,r.length-n.length);var u=[];for(var l=0;l<f;l++){v.call(u,"$"+l)}a=i("binder","return function ("+y.call(u,",")+"){ return binder.apply(this, arguments); }")(o);if(r.prototype){Z.prototype=r.prototype;a.prototype=new Z;Z.prototype=null}return a}});var G=d.bind(n.hasOwnProperty);var H=d.bind(n.toString);var W=d.bind(s);var B=g.bind(s);if(typeof document==="object"&&document&&document.documentElement){try{W(document.documentElement.childNodes)}catch(X){var L=W;var q=B;W=function arraySliceIE(t){var r=[];var e=t.length;while(e-- >0){r[e]=t[e]}return q(r,L(arguments,1))};B=function arraySliceApplyIE(t,r){return q(W(t),r)}}}var K=d.bind(f.slice);var Q=d.bind(f.split);var V=d.bind(f.indexOf);var _=d.bind(v);var tt=d.bind(n.propertyIsEnumerable);var rt=d.bind(r.sort);var et=t.isArray||function isArray(t){return H(t)==="[object Array]"};var nt=[].unshift(0)!==1;P(r,{unshift:function(){h.apply(this,arguments);return this.length}},nt);P(t,{isArray:et});var it=e("a");var at=it[0]!=="a"||!(0 in it);var ot=function properlyBoxed(t){var r=true;var e=true;var n=false;if(t){try{t.call("foo",function(t,e,n){if(typeof n!=="object"){r=false}});t.call([1],function(){"use strict";e=typeof this==="string"},"x")}catch(i){n=true}}return!!t&&!n&&r&&e};P(r,{forEach:function forEach(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=-1;var i=z.ToUint32(e.length);var a;if(arguments.length>1){a=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.forEach callback must be a function")}while(++n<i){if(n in e){if(typeof a==="undefined"){t(e[n],n,r)}else{t.call(a,e[n],n,r)}}}}},!ot(r.forEach));P(r,{map:function map(r){var e=z.ToObject(this);var n=at&&N(this)?Q(this,""):e;var i=z.ToUint32(n.length);var a=t(i);var o;if(arguments.length>1){o=arguments[1]}if(!D(r)){throw new TypeError("Array.prototype.map callback must be a function")}for(var f=0;f<i;f++){if(f in n){if(typeof o==="undefined"){a[f]=r(n[f],f,e)}else{a[f]=r.call(o,n[f],f,e)}}}return a}},!ot(r.map));P(r,{filter:function filter(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i=[];var a;var o;if(arguments.length>1){o=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.filter callback must be a function")}for(var f=0;f<n;f++){if(f in e){a=e[f];if(typeof o==="undefined"?t(a,f,r):t.call(o,a,f,r)){_(i,a)}}}return i}},!ot(r.filter));P(r,{every:function every(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.every callback must be a function")}for(var a=0;a<n;a++){if(a in e&&!(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return false}}return true}},!ot(r.every));P(r,{some:function some(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);var i;if(arguments.length>1){i=arguments[1]}if(!D(t)){throw new TypeError("Array.prototype.some callback must be a function")}for(var a=0;a<n;a++){if(a in e&&(typeof i==="undefined"?t(e[a],a,r):t.call(i,e[a],a,r))){return true}}return false}},!ot(r.some));var ft=false;if(r.reduce){ft=typeof r.reduce.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduce:function reduce(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduce callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduce of empty array with no initial value")}var i=0;var a;if(arguments.length>=2){a=arguments[1]}else{do{if(i in e){a=e[i++];break}if(++i>=n){throw new TypeError("reduce of empty array with no initial value")}}while(true)}for(;i<n;i++){if(i in e){a=t(a,e[i],i,r)}}return a}},!ft);var ut=false;if(r.reduceRight){ut=typeof r.reduceRight.call("es5",function(t,r,e,n){return n})==="object"}P(r,{reduceRight:function reduceRight(t){var r=z.ToObject(this);var e=at&&N(this)?Q(this,""):r;var n=z.ToUint32(e.length);if(!D(t)){throw new TypeError("Array.prototype.reduceRight callback must be a function")}if(n===0&&arguments.length===1){throw new TypeError("reduceRight of empty array with no initial value")}var i;var a=n-1;if(arguments.length>=2){i=arguments[1]}else{do{if(a in e){i=e[a--];break}if(--a<0){throw new TypeError("reduceRight of empty array with no initial value")}}while(true)}if(a<0){return i}do{if(a in e){i=t(i,e[a],a,r)}}while(a--);return i}},!ut);var lt=r.indexOf&&[0,1].indexOf(1,2)!==-1;P(r,{indexOf:function indexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=0;if(arguments.length>1){n=z.ToInteger(arguments[1])}n=n>=0?n:w(0,e+n);for(;n<e;n++){if(n in r&&r[n]===t){return n}}return-1}},lt);var st=r.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;P(r,{lastIndexOf:function lastIndexOf(t){var r=at&&N(this)?Q(this,""):z.ToObject(this);var e=z.ToUint32(r.length);if(e===0){return-1}var n=e-1;if(arguments.length>1){n=b(n,z.ToInteger(arguments[1]))}n=n>=0?n:e-Math.abs(n);for(;n>=0;n--){if(n in r&&t===r[n]){return n}}return-1}},st);var ct=function(){var t=[1,2];var r=t.splice();return t.length===2&&et(r)&&r.length===0}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}else{return c.apply(this,arguments)}}},!ct);var vt=function(){var t={};r.splice.call(t,0,0,1);return t.length===1}();P(r,{splice:function splice(t,r){if(arguments.length===0){return[]}var e=arguments;this.length=w(z.ToInteger(this.length),0);if(arguments.length>0&&typeof r!=="number"){e=W(arguments);if(e.length<2){_(e,this.length-t)}else{e[1]=z.ToInteger(r)}}return c.apply(this,e)}},!vt);var ht=function(){var r=new t(1e5);r[8]="x";r.splice(1,1);return r.indexOf("x")===7}();var pt=function(){var t=256;var r=[];r[t]="a";r.splice(t+1,0,"b");return r[t]==="a"}();P(r,{splice:function splice(t,r){var e=z.ToObject(this);var n=[];var i=z.ToUint32(e.length);var a=z.ToInteger(t);var f=a<0?w(i+a,0):b(a,i);var u=arguments.length===0?0:arguments.length===1?i-f:b(w(z.ToInteger(r),0),i-f);var l=0;var s;while(l<u){s=o(f+l);if(G(e,s)){n[l]=e[s]}l+=1}var c=W(arguments,2);var v=c.length;var h;if(v<u){l=f;var p=i-u;while(l<p){s=o(l+u);h=o(l+v);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l+=1}l=i;var y=i-u+v;while(l>y){delete e[l-1];l-=1}}else if(v>u){l=i-u;while(l>f){s=o(l+u-1);h=o(l+v-1);if(G(e,s)){e[h]=e[s]}else{delete e[h]}l-=1}}l=f;for(var d=0;d<c.length;++d){e[l]=c[d];l+=1}e.length=i-u+v;return n}},!ht||!pt);var yt=r.join;var dt;try{dt=Array.prototype.join.call("123",",")!=="1,2,3"}catch(X){dt=true}if(dt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(N(this)?Q(this,""):this,r)}},dt)}var gt=[1,2].join(undefined)!=="1,2";if(gt){P(r,{join:function join(t){var r=typeof t==="undefined"?",":t;return yt.call(this,r)}},gt)}var wt=function push(t){var r=z.ToObject(this);var e=z.ToUint32(r.length);var n=0;while(n<arguments.length){r[e+n]=arguments[n];n+=1}r.length=e+n;return e+n};var bt=function(){var t={};var r=Array.prototype.push.call(t,undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:function push(t){if(et(this)){return v.apply(this,arguments)}return wt.apply(this,arguments)}},bt);var Tt=function(){var t=[];var r=t.push(undefined);return r!==1||t.length!==1||typeof t[0]!=="undefined"||!G(t,0)}();P(r,{push:wt},Tt);P(r,{slice:function(t,r){var e=N(this)?Q(this,""):this;return B(e,arguments)}},at);var mt=function(){try{[1,2].sort(null)}catch(t){try{[1,2].sort({})}catch(r){return false}}return true}();var Dt=function(){try{[1,2].sort(/a/);return false}catch(t){}return true}();var St=function(){try{[1,2].sort(undefined);return true}catch(t){}return false}();P(r,{sort:function sort(t){if(typeof t==="undefined"){return rt(this)}if(!D(t)){throw new TypeError("Array.prototype.sort callback must be a function")}return rt(this,t)}},mt||!St||!Dt);var xt=!tt({toString:null},"toString");var Ot=tt(function(){},"prototype");var Et=!G("x","0");var jt=function(t){var r=t.constructor;return r&&r.prototype===t};var It={$applicationCache:true,$console:true,$external:true,$frame:true,$frameElement:true,$frames:true,$innerHeight:true,$innerWidth:true,$onmozfullscreenchange:true,$onmozfullscreenerror:true,$outerHeight:true,$outerWidth:true,$pageXOffset:true,$pageYOffset:true,$parent:true,$scrollLeft:true,$scrollTop:true,$scrollX:true,$scrollY:true,$self:true,$webkitIndexedDB:true,$webkitStorageInfo:true,$window:true,$width:true,$height:true,$top:true,$localStorage:true};var Mt=function(){if(typeof window==="undefined"){return false}for(var t in window){try{if(!It["$"+t]&&G(window,t)&&window[t]!==null&&typeof window[t]==="object"){jt(window[t])}}catch(r){return true}}return false}();var Ut=function(t){if(typeof window==="undefined"||!Mt){return jt(t)}try{return jt(t)}catch(r){return false}};var $t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var Ft=$t.length;var Nt=function isArguments(t){return H(t)==="[object Arguments]"};var Ct=function isArguments(t){return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&!et(t)&&D(t.callee)};var kt=Nt(arguments)?Nt:Ct;P(e,{keys:function keys(t){var r=D(t);var e=kt(t);var n=t!==null&&typeof t==="object";var i=n&&N(t);if(!n&&!r&&!e){throw new TypeError("Object.keys called on a non-object")}var a=[];var f=Ot&&r;if(i&&Et||e){for(var u=0;u<t.length;++u){_(a,o(u))}}if(!e){for(var l in t){if(!(f&&l==="prototype")&&G(t,l)){_(a,o(l))}}}if(xt){var s=Ut(t);for(var c=0;c<Ft;c++){var v=$t[c];if(!(s&&v==="constructor")&&G(t,v)){_(a,v)}}}return a}});var At=e.keys&&function(){return e.keys(arguments).length===2}(1,2);var Rt=e.keys&&function(){var t=e.keys(arguments);return arguments.length!==1||t.length!==1||t[0]!==1}(1);var Pt=e.keys;P(e,{keys:function keys(t){if(kt(t)){return Pt(W(t))}else{return Pt(t)}}},!At||Rt);var Jt=new Date(-0xc782b5b342b24).getUTCMonth()!==0;var Yt=new Date(-0x55d318d56a724);var zt=new Date(14496624e5);var Zt=Yt.toUTCString()!=="Mon, 01 Jan -45875 11:59:59 GMT";var Gt;var Ht;var Wt=Yt.getTimezoneOffset();if(Wt<-720){Gt=Yt.toDateString()!=="Tue Jan 02 -45875";Ht=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}else{Gt=Yt.toDateString()!=="Mon Jan 01 -45875";Ht=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(zt))}var Bt=d.bind(Date.prototype.getFullYear);var Xt=d.bind(Date.prototype.getMonth);var Lt=d.bind(Date.prototype.getDate);var qt=d.bind(Date.prototype.getUTCFullYear);var Kt=d.bind(Date.prototype.getUTCMonth);var Qt=d.bind(Date.prototype.getUTCDate);var Vt=d.bind(Date.prototype.getUTCDay);var _t=d.bind(Date.prototype.getUTCHours);var tr=d.bind(Date.prototype.getUTCMinutes);var rr=d.bind(Date.prototype.getUTCSeconds);var er=d.bind(Date.prototype.getUTCMilliseconds);var nr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var ir=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var ar=function daysInMonth(t,r){return Lt(new Date(r,t,0))};P(Date.prototype,{getFullYear:function getFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);if(t<0&&Xt(this)>11){return t+1}return t},getMonth:function getMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);if(t<0&&r>11){return 0}return r},getDate:function getDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Bt(this);var r=Xt(this);var e=Lt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e},getUTCFullYear:function getUTCFullYear(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);if(t<0&&Kt(this)>11){return t+1}return t},getUTCMonth:function getUTCMonth(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);if(t<0&&r>11){return 0}return r},getUTCDate:function getUTCDate(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=qt(this);var r=Kt(this);var e=Qt(this);if(t<0&&r>11){if(r===12){return e}var n=ar(0,t+1);return n-e+1}return e}},Jt);P(Date.prototype,{toUTCString:function toUTCString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=Vt(this);var r=Qt(this);var e=Kt(this);var n=qt(this);var i=_t(this);var a=tr(this);var o=rr(this);return nr[t]+", "+(r<10?"0"+r:r)+" "+ir[e]+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"}},Jt||Zt);P(Date.prototype,{toDateString:function toDateString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n}},Jt||Gt);if(Jt||Ht){Date.prototype.toString=function toString(){if(!this||!(this instanceof Date)){throw new TypeError("this is not a Date object.")}var t=this.getDay();var r=this.getDate();var e=this.getMonth();var n=this.getFullYear();var i=this.getHours();var a=this.getMinutes();var o=this.getSeconds();var f=this.getTimezoneOffset();var u=Math.floor(Math.abs(f)/60);var l=Math.floor(Math.abs(f)%60);return nr[t]+" "+ir[e]+" "+(r<10?"0"+r:r)+" "+n+" "+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)+" GMT"+(f>0?"-":"+")+(u<10?"0"+u:u)+(l<10?"0"+l:l)};if(R){e.defineProperty(Date.prototype,"toString",{configurable:true,enumerable:false,writable:true})}}var or=-621987552e5;var fr="-000001";var ur=Date.prototype.toISOString&&new Date(or).toISOString().indexOf(fr)===-1;var lr=Date.prototype.toISOString&&new Date(-1).toISOString()!=="1969-12-31T23:59:59.999Z";var sr=d.bind(Date.prototype.getTime);P(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(sr(this))){throw new RangeError("Date.prototype.toISOString called on non-finite value.")}var t=qt(this);var r=Kt(this);t+=Math.floor(r/12);r=(r%12+12)%12;var e=[r+1,Qt(this),_t(this),tr(this),rr(this)];t=(t<0?"-":t>9999?"+":"")+K("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<e.length;++n){e[n]=K("00"+e[n],-2)}return t+"-"+W(e,0,2).join("-")+"T"+W(e,2).join(":")+"."+K("000"+er(this),-3)+"Z"}},ur||lr);var cr=function(){try{return Date.prototype.toJSON&&new Date(NaN).toJSON()===null&&new Date(or).toJSON().indexOf(fr)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return true}})}catch(t){return false}}();if(!cr){Date.prototype.toJSON=function toJSON(t){var r=e(this);var n=z.ToPrimitive(r);if(typeof n==="number"&&!isFinite(n)){return null}var i=r.toISOString;if(!D(i)){throw new TypeError("toISOString property is not callable")}return i.call(r)}}var vr=Date.parse("+033658-09-27T01:46:40.000Z")===1e15;var hr=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));var pr=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pr||hr||!vr){var yr=Math.pow(2,31)-1;var dr=Y(new Date(1970,0,1,0,0,0,yr+1).getTime());Date=function(t){var r=function Date(e,n,i,a,f,u,l){var s=arguments.length;var c;if(this instanceof t){var v=u;var h=l;if(dr&&s>=7&&l>yr){var p=Math.floor(l/yr)*yr;var y=Math.floor(p/1e3);v+=y;h-=y*1e3}c=s===1&&o(e)===e?new t(r.parse(e)):s>=7?new t(e,n,i,a,f,v,h):s>=6?new t(e,n,i,a,f,v):s>=5?new t(e,n,i,a,f):s>=4?new t(e,n,i,a):s>=3?new t(e,n,i):s>=2?new t(e,n):s>=1?new t(e instanceof t?+e:e):new t}else{c=t.apply(this,arguments)}if(!J(c)){P(c,{constructor:r},true)}return c};var e=new RegExp("^"+"(\\d{4}|[+-]\\d{6})"+"(?:-(\\d{2})"+"(?:-(\\d{2})"+"(?:"+"T(\\d{2})"+":(\\d{2})"+"(?:"+":(\\d{2})"+"(?:(\\.\\d{1,}))?"+")?"+"("+"Z|"+"(?:"+"([-+])"+"(\\d{2})"+":(\\d{2})"+")"+")?)?)?)?"+"$");var n=[0,31,59,90,120,151,181,212,243,273,304,334,365];var i=function dayFromMonth(t,r){var e=r>1?1:0;return n[r]+Math.floor((t-1969+e)/4)-Math.floor((t-1901+e)/100)+Math.floor((t-1601+e)/400)+365*(t-1970)};var a=function toUTC(r){var e=0;var n=r;if(dr&&n>yr){var i=Math.floor(n/yr)*yr;var a=Math.floor(i/1e3);e+=a;n-=a*1e3}return u(new t(1970,0,1,0,0,e,n))};for(var f in t){if(G(t,f)){r[f]=t[f]}}P(r,{now:t.now,UTC:t.UTC},true);r.prototype=t.prototype;P(r.prototype,{constructor:r},true);var l=function parse(r){var n=e.exec(r);if(n){var o=u(n[1]),f=u(n[2]||1)-1,l=u(n[3]||1)-1,s=u(n[4]||0),c=u(n[5]||0),v=u(n[6]||0),h=Math.floor(u(n[7]||0)*1e3),p=Boolean(n[4]&&!n[8]),y=n[9]==="-"?1:-1,d=u(n[10]||0),g=u(n[11]||0),w;var b=c>0||v>0||h>0;if(s<(b?24:25)&&c<60&&v<60&&h<1e3&&f>-1&&f<12&&d<24&&g<60&&l>-1&&l<i(o,f+1)-i(o,f)){w=((i(o,f)+l)*24+s+d*y)*60;w=((w+c+g*y)*60+v)*1e3+h;if(p){w=a(w)}if(-864e13<=w&&w<=864e13){return w}}return NaN}return t.parse.apply(this,arguments)};P(r,{parse:l});return r}(Date)}if(!Date.now){Date.now=function now(){return(new Date).getTime()}}var gr=l.toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(1000000000000000128).toFixed(0)!=="1000000000000000128");var wr={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(t,r){var e=-1;var n=r;while(++e<wr.size){n+=t*wr.data[e];wr.data[e]=n%wr.base;n=Math.floor(n/wr.base)}},divide:function divide(t){var r=wr.size;var e=0;while(--r>=0){e+=wr.data[r];wr.data[r]=Math.floor(e/t);e=e%t*wr.base}},numToString:function numToString(){var t=wr.size;var r="";while(--t>=0){if(r!==""||t===0||wr.data[t]!==0){var e=o(wr.data[t]);if(r===""){r=e}else{r+=K("0000000",0,7-e.length)+e}}}return r},pow:function pow(t,r,e){return r===0?e:r%2===1?pow(t,r-1,e*t):pow(t*t,r/2,e)},log:function log(t){var r=0;var e=t;while(e>=4096){r+=12;e/=4096}while(e>=2){r+=1;e/=2}return r}};var br=function toFixed(t){var r,e,n,i,a,f,l,s;r=u(t);r=Y(r)?0:Math.floor(r);if(r<0||r>20){throw new RangeError("Number.toFixed called with invalid number of decimals")}e=u(this);if(Y(e)){return"NaN"}if(e<=-1e21||e>=1e21){return o(e)}n="";if(e<0){n="-";e=-e}i="0";if(e>1e-21){a=wr.log(e*wr.pow(2,69,1))-69;f=a<0?e*wr.pow(2,-a,1):e/wr.pow(2,a,1);f*=4503599627370496;a=52-a;if(a>0){wr.multiply(0,f);l=r;while(l>=7){wr.multiply(1e7,0);l-=7}wr.multiply(wr.pow(10,l,1),0);l=a-1;while(l>=23){wr.divide(1<<23);l-=23}wr.divide(1<<l);wr.multiply(1,1);wr.divide(2);i=wr.numToString()}else{wr.multiply(0,f);wr.multiply(1<<-a,0);i=wr.numToString()+K("0.00000000000000000000",2,2+r)}}if(r>0){s=i.length;if(s<=r){i=n+K("0.0000000000000000000",0,r-s+2)+i}else{i=n+K(i,0,s-r)+"."+K(i,s-r)}}else{i=n+i}return i};P(l,{toFixed:br},gr);var Tr=function(){try{return 1..toPrecision(undefined)==="1"}catch(t){return true}}();var mr=l.toPrecision;P(l,{toPrecision:function toPrecision(t){return typeof t==="undefined"?mr.call(this):mr.call(this,t)}},Tr);if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=typeof/()??/.exec("")[1]==="undefined";var r=Math.pow(2,32)-1;f.split=function(e,n){var i=String(this);if(typeof e==="undefined"&&n===0){return[]}if(!M(e)){return Q(this,e,n)}var a=[];var o=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,u,l,s,c;var h=new RegExp(e.source,o+"g");if(!t){u=new RegExp("^"+h.source+"$(?!\\s)",o)}var p=typeof n==="undefined"?r:z.ToUint32(n);l=h.exec(i);while(l){s=l.index+l[0].length;if(s>f){_(a,K(i,f,l.index));if(!t&&l.length>1){l[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++){if(typeof arguments[t]==="undefined"){l[t]=void 0}}})}if(l.length>1&&l.index<i.length){v.apply(a,W(l,1))}c=l[0].length;f=s;if(a.length>=p){break}}if(h.lastIndex===l.index){h.lastIndex++}l=h.exec(i)}if(f===i.length){if(c||!h.test("")){_(a,"")}}else{_(a,K(i,f))}return a.length>p?W(a,0,p):a}})()}else if("0".split(void 0,0).length){f.split=function split(t,r){if(typeof t==="undefined"&&r===0){return[]}return Q(this,t,r)}}var Dr=f.replace;var Sr=function(){var t=[];"x".replace(/x(.)?/g,function(r,e){_(t,e)});return t.length===1&&typeof t[0]==="undefined"}();if(!Sr){f.replace=function replace(t,r){var e=D(r);var n=M(t)&&/\)[*?]/.test(t.source);if(!e||!n){return Dr.call(this,t,r)}else{var i=function(e){var n=arguments.length;var i=t.lastIndex;t.lastIndex=0;var a=t.exec(e)||[];t.lastIndex=i;_(a,arguments[n-2],arguments[n-1]);return r.apply(this,a)};return Dr.call(this,t,i)}}}var xr=f.substr;var Or="".substr&&"0b".substr(-1)!=="b";P(f,{substr:function substr(t,r){var e=t;if(t<0){e=w(this.length+t,0)}return xr.call(this,e,r)}},Or);var Er="\t\n\x0B\f\r \xa0\u1680\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";var jr="\u200b";var Ir="["+Er+"]";var Mr=new RegExp("^"+Ir+Ir+"*");var Ur=new RegExp(Ir+Ir+"*$");var $r=f.trim&&(Er.trim()||!jr.trim());P(f,{trim:function trim(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}return o(this).replace(Mr,"").replace(Ur,"")}},$r);var Fr=d.bind(String.prototype.trim);var Nr=f.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;P(f,{lastIndexOf:function lastIndexOf(t){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var r=o(this);var e=o(t);var n=arguments.length>1?u(arguments[1]):NaN;var i=Y(n)?Infinity:z.ToInteger(n);var a=b(w(i,0),r.length);var f=e.length;var l=a+f;while(l>0){l=w(0,l-f);var s=V(K(r,l,a+f),e);if(s!==-1){return l+s}}return-1}},Nr);var Cr=f.lastIndexOf;P(f,{lastIndexOf:function lastIndexOf(t){return Cr.apply(this,arguments)}},f.lastIndexOf.length!==1);if(parseInt(Er+"08")!==8||parseInt(Er+"0x16")!==22){parseInt=function(t){var r=/^[-+]?0[xX]/;return function parseInt(e,n){if(typeof e==="symbol"){""+e}var i=Fr(String(e));var a=u(n)||(r.test(i)?16:10);return t(i,a)}}(parseInt)}if(1/parseFloat("-0")!==-Infinity){parseFloat=function(t){return function parseFloat(r){var e=Fr(String(r));var n=t(e);return n===0&&K(e,0,1)==="-"?-0:n}}(parseFloat)}if(String(new RangeError("test"))!=="RangeError: test"){var kr=function toString(){if(typeof this==="undefined"||this===null){throw new TypeError("can't convert "+this+" to object")}var t=this.name;if(typeof t==="undefined"){t="Error"}else if(typeof t!=="string"){t=o(t)}var r=this.message;if(typeof r==="undefined"){r=""}else if(typeof r!=="string"){r=o(r)}if(!t){return r}if(!r){return t}return t+": "+r};Error.prototype.toString=kr}if(R){var Ar=function(t,r){if(tt(t,r)){var e=Object.getOwnPropertyDescriptor(t,r);if(e.configurable){e.enumerable=false;Object.defineProperty(t,r,e)}}};Ar(Error.prototype,"message");if(Error.prototype.message!==""){Error.prototype.message=""}Ar(Error.prototype,"name")}if(String(/a/gim)!=="/a/gim"){var Rr=function toString(){var t="/"+this.source+"/";if(this.global){t+="g"}if(this.ignoreCase){t+="i"}if(this.multiline){t+="m"}return t};RegExp.prototype.toString=Rr}});
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.4/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.shift);var A=Math.max;var R=Math.min;var _=Math.floor;var k=Math.abs;var L=Math.exp;var F=Math.log;var D=Math.sqrt;var z=Function.call.bind(Object.prototype.hasOwnProperty);var q;var W=function(){};var G=S.Map;var H=G&&G.prototype["delete"];var V=G&&G.prototype.get;var B=G&&G.prototype.has;var U=G&&G.prototype.set;var $=S.Symbol||{};var J=$.species||"@@species";var X=Number.isNaN||function isNaN(e){return e!==e};var K=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Z=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(X(t)){return t}return t<0?-1:1};var Y=function log1p(e){var t=Number(e);if(t<-1||X(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(F(1+t)/(1+t-1))};var Q=function isArguments(e){return g(e)==="[object Arguments]"};var ee=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var te=Q(arguments)?Q:ee;var re={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var ne=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var oe=typeof $==="function"&&typeof $["for"]==="function"&&re.symbol($());var ie=re.symbol($.iterator)?$.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ie="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ae=S.Reflect;var ue=String;var fe=typeof document==="undefined"||!document?null:document.all;var se=fe==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==fe};var ce={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!ce.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(se(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===fe},ToObject:function(e,t){return Object(ce.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return ce.IsCallable(e)},ToInt32:function(e){return ce.ToNumber(e)>>0},ToUint32:function(e){return ce.ToNumber(e)>>>0},ToNumber:function(e){if(g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=ce.ToNumber(e);if(X(t)){return 0}if(t===0||!K(t)){return t}return(t>0?1:-1)*_(k(t))},ToLength:function(e){var t=ce.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return X(e)&&X(t)},SameValueZero:function(e,t){return e===t||X(e)&&X(t)},IsIterable:function(e){return ce.TypeIsObject(e)&&(typeof e[ie]!=="undefined"||te(e))},GetIterator:function(e){if(te(e)){return new q(e,"value")}var t=ce.GetMethod(e,ie);if(!ce.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=ce.Call(t,e);if(!ce.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=ce.ToObject(e)[t];if(se(r)){return void 0}if(!ce.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=ce.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=ce.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!ce.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!ce.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=ce.IteratorNext(e);var r=ce.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ae.construct){return ae.construct(e,t,o)}var i=o.prototype;if(!ce.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=ce.Call(e,a,t);return ce.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!ce.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[J];if(se(n)){return t}if(!ce.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=ce.ToString(e);var i="<"+t;if(r!==""){var a=ce.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!ce.TypeIsObject(e)){return false}var t=e[$.match];if(typeof t!=="undefined"){return!!t}return re.regex(e)},ToString:function ToString(e){return ue(e)}};if(s&&oe){var le=function defineWellKnownSymbol(e){if(re.symbol($[e])){return $[e]}var t=$["for"]("Symbol."+e);Object.defineProperty($,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!re.symbol($.search)){var pe=le("search");var ve=String.prototype.search;h(RegExp.prototype,pe,function search(e){return ce.Call(ve,e,[this])});var ye=function search(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,pe);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(ve,t,[ce.ToString(e)])};ne(String.prototype,"search",ye)}if(!re.symbol($.replace)){var he=le("replace");var be=String.prototype.replace;h(RegExp.prototype,he,function replace(e,t){return ce.Call(be,e,[this,t])});var ge=function replace(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,he);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(be,r,[ce.ToString(e),t])};ne(String.prototype,"replace",ge)}if(!re.symbol($.split)){var de=le("split");var me=String.prototype.split;h(RegExp.prototype,de,function split(e,t){return ce.Call(me,e,[this,t])});var Oe=function split(e,t){var r=ce.RequireObjectCoercible(this);if(!se(e)){var n=ce.GetMethod(e,de);if(typeof n!=="undefined"){return ce.Call(n,e,[r,t])}}return ce.Call(me,r,[ce.ToString(e),t])};ne(String.prototype,"split",Oe)}var we=re.symbol($.match);var je=we&&function(){var e={};e[$.match]=function(){return 42};return"a".match(e)!==42}();if(!we||je){var Se=le("match");var Te=String.prototype.match;h(RegExp.prototype,Se,function match(e){return ce.Call(Te,e,[this])});var Ie=function match(e){var t=ce.RequireObjectCoercible(this);if(!se(e)){var r=ce.GetMethod(e,Se);if(typeof r!=="undefined"){return ce.Call(r,e,[t])}}return ce.Call(Te,t,[ce.ToString(e)])};ne(String.prototype,"match",Ie)}}var Ee=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in W||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in W||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Pe=function(){return this};var Ce=function(e){if(s&&!z(e,J)){m.getter(e,J,Pe)}};var Me=function(e,t){var r=t||function iterator(){return this};h(e,ie,r);if(!e[ie]&&re.symbol(ie)){e[ie]=r}};var xe=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ne=function createDataPropertyOrThrow(e,t,r){xe(e,t,r);if(!ce.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var Ae=function(e,t,r,n){if(!ce.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!ce.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(z(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;ne(String,"fromCodePoint",function fromCodePoint(e){return ce.Call(Re,this,arguments)})}var _e={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!ce.SameValue(r,ce.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function raw(e){var t=ce.ToObject(e,"bad callSite");var r=ce.ToObject(t.raw,"bad raw value");var n=r.length;var o=ce.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=ce.ToString(a);s=ce.ToString(r[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=ce.ToString(f);M(i,c);a+=1}return i.join("")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){ne(String,"raw",_e.raw)}b(String,_e);var ke=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Le=Infinity;var Fe={repeat:function repeat(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);if(r<0||r>=Le){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return ke(t,r)},startsWith:function startsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=ce.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=A(ce.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=ce.ToString(ce.RequireObjectCoercible(this));if(ce.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=ce.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:ce.ToInteger(o);var a=R(A(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(ce.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=ce.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=ce.ToString(ce.RequireObjectCoercible(this));var r=ce.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){ne(String.prototype,"includes",Fe.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var De=i(function(){return"/a/".startsWith(/a/)});var ze=a(function(){return"abc".startsWith("a",Infinity)===false});if(!De||!ze){ne(String.prototype,"startsWith",Fe.startsWith);ne(String.prototype,"endsWith",Fe.endsWith)}}if(oe){var qe=a(function(){var e=/a/;e[$.match]=false;return"/a/".startsWith(e)});if(!qe){ne(String.prototype,"startsWith",Fe.startsWith)}var We=a(function(){var e=/a/;e[$.match]=false;return"/a/".endsWith(e)});if(!We){ne(String.prototype,"endsWith",Fe.endsWith)}var Ge=a(function(){var e=/a/;e[$.match]=false;return"/a/".includes(e)});if(!Ge){ne(String.prototype,"includes",Fe.includes)}}b(String.prototype,Fe);var He=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Ve=new RegExp("(^["+He+"]+)|(["+He+"]+$)","g");var Be=function trim(){return ce.ToString(ce.RequireObjectCoercible(this)).replace(Ve,"")};var Ue=["\x85","\u200b","\ufffe"].join("");var $e=new RegExp("["+Ue+"]","g");var Je=/^[-+]0x[0-9a-f]+$/i;var Xe=Ue.trim().length!==Ue.length;h(String.prototype,"trim",Be,Xe);var Ke=function(e){return{value:e,done:arguments.length===0}};var Ze=function(e){ce.RequireObjectCoercible(e);this._s=ce.ToString(e);this._i=0};Ze.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ke()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ke(e.substr(t,o))};Me(Ze.prototype);Me(String.prototype,function(){return new Ze(this)});var Ye={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!ce.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(te(e)||ce.GetMethod(e,ie))!=="undefined";var u,f,s;if(a){f=ce.IsConstructor(r)?Object(new r):[];var c=ce.GetIterator(e);var l,p;s=0;while(true){l=ce.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){ce.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=ce.ToObject(e);u=ce.ToLength(y.length);f=ce.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ne(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!ce.IsCallable(t)?new Array(e):ce.Construct(t,[e]);for(var o=0;o<e;++o){Ne(n,o,arguments[o])}n.length=e;return n}};b(Array,Ye);Ce(Array);q=function(e,t){this.i=0;this.array=e;this.kind=t};b(q.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof q)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=ce.ToLength(t.length);for(;e<r;e++){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ke(o)}}this.array=void 0;return Ke()}});Me(q.prototype);var Qe=Array.of===Ye.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!Qe){ne(Array,"of",Ye.of)}var et={copyWithin:function copyWithin(e,t){var r=ce.ToObject(this);var n=ce.ToLength(r.length);var o=ce.ToInteger(e);var i=ce.ToInteger(t);var a=o<0?A(n+o,0):R(o,n);var u=i<0?A(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:ce.ToInteger(f);var c=s<0?A(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=ce.ToObject(this);var o=ce.ToLength(n.length);t=ce.ToInteger(typeof t==="undefined"?0:t);r=ce.ToInteger(typeof r==="undefined"?o:r);var i=t<0?A(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=ce.ToObject(this);var n=ce.ToLength(r.length);if(!ce.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new q(this,"key")},values:function values(){return new q(this,"value")},entries:function entries(){return new q(this,"entry")}};if(Array.prototype.keys&&!ce.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!ce.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ie]){b(Array.prototype,{values:Array.prototype[ie]});if(re.symbol($.unscopables)){Array.prototype[$.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var tt=Array.prototype.values;ne(Array.prototype,"values",function values(){return ce.Call(tt,this,arguments)});h(Array.prototype,ie,Array.prototype.values,true)}b(Array.prototype,et);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}Me(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){Me(Object.getPrototypeOf([].values()))}var rt=function(){return a(function(){return Array.from({length:-1}).length===0})}();var nt=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!rt||!nt){ne(Array,"from",Ye.from)}var ot=function(){return a(function(){return Array.from([0],void 0)})}();if(!ot){var it=Array.from;ne(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return ce.Call(it,this,arguments)}else{return t(it,this,e)}})}var at=-(Math.pow(2,32)-1);var ut=function(e,r){var n={length:at};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!ut(Array.prototype.forEach)){var ft=Array.prototype.forEach;ne(Array.prototype,"forEach",function forEach(e){return ce.Call(ft,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.map)){var st=Array.prototype.map;ne(Array.prototype,"map",function map(e){return ce.Call(st,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.filter)){var ct=Array.prototype.filter;ne(Array.prototype,"filter",function filter(e){return ce.Call(ct,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.some)){var lt=Array.prototype.some;ne(Array.prototype,"some",function some(e){return ce.Call(lt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.every)){var pt=Array.prototype.every;ne(Array.prototype,"every",function every(e){return ce.Call(pt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduce)){var vt=Array.prototype.reduce;ne(Array.prototype,"reduce",function reduce(e){return ce.Call(vt,this.length>=0?this:[],arguments)},true)}if(!ut(Array.prototype.reduceRight,true)){var yt=Array.prototype.reduceRight;ne(Array.prototype,"reduceRight",function reduceRight(e){return ce.Call(yt,this.length>=0?this:[],arguments)},true)}var ht=Number("0o10")!==8;var bt=Number("0b10")!==2;var gt=y(Ue,function(e){return Number(e+0+e)===0});if(ht||bt||gt){var dt=Number;var mt=/^0b[01]+$/i;var Ot=/^0o[0-7]+$/i;var wt=mt.test.bind(mt);var jt=Ot.test.bind(Ot);var St=function(e){var t;if(typeof e.valueOf==="function"){t=e.valueOf();if(re.primitive(t)){return t}}if(typeof e.toString==="function"){t=e.toString();if(re.primitive(t)){return t}}throw new TypeError("No default value")};var Tt=$e.test.bind($e);var It=Je.test.bind(Je);var Et=function(){var e=function Number(t){var r;if(arguments.length>0){r=re.primitive(t)?t:St(t,"number")}else{r=0}if(typeof r==="string"){r=ce.Call(Be,r);if(wt(r)){r=parseInt(C(r,2),2)}else if(jt(r)){r=parseInt(C(r,2),8)}else if(Tt(r)||It(r)){r=NaN}}var n=this;var o=a(function(){dt.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new dt(r)}return dt(r)};return e}();Ee(dt,Et,{});b(Et,{NaN:dt.NaN,MAX_VALUE:dt.MAX_VALUE,MIN_VALUE:dt.MIN_VALUE,NEGATIVE_INFINITY:dt.NEGATIVE_INFINITY,POSITIVE_INFINITY:dt.POSITIVE_INFINITY});Number=Et;m.redefine(S,"Number",Et)}var Pt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Pt,MIN_SAFE_INTEGER:-Pt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:K,isInteger:function isInteger(e){return K(e)&&ce.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&k(e)<=Number.MAX_SAFE_INTEGER},isNaN:X});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){ne(Array.prototype,"find",et.find)}if([,1].findIndex(function(){return true})!==0){ne(Array.prototype,"findIndex",et.findIndex)}var Ct=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Mt=function ensureEnumerable(e,t){if(s&&Ct(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var xt=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var Nt=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var At=function(e,t){var r=n(Object(t));var o;if(ce.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),Ct(t))}return p(P(r,o||[]),Nt(t),e)};var Rt={assign:function(e,t){var r=ce.ToObject(e,"Cannot convert undefined or null to object");return p(ce.Call(xt,1,arguments),At,r)},is:function is(e,t){return ce.SameValue(e,t)}};var _t=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(_t){ne(Object,"assign",Rt.assign)}b(Object,Rt);if(s){var kt={setPrototypeOf:function(e,r){var n;var o=function(e,t){if(!ce.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||ce.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var i=function(e,r){o(e,r);t(n,e,r);return e};try{n=e.getOwnPropertyDescriptor(e.prototype,r).set;t(n,{},null)}catch(a){if(e.prototype!=={}[r]){return}n=function(e){this[r]=e};i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object,"__proto__")};b(Object,kt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Lt=!i(function(){return Object.keys("foo")});if(!Lt){var Ft=Object.keys;ne(Object,"keys",function keys(e){return Ft(ce.ToObject(e))});n=Object.keys}var Dt=i(function(){return Object.keys(/a/g)});if(Dt){var zt=Object.keys;ne(Object,"keys",function keys(e){if(re.regex(e)){var t=[];for(var r in e){if(z(e,r)){M(t,r)}}return t}return zt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var qt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!qt){var Wt=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Gt=Object.getOwnPropertyNames;ne(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=ce.ToObject(e);if(g(t)==="[object Window]"){try{return Gt(t)}catch(r){return P([],Wt)}}return Gt(t)})}}if(Object.getOwnPropertyDescriptor){var Ht=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Ht){var Vt=Object.getOwnPropertyDescriptor;ne(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Vt(ce.ToObject(e),t)})}}if(Object.seal){var Bt=!i(function(){return Object.seal("foo")});if(!Bt){var Ut=Object.seal;ne(Object,"seal",function seal(e){if(!ce.TypeIsObject(e)){return e}return Ut(e)})}}if(Object.isSealed){var $t=!i(function(){return Object.isSealed("foo")});if(!$t){var Jt=Object.isSealed;ne(Object,"isSealed",function isSealed(e){if(!ce.TypeIsObject(e)){return true}return Jt(e)})}}if(Object.freeze){var Xt=!i(function(){return Object.freeze("foo")});if(!Xt){var Kt=Object.freeze;ne(Object,"freeze",function freeze(e){if(!ce.TypeIsObject(e)){return e}return Kt(e)})}}if(Object.isFrozen){var Zt=!i(function(){return Object.isFrozen("foo")});if(!Zt){var Yt=Object.isFrozen;ne(Object,"isFrozen",function isFrozen(e){if(!ce.TypeIsObject(e)){return true}return Yt(e)})}}if(Object.preventExtensions){var Qt=!i(function(){return Object.preventExtensions("foo")});if(!Qt){var er=Object.preventExtensions;ne(Object,"preventExtensions",function preventExtensions(e){if(!ce.TypeIsObject(e)){return e}return er(e)})}}if(Object.isExtensible){var tr=!i(function(){return Object.isExtensible("foo")});if(!tr){var rr=Object.isExtensible;ne(Object,"isExtensible",function isExtensible(e){if(!ce.TypeIsObject(e)){return false}return rr(e)})}}if(Object.getPrototypeOf){var nr=!i(function(){return Object.getPrototypeOf("foo")});if(!nr){var or=Object.getPrototypeOf;ne(Object,"getPrototypeOf",function getPrototypeOf(e){return or(ce.ToObject(e))})}}var ir=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&ce.IsCallable(e.get)}();if(s&&!ir){var ar=function flags(){if(!ce.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",ar)}var ur=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var fr=oe&&s&&function(){var e=/./;e[$.match]=false;return RegExp(e)===e}();var sr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var cr=sr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!sr||!cr){var lr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=ce.RequireObjectCoercible(this);if(re.regex(e)){return t(lr,e)}var r=ue(e.source);var n=ue(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,lr)}if(s&&(!ur||fr)){var pr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var vr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var yr=function(){return this.source};var hr=ce.IsCallable(vr.get)?vr.get:yr;var br=RegExp;var gr=function(){return function RegExp(e,t){var r=ce.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(re.regex(e)){o=ce.Call(hr,e);i=typeof t==="undefined"?ce.Call(pr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new br(e,t)}}();Ee(br,gr,{$input:true});RegExp=gr;m.redefine(S,"RegExp",gr)}if(s){var dr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(dr),function(e){if(e in RegExp&&!(dr[e]in RegExp)){m.getter(RegExp,dr[e],function get(){return RegExp[e]})}})}Ce(RegExp);var mr=1/Number.EPSILON;var Or=function roundTiesToEven(e){return e+mr-mr};var wr=Math.pow(2,-23);var jr=Math.pow(2,127)*(2-wr);var Sr=Math.pow(2,-126);var Tr=Math.E;var Ir=Math.LOG2E;var Er=Math.LOG10E;var Pr=Number.prototype.clz;delete Number.prototype.clz;var Cr={acosh:function acosh(e){var t=Number(e);if(X(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Y(t-1+D(1-r)*t)}var n=t/2;return Y(n+D(1-r)*n-1)+1/Ir},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=k(t);var n=r*r;var o=Z(t);if(r<1){return o*Y(r+n/(D(n+1)+1))}return o*(Y(r/2+D(1+1/n)*r/2-1)+1/Ir)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(X(t)||t<-1||t>1){return NaN}var r=k(t);return Z(t)*Y(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=L(F(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=ce.ToUint32(t);if(r===0){return 32}return Pr?ce.Call(Pr,r):31-_(F(r+.5)*Ir)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(X(t)){return NaN}if(!T(t)){return Infinity}var r=L(k(t)-1);return(r+1/(r*Tr*Tr))*(Tr/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(k(t)>.5){return L(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=k(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*D(r)},log2:function log2(e){return F(e)*Ir},log10:function log10(e){return F(e)*Er},log1p:Y,sign:Z,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=k(t);if(r<1){var n=Math.expm1(r);return Z(t)*n*(1+1/(n+1))/2}var o=L(r-1);return Z(t)*(o-1/(o*Tr*Tr))*(Tr/2)},tanh:function tanh(e){var t=Number(e);if(X(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(L(t)+L(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-_(-t):_(t)},imul:function imul(e,t){var r=ce.ToUint32(e);var n=ce.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||X(t)){return t}var r=Z(t);var n=k(t);if(n<Sr){return r*Or(n/Sr/wr)*Sr*wr}var o=(1+wr/Number.EPSILON)*n;var i=o-(o-n);if(i>jr||X(i)){return r*Infinity}return r*i}};var Mr=function withinULPDistance(e,t,r){return k(1-e/t)/Number.EPSILON<(r||8)};b(Math,Cr);h(Math,"sinh",Cr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",Cr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",Cr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",Cr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));h(Math,"asinh",Cr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",Cr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",Cr.tanh,Math.tanh(-2e-17)!==-2e-17);
h(Math,"acosh",Cr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",Cr.acosh,!Mr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",Cr.cbrt,!Mr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",Cr.sinh,Math.sinh(-2e-17)!==-2e-17);var xr=Math.expm1(10);h(Math,"expm1",Cr.expm1,xr>22025.465794806718||xr<22025.465794806718);var Nr=Math.round;var Ar=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var Rr=mr+1;var _r=2*mr-1;var kr=[Rr,_r].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=_(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Ar||!kr);m.preserveToString(Math.round,Nr);var Lr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=Cr.imul;m.preserveToString(Math.imul,Lr)}if(Math.imul.length!==2){ne(Math,"imul",function imul(e,t){return ce.Call(Lr,Math,arguments)})}var Fr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}ce.IsPromise=function(e){if(!ce.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!ce.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(ce.IsCallable(t.resolve)&&ce.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&ce.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=N(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=ce.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(ce.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!ce.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!ce.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!ce.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=Ae(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=ce.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=ce.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=ce.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{ce.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!ce.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(ce.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!ce.IsPromise(n)){throw new TypeError("not a promise")}var o=ce.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=ce.IsCallable(e)?e:a;var d=ce.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof Fr==="function"){b(S,{Promise:Fr});var Dr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var zr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,W)});var qr=i(function(){return S.Promise.call(3,W)});var Wr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,W).then(null,W)}catch(n){return true}return t===r}(S.Promise);var Gr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Hr=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Hr.prototype=Promise.prototype;Hr.all=Promise.all;var Vr=a(function(){return!!Hr.all([1,2])});if(!Dr||!zr||!qr||Wr||!Gr||Vr){Promise=Fr;ne(S,"Promise",Fr)}if(Promise.all.length!==1){var Br=Promise.all;ne(Promise,"all",function all(e){return ce.Call(Br,this,arguments)})}if(Promise.race.length!==1){var Ur=Promise.race;ne(Promise,"race",function race(e){return ce.Call(Ur,this,arguments)})}if(Promise.resolve.length!==1){var $r=Promise.resolve;ne(Promise,"resolve",function resolve(e){return ce.Call($r,this,arguments)})}if(Promise.reject.length!==1){var Jr=Promise.reject;ne(Promise,"reject",function reject(e){return ce.Call(Jr,this,arguments)})}Mt(Promise,"all");Mt(Promise,"race");Mt(Promise,"resolve");Mt(Promise,"reject");Ce(Promise)}var Xr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Kr=Xr(["z","a","bb"]);var Zr=Xr(["z",1,"a","3",2]);if(s){var Yr=function fastkey(e,t){if(!t&&!Kr){return null}if(se(e)){return"^"+ce.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Zr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var Qr=function emptyObject(){return Object.create?Object.create(null):{}};var en=function addIterableToMap(e,n,o){if(r(o)||re.string(o)){l(o,function(e){if(!ce.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!se(o)){a=n.set;if(!ce.IsCallable(a)){throw new TypeError("bad map")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!ce.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){ce.IteratorClose(i,true);throw s}}}}};var tn=function addIterableToSet(e,n,o){if(r(o)||re.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!se(o)){a=n.add;if(!ce.IsCallable(a)){throw new TypeError("bad set")}i=ce.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=ce.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){ce.IteratorClose(i,true);throw s}}}}};var rn={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!ce.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+ce.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");this.head=e._head;this.i=this.head;this.kind=t};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ke()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ke(n)}}this.i=void 0;return Ke()}};Me(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=Ae(this,Map,a,{_es6map:true,_head:null,_map:G?new G:null,_size:0,_storage:Qr()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){en(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=Yr(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}else{return}}if(this._map){t=V.call(this._map,e);if(t){return t.value}else{return}}var n=this._head;var i=n;while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=Yr(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return B.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(ce.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=Yr(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}else{a=this._storage[u]=new r(e,t);i=n.prev}}else if(this._map){if(B.call(this._map,e)){V.call(this._map,e).value=t}else{a=new r(e,t);U.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(ce.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(ce.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=Yr(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!B.call(this._map,t)){return false}n=V.call(this._map,t).prev;H.call(this._map,t)}while((n=n.next)!==r){if(ce.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=G?new G:null;this._size=0;this._storage=Qr();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});Me(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!ce.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+ce.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=Ae(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:Qr()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){tn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}else{var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new rn.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=Yr(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=Yr(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=Yr(e))!==null){var n=z(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=Qr()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);Me(i.prototype,i.prototype.values);var f=function SetIterator(e){this.it=e};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};Me(f.prototype);return i}()};var nn=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(nn){S.Set=rn.Set}if(S.Map||S.Set){var on=a(function(){return new Map([[1,2]]).get(1)===2});if(!on){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(G.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var an=new Map;var un=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var fn=an.set(1,2)===an;if(!un||!fn){ne(Map.prototype,"set",function set(e,r){t(U,this,e===0?0:e,r);return this})}if(!un){b(Map.prototype,{get:function get(e){return t(V,this,e===0?0:e)},has:function has(e){return t(B,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,V);m.preserveToString(Map.prototype.has,B)}var sn=new Set;var cn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(sn);var ln=sn.add(1)===sn;if(!cn||!ln){var pn=Set.prototype.add;Set.prototype.add=function add(e){t(pn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,pn)}if(!cn){var vn=Set.prototype.has;Set.prototype.has=function has(e){return t(vn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,vn);var yn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(yn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],yn)}var hn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var bn=Object.setPrototypeOf&&!hn;var gn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||bn||!gn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new G;if(arguments.length>0){en(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=G.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,G)}var dn=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var mn=Object.setPrototypeOf&&!dn;var On=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||mn||!On){var wn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new wn;if(arguments.length>0){tn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=wn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,wn)}var jn=new S.Map;var Sn=!a(function(){return jn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||jn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof jn.keys().next!=="function"||Sn||!hn){b(S,{Map:rn.Map,Set:rn.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}Me(Object.getPrototypeOf((new S.Map).keys()));Me(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var Tn=S.Set.prototype.has;ne(S.Set.prototype,"has",function has(e){return t(Tn,this,e)})}}b(S,rn);Ce(S.Map);Ce(S.Set)}var In=function throwUnlessTargetIsObject(e){if(!ce.TypeIsObject(e)){throw new TypeError("target must be an object")}};var En={apply:function apply(){return ce.Call(ce.Call,null,arguments)},construct:function construct(e,t){if(!ce.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!ce.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return ce.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){In(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){In(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(En,{ownKeys:function ownKeys(e){In(e);var t=Object.getOwnPropertyNames(e);if(ce.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Pn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(En,{isExtensible:function isExtensible(e){In(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){In(e);return Pn(function(){return Object.preventExtensions(e)})}})}if(s){var Cn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return Cn(o,t,r)}if("value"in n){return n.value}if(n.get){return ce.Call(n.get,r)}return void 0};var Mn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Mn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!ce.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ae.defineProperty(o,r,{value:n})}else{return ae.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}}if(i.set){t(i.set,o,n);return true}return false};Object.assign(En,{defineProperty:function defineProperty(e,t,r){In(e);return Pn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){In(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){In(e);var r=arguments.length>2?arguments[2]:e;return Cn(e,t,r)},set:function set(e,t,r){In(e);var n=arguments.length>3?arguments[3]:e;return Mn(e,t,r,n)}})}if(Object.getPrototypeOf){var xn=Object.getPrototypeOf;En.getPrototypeOf=function getPrototypeOf(e){In(e);return xn(e)}}if(Object.setPrototypeOf&&En.getPrototypeOf){var Nn=function(e,t){var r=t;while(r){if(e===r){return true}r=En.getPrototypeOf(r)}return false};Object.assign(En,{setPrototypeOf:function setPrototypeOf(e,t){In(e);if(t!==null&&!ce.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ae.getPrototypeOf(e)){return true}if(ae.isExtensible&&!ae.isExtensible(e)){return false}if(Nn(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var An=function(e,t){if(!ce.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){ne(S.Reflect,e,t)}}};Object.keys(En).forEach(function(e){An(e,En[e])});var Rn=S.Reflect.getPrototypeOf;if(c&&Rn&&Rn.name!=="getPrototypeOf"){ne(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(Rn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){ne(S.Reflect,"setPrototypeOf",En.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){ne(S.Reflect,"defineProperty",En.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){ne(S.Reflect,"construct",En.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var _n=Date.prototype.toString;var kn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return ce.Call(_n,this)};ne(Date.prototype,"toString",kn)}var Ln={anchor:function anchor(e){return ce.CreateHTML(this,"a","name",e)},big:function big(){return ce.CreateHTML(this,"big","","")},blink:function blink(){return ce.CreateHTML(this,"blink","","")},bold:function bold(){return ce.CreateHTML(this,"b","","")},fixed:function fixed(){return ce.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return ce.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return ce.CreateHTML(this,"font","size",e)},italics:function italics(){return ce.CreateHTML(this,"i","","")},link:function link(e){return ce.CreateHTML(this,"a","href",e)},small:function small(){return ce.CreateHTML(this,"small","","")},strike:function strike(){return ce.CreateHTML(this,"strike","","")},sub:function sub(){return ce.CreateHTML(this,"sub","","")},sup:function sub(){return ce.CreateHTML(this,"sup","","")}};l(Object.keys(Ln),function(e){var r=String.prototype[e];var n=false;if(ce.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){ne(String.prototype,e,Ln[e])}});var Fn=function(){if(!oe){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e($())!=="undefined"){return true}if(e([$()])!=="[null]"){return true}var t={a:$()};t[$()]=true;if(e(t)!=="{}"){return true}return false}();var Dn=a(function(){if(!oe){return true}return JSON.stringify(Object($()))==="{}"&&JSON.stringify([Object($())])==="[{}]"});if(Fn||!Dn){var zn=JSON.stringify;ne(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=ce.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(re.symbol(n)){return Nt({})(n)}else{return n}}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return zn.apply(this,o)})}return S});
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return n.indexOf(t)==-1&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return n!=-1&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(e,r),delete n[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){if(Array.isArray(e))return e;var t="object"==typeof e&&"number"==typeof e.length;return t?d.call(e):[e]}function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);var s=e;return"string"==typeof e&&(s=document.querySelectorAll(e)),s?(this.elements=n(s),this.options=i({},this.options),"function"==typeof t?r=t:i(this.options,t),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(this.check.bind(this))):void a.error("Bad element for imagesLoaded "+(s||e))}function r(e){this.img=e}function s(e,t){this.url=e,this.element=t,this.img=new Image}var h=e.jQuery,a=e.console,d=Array.prototype.slice;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new s(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(h=t,h.fn.imagesLoaded=function(e,t){var i=new o(this,e,t);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
/*! lz-string-1.3.3-min.js | (c) 2013 Pieroxy | Licensed under a WTFPL license */
var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/dist/FileSaver.js */
(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});
/*! seedrandom.js v2.3.3 | (c) 2013 David Bau, all rights reserved. | Licensed under a BSD-style license */
!function(a,b,c,d,e,f,g,h,i){function j(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=r&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=r&f+1],c=c*d+h[r&(h[f]=h[g=r&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function k(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)try{d.push(k(a[c],b-1))}catch(f){}return d.length?d:"string"==e?a:a+"\0"}function l(a,b){for(var c,d=a+"",e=0;e<d.length;)b[r&e]=r&(c^=19*b[r&e])+d.charCodeAt(e++);return n(b)}function m(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),n(c)}catch(e){return[+new Date,a,(c=a.navigator)&&c.plugins,a.screen,n(b)]}}function n(a){return String.fromCharCode.apply(0,a)}var o=c.pow(d,e),p=c.pow(2,f),q=2*p,r=d-1,s=c["seed"+i]=function(a,f,g){var h=[],r=l(k(f?[a,n(b)]:null==a?m():a,3),h),s=new j(h);return l(n(s.S),b),(g||function(a,b,d){return d?(c[i]=a,b):a})(function(){for(var a=s.g(e),b=o,c=0;p>a;)a=(a+c)*d,b*=d,c=s.g(1);for(;a>=q;)a/=2,b/=2,c>>>=1;return(a+c)/b},r,this==c)};l(c[i](),b),g&&g.exports?g.exports=s:h&&h.amd&&h(function(){return s})}(this,[],Math,256,6,52,"object"==typeof module&&module,"function"==typeof define&&define,"random");
/*! console_hack.js | (c) 2015 Thomas Michael Edwards | Licensed under SugarCube's Simple BSD license */
!function(){for(var methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,noop=function(){},console=window.console=window.console||{};length--;){var method=methods[length];console[method]||(console[method]=noop)}}();
}else{document.documentElement.setAttribute("data-init", "lacking");}
</script>
<style id="style-normalize" type="text/css">/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}</style>
<style id="style-init-screen" type="text/css">@-webkit-keyframes init-loading-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes init-loading-spin{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes init-loading-spin{0%{-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}#init-screen{display:none;z-index:500000;position:fixed;top:0;left:0;height:100%;width:100%;font:28px/1 Helmet,Freesans,sans-serif;font-weight:700;color:#eee;background-color:#111;text-align:center}#init-screen>div{display:none;position:relative;margin:0 auto;max-width:1136px;top:25%}html[data-init=lacking] #init-screen,html[data-init=loading] #init-screen,html[data-init=no-js] #init-screen{display:block}html[data-init=lacking] #init-lacking,html[data-init=no-js] #init-no-js{display:block;padding:0 1em}html[data-init=no-js] #init-no-js{color:red}html[data-init=loading] #init-loading{display:block;border:24px solid transparent;border-radius:50%;border-top-color:#7f7f7f;border-bottom-color:#7f7f7f;width:100px;height:100px;-webkit-animation:init-loading-spin 2s linear infinite;-o-animation:init-loading-spin 2s linear infinite;animation:init-loading-spin 2s linear infinite}html[data-init=loading] #init-loading>div{text-indent:9999em;overflow:hidden;white-space:nowrap}html[data-init=loading] #passages,html[data-init=loading] #ui-bar{display:none}</style>
<style id="style-font" type="text/css">@font-face{font-family:tme-fa-icons;src:url('data:application/octet-stream;base64,d09GRgABAAAAADLAAA8AAAAAWHgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABWAAAADsAAABUIIslek9TLzIAAAGUAAAAQwAAAFY+IEkIY21hcAAAAdgAAAG8AAAF3rob9jFjdnQgAAADlAAAABMAAAAgBtX/BGZwZ20AAAOoAAAFkAAAC3CKkZBZZ2FzcAAACTgAAAAIAAAACAAAABBnbHlmAAAJQAAAI6gAADv+gJOpzGhlYWQAACzoAAAAMwAAADYY1IZaaGhlYQAALRwAAAAgAAAAJAfCBClobXR4AAAtPAAAAJEAAAFMBfb/0WxvY2EAAC3QAAAAqAAAAKhjiHI5bWF4cAAALngAAAAgAAAAIAFjDA9uYW1lAAAumAAAAY0AAAL94+zEpHBvc3QAADAoAAACHAAAA11cG/YjcHJlcAAAMkQAAAB6AAAAhuVBK7x4nGNgZGBg4GIwYLBjYHJx8wlh4MtJLMljkGJgYYAAkDwymzEnMz2RgQPGA8qxgGkOIGaDiAIAJjsFSAB4nGNgZNZgnMDAysDAVMW0h4GBoQdCMz5gMGRkAooysDIzYAUBaa4pDA4vGF4EMgf9z2KIYg5imAYUZgTJAQDSIQumAHic7dTVbltRAETR7dpNCikzQ8rMzMxt/M39mHnsU1/TfZz5jFpaV7pXJunMDLAZmOqaZjD5y4Tx+uPTyeL5lG2L5zN+L94zG8+ztr7ulXH1fra4bvK9M79xiWW2sNXPbWeFHexkF7vZw172sZ8DHOQQhznCUY5xnBOc5BSnOcNZVjnHeS5wkUtc5gpX/f3r3OAmt7jNHe5yj/s84CGPeMwTnvKM57zgJa94zRve8o73fOAjn/jMF77yje/84Ce/WGPun1zi/2tlXKbp3Xyc44bFyZanSWokJDXOOjXSk/LUSXn+pEwCKTNBaqQqZU5IjX+XMjukTBEp80TKZJEyY6RMGylzR8oEkjKLpEwlKfNJyqSSMrOkTC8pc0zKRJMy26RMOSnzTsrkk7IDpGwDKXtByoaQsiukbA0p+0PKJpGyU6RsFyl7RmosQcrukbKFpOwjKZtJyo6Ssq2k7C0pG0zKLpOy1aTsNymbTsrOk7L9pNwBUi4CKbeBlCtByr0g5XKQckNIuSak3BVSLgwpt4aUq0PK/SHlEpFyk0i5TqTcKVIuFim3i5QrRso9I+WykXLjXOYNzP8BuAPUwHicY2BAAxIQyBz0PwuEARJsA90AeJytVml300YUHXlJnIQsJQstamHExGmwRiZswYAJQbJjIF2crZWgixQ76b7xid/gX/Nk2nPoN35a7xsvJJC053Cak6N3583VzNtlElqS2AvrkZSbL8XU1iaN7DwJ6YZNy1F8KDt7IWWKyd8FURCtltq3HYdERCJQta6wRBD7HlmaZHzoUUbLtqRXTcotPekuW+NBvVXffho6yrE7oaRmM3RoPbIlVRhVokimPVLSpmWo+itJK7y/wsxXzVDCiE4iabwZxtBI3htntMpoNbbjKIpsstwoUiSa4UEUeZTVEufkigkMygfNkPLKpxHlw/yIrNijnFawS7bT/L4vead3OT+xX29RtuRAH8iO7ODsdCVfhFtbYdy0k+0oVBF213dCbNnsVP9mj/KaRgO3KzK90IxgqXyFECs/ocz+IVktnE/5kkejWrKRE0HrZU7sSz6B1uOIKXHNGFnQ3dEJEdT9kjMM9pg+Hvzx3imWCxMCeBzLekclnAgTKWFzNEnaMHJgJWWLKqn1rpg45XVaxFvCfu3a0ZfOaONQd2I8Ww8dWzlRyfFoUqeZTJ3aSc2jKQ2ilHQmeMyvAyg/oklebWM1iZVH0zhmxoREIgIt3EtTQSw7saQpBM2jGb25G6a5di1apMkD9dyj9/TmVri501PaDvSzRn9Wp2I62AvT6WnkL/Fp2uUiRen66Rl+TOJB1gIykS02w5SDB2/9DtLL15YchdcG2O7t8yuofdZE8KQB+xvQHk/VKQlMhZhViFZAYq1rWZbJ1awWqcjUd0OaVr6s0wSKchwXx76Mcf1fMzOWmBK+34nTsyMuPXPtSwjTHHybdT2a16nFcgFxZnlOp1mW7+s0x/IDneZZntfpCEtbp6MsP9RpgeVHOh1jeUELmnTfwZCLMOQCDpAwhKUDQ1hegiEsFQxhuQhDWBZhCMslGMLyYxjCchmGsLysZdXUU0nj2plYBmxCYGKOHrnMReVqKrlUQrtoVGpDnhJulVQUz6p/ZaBePPKGObAWSJfIml8xzpWPRuX41hUtbxo7V8Cx6m8fjvY58VLWi4U/Bf/V1lQlvWLNw5Or8BuGnmwnqjapeHRNl89VPbr+X1RUWAv0G0iFWCjKsmxwZyKEjzqdhmqglUPMbMw8tOt1y5qfw/03MUIWUP34NxQaC9yDTllJWe3grNXX27LcO4NyOBMsSTE38/pW+CIjs9J+kVnKno98HnAFjEpl2GoDrRW82ScxD5neJM8EcVtRNkja2M4EiQ0c84B5850EJmHqqg3kTuGGDfgFYW7BeSdconqjLIfuRezzKKT8W6fiRPaoaIzAs9kbYa/vQspvcQwkNPmlfgxUFaGpGDUV0DRSbqgGX8bZum1Cxg70Iyp2w7Ks4sPHFveVkm0ZhHykiNWjo5/WXqJOqtx+ZhSX752+BcEgNTF/e990cZDKu1rJMkdtA1O3GpVT15pD41WH6uZR9b3j7BM5a5puuiceel/TqtvBxVwssPZtDtJSJhfU9WGFDaLLxaVQ6mU0Se+4BxgWGNDvUIqN/6v62HyeK1WF0XEk307Ut9HnYAz8D9h/R/UD0Pdj6HINLs/3mhOfbvThbJmuohfrp+g3MGutuVm6BtzQdAPiIUetjrjKDXynBnF6pLkc6SHgY90V4gHAJoDF4BPdtYzmUwCj+Yw5PsDnzGHQZA6DLeYw2GbOGsAOcxjsMofBHnMYfMGcdYAvmcMgZA6DiDkMnjAnAHjKHAZfMYfB18xh8A1z7gN8yxwGMXMYJMxhsK/p1jDMLV7QXaC2QVWgA1NPWNzD4lBTZcj+jheG/b1BzP7BIKb+qOn2kPoTLwz1Z4OY+otBTP1V050h9TdeGOrvBjH1D4OY+ky/GMtlBr+MfJcKB5RdbD7n74n3D9vFQLkAAQAB//8AD3icrXsLcFzlleZ//v+++nb37dfte/VotVrdrW5JltuKpO6WJVluPyXbsmOEbGRjO4KVjWPZlsM4QIU4IYGlgCE2yxqKIQkJg2GreKQCTCZb1CZkiswjzOwOmSTATNVWTZLdDUwSMrVDsomD23vOf69assFAqgbk+773P4//nPOdc/5mwNjFl8WjosbaWblmxiOmIlTGYXzb11M7Z2ohAMbZCcZ5iG9prZl4whfwGju05xtttitUdwXYEUgkbQtWga5lC+XBaqJI285qpb8dVEc8Gnm5L5QM/f58yAlB399a7dD0mWAmdAqaMvBmKPKX9TdDwSjod9yhx03FAPcvI6Gk2lV33XoXUtKgL8C6Wa0WSzXbVjhg6JoqIPShCK0FOvOuE48K1V4B1VUQAVevugmP7Fz2CmTzW5/8+ZGP/+Kp7h/8oI4MuOZ7M5B9IvujH2Wf+PnCAjzn8ZK6AieMKRcvXnxWWSWCzGARlPcqtqs21WZzEBFgYIVDAYWzVJIrXBlH+hXGlWNM00GAJmYZ8sKBzTJFVZVppijqDFMVdTIWLa0o5JrdaHusPZGIG1IjFhQGK2mAZEe56kJnR1bTY7ZT7eivFGODBTdma3pHtlCNDVbwmgMHx/aO4R8ffeet5/ZCG6TfuV03IaSJU3oIzKsGO9+5PV+BwU5xqnOQx1aO8fW71yvD9fPn55/fA22PmsaFvfSgwZ8wzPiFvZ2DUMnzJ2hHVDMmHucPsSRrq7UQo4DMAV/AW7CANw/Zru3NIx20bBEpXwukArlxxOPReibaG63/SyQyiftzcBy3k1HuOHgjEgFHnkYfh4VodDJC4138Ff8hv5PlWbrWmm2O6grNEgGNCWGnbFtRm1Z04gzQPPWvkqMWF4eWU8DB267Df+gNe84bBvfRpfNI5Ny5yAmHDh5/PPLuByMlekDS9DsRR73nWHetwBShSO5PqCBQONO4E2wGlSvYZG6gMzeQ09SWFZC0tWION3oOVVXGTbGM+hrAzQj0O25yoN8R8YzzRsaZdzLwhpsGPEm783hAJ9+kq286eDX5pn/VydDjvk7i8EuchU21JJ3DNOqFzeABmywPcNXxhu/wB+3whrqwVw7Cn1j8vPfdDH6O7PR3fDV/Cb85wua/waSit309grZJHHOhHEQ9CA7zTGVCUb0ZvXzc1lrRe5Af+4An0aSL9op0IU9y6vRFtAYGKy7KJGFbQrdg2dXqGAwWilld0zUy9xLqd6A/zeFuy7gzYFmBOwOhZ6NNhZakm8YTI7S1pyM1mM032V26qevXGlzZ8+TKvROlB/BBkO9ACDalB7OZuBnuC5tRcAItpalENNOfhajVH1A2a1HjbHZ4N4r54oWLz4qPoe4jrMo2sonapm5QRQBQ3XycKVxwRRxjQuVCnWc6mrzOZ5FvBiraOmia5FubYRpok8n0ioRTKOQMNbWiszxYWAFZrQ1sB+dDJTFYghzyiBN3oB857ndIAha4Se/+YGUtjAkXXUO2xPE2eoe3TWPeMOXmzNi+j9w1HghvVbSAmu4c6nFac6MgbzXFU2baDr1241+98TfHtU/9t7df+MzU4msmfPYj06Wbw8Gqohda0/FkSyiyvtPGG/FsMKq1pLqmPvndkye/+y+08eYIHEJZpFmJra2Nop/VWuKcCwPvgRhnGlOFps6iIdAEmFVAKh53jblZyBU6nAFdbfX03tGwioZ9oGnEyDSWTQCyFzhoR+s/jdjgWLmc3L2K21zEmXCsM5aDm4g9Ny5v0PZVb+dY9Rcd/sl5eTiPj0nTaeiU+BhhW2qbuzJcUy2Nc2gCrjBkxWCqZiArGgOuwSzjAlDb5L91XfpvfYbpij6ZRIUWYoVcLqC2+UqNLddsMrekY3GZztVl2uQjpl4xjedIM+Uybc/r5viShuHgcgXuwQtpuoMHz8utCe/s8S+Y/7xMaYu2DX1yDrez3lp3cyyKdop+HLcLi878Uh9SKOSlj73cOIUFRVKVKHhaSS9JP452RCcYoJ3w85bz8Ckp9VN4xeZj9atpH4FnPCV4OtiDNIVYCrWwsbauK81VxUlaQnA+riFBisoUsiU0LbQpASCmmRAwg1MNJoH19uQ6WpriUV1jIQjphA5QjosiTfiy1tF+kPJKMTFYpAu6lkx40odnTv7VjYtC/QtTJyGH9HmMnKamGrcaqmaagRsMUwR9WeLmwsQREvIRevSvYa8uVFXo9Sc0w5A8/Rp5+jcxhXLuYAOIx/pbY+ggFp0FV8lNoLNAEQvyDkwBZR9T1ZC6xR0qFgsybix3DJcR7iIGwCsCHHQM0nYKVSBXQZPnqG7KDZiqrn8K524gpN9ghAx42k4GsvF3nohnA0kbnglkC9mrl7h4Db2TommKcVE1QOPRd97K5WJxsKO5nIjHbHtx/og3kK8iWys1he/EkKlqCbFOB6iKQp5Q5Yp6DB0AsjmPvHEFSGsoFraPaVpI2zLc2lmudErjJ/eeQwbKPoRBZulcwhwXYc6i1SdiEpiCF+KrFOIrAzKaHdhQ79tw4MAGuJv4rt8sQQu80jloGnnDfNVJBa+vn1WjSg1d8NHrg44FbTgdJ5+T77yy/gDI5wY7633yTbI7+CdyMDyEL2paDd0BvZjyfIYXH2/H+aqjDfXUisgnk3rFYMePoyZBegWanQpM5hKdlUSU1JnoQH2iG1d90IYADi0JPV2/oxMEeB7apm+aBngFw/ObMjzHzv7dgzyOh48fHZnmO9c8Wv+2RAGwHiP20UNnzx46mvYxyaMixDpZX22lQqQgRDqG4kYcMo92cpypAOo0Ti+iSYXJRGc5l8wvQhPfqpE0SYa7nDwkeQyh26OOlbecqVumoCwJ8+mDm+9/5T4eOyOt+4wk8WjavYTIG+7nD5Li2cWv8zGkMYoz51q2u3Y1JQSwfcumSn9JUxW0CZIWQ5isqKCo8zoGFPybx/lyHD2w4AaCBw7Ap1HIxAaHyZlr1tXG1owMt7h5Ox5QmxF4Iv6vDhaQoTFAYADuYIlnLa7b7RwtiOBDtVK1dbyCMXXxn5azOIIKfLFKaQP9K3HKIMYEQosvhkIWH23TQ9wIpCq9M4WxycnJsQIUYrEJ/bPGuOZohfHVzdmMaAmHm418c7DU3xdoyYPebFktPJtpHu7fefjw4R0VHiNTa06ZUTPe09a1sdTUVNrYtbo3nth11VW7tBa1d/U1a1t71rdG2u1IJNkWDYdbUs0pnnFT+OloWzISsdsjqVpvy9prqrNjed41POfPx2+J7TIXaWP5Wgf5bvToBEvpppQYOXPOJoda4gTQE6TsNK8sAvUSSHBFygfnfM9wL+8aK/Bddv0tZ8SufyKZ7ml7s20iCWdsPpPu4YVaXuur/2M6WX8riReTE21vtPUAnn4iyTxdf0vJ+/QM0pwsUL4D5BmUBQEeXpaU4W6RtExzN1In7eT9qHPpIoUdqAzSrdyHIPo1JNRps1uioCWJyIm2U/JG8oO4aZMXozF8b4RupRd5JJv7Nn8ZeUyxjlrakhJHcwO2gHMUDgGLR0MmS0GrIoMRWos0K81LUnPZYgmkw6sM8HtCoQTaT9y0Wu3f/MZuCYfijhMPhUVQNdL2hY8kMroS/8UvEqqeSfC/xzPV07k3vsqyrL+2ykYnhJjEz45OLIdbu4ncrbrWhImzltU7oqqaXAEdMWiHxPsSdvuF70K6/xf6FejjL13YBvFVP+UXrkwnyelZjBcltoLypQIoEmsoiDUw4C2QFS/I/J6yx5ybWOOqaMad0kJlKo+ElAdLqvRTMqOsgucuM64j3hgHU1H1mIkQ084Oje3eXT1lZwL1nwaD0BZMNfFTcHpv+sf7v6LEo4oZMlRbFNqH9tb60nEN0UkQ0mYawZNpR878eFuD1lWsl/Jb9J5iMbPlDKnkh3raBmS66U1M9Jm5rKUmMel1dKLOcxrVSgf5dJqU4o0g0pJyTlV37x4bytpCATOG8VUT4+m9cPoURiakE34ZMes/wbB0Roun+2p7h9oLSlwzQqZq2eIr+xe2/Rhp5QF8hHn5Hh/FfM9ibs32UrNG+l22ZbrnJ8N+fERAcD6YCp6nuPc2Aq/vWXiMfzKaye/BDfzTLPwe33MT8ns4P/y0uiLBdyZw3qRvNvGZegjF6H+escXvreOnkD7zm7IkADTbJEkU4sdw1jmwzpTj42smHLB82ijenjfx9YsXkccR+B5+I1azGtQk+4maTpnLlsBL75E7O1IPea+mzfPmUwQt00FJoG+nPxN/zruZzZprTljyx2GpXiHdYWBZtcINeB+2xVP16/GT9euDwf00TbqgK5gK7QvCmfp/wPn15WDa3BcM1l/Hy8F9wZQ31nf4Q2IjjrXyG+BnzXnMmqXiTuB5CLa01gINjvb8mesSTwHuSAEtzm8anp+uvwbdprkfhUs0wCNIxH6TP1l/vf6aPDThK0TXI5I+tjj+SX/8wIcaPxWX4y+CqsCiEIiAIzhsKrgfh+6qv+4L4RETPl6/zqMKukki9AA96OseZb3Zk7UKVKxZKt65tpR1J9p1sTGgP5Z4ah+KEzl73R/xEfr+I8H5fchlN/Jr0n0c3fSGkrz+vbhd5m2ZWltThDeKUaKh3WTZXWauS+WomBdMkjGvOCRuT9YfcIZxk0x24/5cT3q8redxe8TpTsLn03b9LIaFo/I0eQ7uxtjQm6rffI4elnTcJfbwX/qRFyG+Vw+SaJdyFIpugk0WXCcnaZFo1323viNAWHZPvk1+ugfjTf2sbcPR5LDT442bhwPj6Z5z9qi9wr8B85Ji51yXb3tISxlpSUtaZEYnFX8ZbHI6C8vk4ll2h5/YdRQbM0CUbSmXHsd5rH5zWz7fBnc/5iA1NLANwyQZ2+5JjiYfQ4mle+BxJA1prT9g+770dv4zTz9RnTPp+JlY4DJKoroOucmyT4fnsGIeFC3H9EtmB+qnGyP6413tPvs4BhIwipskDKakeIg+KKTgbl92JBkkHn1J3c8t+9ia2vBKhMFkGBJtEjrGDIzKE1SeAgTJiDAVRYpKmSGwMlksJor5gUWgjKlXYS0gurS4neaYflXJnaWBUjDKNAVhkWoF1WhHz7uJ2PapE8NHJkulySPD62/qVmLapMq10a997JqvnphQarc8dO3UQ2smYr38pfOWszK6fTs+eBKfHy4j8t2uWNrWnbDx5CNfe+TkxrHVE/EEW4ynxM9H2FhtpAeE2tnGFUH1J4xXChxD5hACLNXbLgOA3WU353rI37Y44SipbwdxwED/mEC0rOmuIzmlGkw7SBzNxZ6NN3519+zXRhV1Uosp3TdtGD68s4eXJo8uzHVtjyXc85gC9MYmRh+euuaRk+vhAG43Tm3RLGW7Clp52Oesq3N7dKVjnW9KxCdWjyFvi/nUs+Ja5CnPxtn+2t4NnVwLrELw76JqDMz1MacMGJoR0I5RVsA1lR/DLEdonLJLQWnOMcSamKlrszLnWWZ3mzcVOjsrnYWynTfVNmQ6aQFxrWtL9SQtgjqsojbxf5lp+qquSF1rVGyk02qZZEEKRkPdlv9ff3LVQ6MTFMas8xSft3fNVbd+vqg1KaF5w7RwBsirUye24UVXDS3oIcj/nz+56mF6qQlUAQ++gGoNytcxFG7P98DWMXMoHIL/6l/Z7p1riv8ko2oiyiru129WsSrmUjO1XdtWc0Pr7miOoWOV9YUQ07WQPmsCisWYDge5puAUAI3NIk6EQACmaQ+BGRaAwOSemV1TH90+vnlDrZBNFOi/nEUlLL96lYx5VZLqB5zDQLFQzGm6KuUX89L6YqxRuaPsCwXYTlJE1EVJt9ycWTo8bereoW7Wv38ewfOzmgI/N42Kn53LatjTxUCv85zbEyg+Y5hTcDddq99M2ysc8/51lABfjZ++8KvSxvUlnpCj7U+mIG3vR8yhXSbXEbaB3cDmatdds4lrhi9Z8hskNo2hkI+RQHWN6fMIUwKGFZiNhDmCNq6BoR1gejCoTzNdD86woB6cPDh33YFr91w99dHJLePr1tp525NylKZkzJtthLplN+ADzhOxjpiN1trRPwb/vhKfqIcMg8Mr3DDqd38o4cM36y9KWa+Tsn7v4/ocj134Vcg2TZsf/ABFKH4tYwrtObZYYxoF3QiQC+PjATwUho5+W8MkQlOOqUDxnlMNjZpsfB8zjJCxZe2afKeTjXeuboqT2XcOlsACB6XROFhWch7AeNy/VsZfx4fO5Aj8EjTVRPjLdtrmTS1NX7Azce6kmjZnnHf+1iuBiG0duzsmQTiZPzfjEoTGAqZ7xqt/nmmai8gXOWb0/sG9z8vyyPNOZjKDf9DlRgmQR93keVlHOU/9RTkfH8W8ieTQzWpsc21DGRM0Xw4soAUWDEDPtMB0oS9I5qeXC0PhMySPyTWjuYFctn9JEgWLp6FSXdz71TeSgzuQBmnXVHPXGqWhIhXkF+H2lQXxVqiSO5OthN9CQQSazmBOhdycwSgoZRJvQ28Yz8SVltDiwd3PUxMLN9De1dWehinH5783RvA9xhpyoHgnWAfGvE3sqtqOFT25rGIoMB4GBa0NAaepg2KYyiwVijQqFKGtopEeUFFYgQCboj0jZ8cCk7U1Q2W3MBBLjMRi0SCKxO0od6gD6Muon6Q35JGLDZS9DEpfLNZTA4aqrmrD0rwHCAO8Cs/Ur4a3J0Lql9WU4RfBJiYySfg+cviqaczLvipt59LuhbjXflPdSuRLUUd/9VV422jRv6SF/NbehYrcQ1p2AZ6jd80L5+kSRwE3WV+OVGTs9GvnU6yLDbJsrZ2aE+iijskqPtuHgTAktgz0r+xtaUaslZRRH6FKlRJrBwO9bK+lef8YXipg7j8GSJjM+GRPmSApRv6n//T4VrH3qqbRaNxoqoxSNMfwD6MV18yPulftrX+xZ7gXeka7vMCPgf2aQ8+N4bPuaKz7lg2LIGjjTT3x4T4jvubPYKL+cFtPTxscwm0DA+yVNaMjbFNt/cE9k+sUpoxgas8Gu1qjhG7GqUu+oAFel8B2gTDcgt+54If2XXv1VVsmVvRkM4m4TnnrYCGLtt5foc4F2rWO/NrIbxENvBHUy0WJBYqEg8hbyklAxoATvupfHMCZ3wAHaASEAFz/Y7pUPh+ZumWK7z65G1KGftgMJro0NbIzrOvbm1sCuhL9tBGKtrof1aLaZkdRjS4zYhzSDTDVw4bldnrPGtubWgKGiH0adR1JuR9VI/qErSgB72HMk0emp2+anr6F7kfTydZ+zdKSO0EdDRuTqaip3xAIjapaLa1aWqg/kmqNQEiXzza3ZFbqId3euezR4Iiqbkj5j7ZEIeTX7X4n9vLvLmKL2mAXILVUp0WPoyLCVJVGQ+/yNlGhjP8PNLq4y9vNy9rPrn+eW36OaPmdX0nTF7EIpu9XPlvW1XMgOiHbSHIL1ji1nsbpBdbAyXtlTRwjSHuCqyJvkjfAVEiMe317oeLEURlNKa/CI7tfVLxLp5qb4tFwUFVYJ3R6/STHqy1Xi1R9RLvvd6lSPIba14rZoo6zwa3w/7L18OGzRwC+N7B52+HD2zYPfA8OP3iIH9kyjkd4Fdwj9x85skUPzfXhQd9cSN96mB+97yjgoYUXvZ7kxYu/UW7mL7Eo+rwKK9byTKWsSWWz6N8VBaZxB5ShgDJZHerscm0J6L1at2fNGPH4CqQNZ+gAGTeaPZVNBB52IJ7nt/uI3N/B0707Do+8vmEH37rpdTLX8eEDd47Xr564Y3aIj+67azM8Q4dwYHjpHbJoOu1/8OkH++lk4s59Y2Lo+tsevG1ukA/N3uHb9f9TbkFebNRET61I/GEuOEtdCkxKcdfISpPptmSn01kdVNF4Y4NjHF1rWnh0cxWZKImsJdKcKPPIkZR5RIoYkcJ7dh665dDOHqV/4jgc2ILXkYz77zgwypGsH1zKst/L+ir6nJVsPdtR2zaC4aQTZC9CR4p0jigDQ6gmexJcUeeXdbS0xY7WslzDdpPF8uryAPX0L+tqoVNFD5QrFi7rbKGXwYnkJGCpwra4XMZe1th6JZcOCL0VgV445HepqL+l5jVdKMHP1VeH89a/WtYaK2/9Z/g4noyFYduzjf6WpSS0FIKDRovrC4aaQ9ZArQ9b1r/K58P0Yhi/4Msl4WPhFbUuzCTBb1OitsjmCVsAn+Qs3eokTJ1FeEQlI1nGXNlfnbS8tcc/sYz4wU8vsbd+lr/UII5u7mncOYBJ+WKc+5jsETe/L03AXCfmN4IlTVnCOYiVSxyWr5h45up7d/Lpu568c7ey4zRcu6yjzk9P3Xvu3im5qb9yaf98ab2AwZIsy0Zrq6nXxkG22zi121ScGiC71IoiZwcZqlAmzUCmvaU5GgkkzaQfoNCjlKimWnxvGhtR5b4r0roYFX59BZLFsvVB5NMRIVAGQ65bJoBsRuaFbLJM/0n3nZCLlZaWYKj+efWy88WezKv+yiG5dKnN23mX2uUJbi5bY+Rc4XgxBrHXGnlYb637gwLPEuXVBmD1ViiIyzgRfl5f9NddvfoB9NDxw0clWD9KV0FbdhMMjzfc+H7uJXEG8fo6Ns4O1q5fU+KCCq16PhXG3JuJcczFw6GwEaLSBXkQwNwF4DgLs1AgHDqA2FToAXEgCDpj+jTudDaDgUmnGsaG9bWx1UOVctJGzBlDf2HJWgZyh1HHkeV53RK5WC6Gc8fr45AzKSByxwlWHShTsxydSgfVLhALUZsXOiS8w0TlVOdJ006bC4ZayA43j7cN9WCqeCgYDTvGJzKnKG0Jn7ou6KSC18Frs8FUk2Jch1frv65/kWLdMMbf2fWfDKac4HFdaYpb8HY9ZDXZhnEylEgHP7t2L6YMcO46M22b111HA113zoFBDJQUpy/WLx6B36K+MxQdmlHBKerm0BIJKqUu68GgoLY0VSpexdChJiDC1WpC9qwK1cQYpS7U0BW0JAzeMrX6P+hRI2Dy4z/hqqmb4gS3jG8GLT77P1Ue5E4wfOFTFoioAS8NYVYZhv9umJapaPV6hct6wHdkHiowcqVYnvUivt5Qa+3vK/X2dBXy2Uy6pclBE4pR4XkwxWHTtq93vH+tv0l2U6pFvbNRePWrv51uBFbBWmgHbw/upXv+0LnRc1AxL/RjLrVgmvx/yP0Fq1KJxarV2A+PHct2HDvWwbvxJIYX60/THfzHrcdGH7shQm/iC2l6E/fXRumtaPU/ybeyx+p34UkVL0LJv9PAUHOomzL1w8q9uZaYoV3SIOoujHBKKii60eKMxhJHXUMgTQW0InVqqErq22AbYN6BHOMkFCMtlpWLDDc/0NM23tYLZ1uGMX5ZrWfPtkQj+chQ61lZiH+gZSiai0Sbz4JhDbeswXd2PSVr8E/twqtr8KXdu690Q2KpI6jHMMuhBjdRdbG9iQslEae6YVhDV7gBdOiHgK4iKtSERkv4yOpAP8ZMpimmNqtSRuUFG50FDD2AeaYRNrasGS0P2LTwuGDncpRJNtZ5Fpev85SVhMY6T3ewBJrtjAFIs8XZi95eSXOXLJkW75wKaXmE7afkst1TsjBDJxP3v3I//kG6Z9R+ce7WnfcfrvHRo6fPnT46CpteTMJZ7yXKMb2XTlHieMpspgUYLz+k3UsJV/LFTWNH7vvT08eHlfWHHtx+69yLSbZMRhHWhDn2SG0oYCC3qE/B0qAKuZqPg+b5XkErlwWmYkKlMkNY2eLmUAqF3OJinmKjrPIhuK1/W/IJ6z8kh5K1D2aK+/UTWqOzkz1fC4xVOgKKKqgjZqKV9nhTGGOgUGnZjiK4Mq8jJFKOMwJ0UxSLdlO/Ymvrtq8H3/UG+nBNcG0e7Vh79xt/yOf37KklDMPYaeyc3LZ1y8hwT671KoP8BApooL9agOqYUm2FATeRptTcdeQGxexmC3pWyw2u5ZSr4l9xsLCKW+DaaeqxVskXZql+XdTggY9NDrcHk331MoTzqZSj3fGlCe3GxJQT6IsGjeBkQOGQO53v+VKSb9E1EVMQ5vKs2/R7axiimWAmiVCh4/MZ1eYrecvvMWx9oa71KppmNkVhBs6G6m+veHkw8amOFi0QFY4pTI7RrikRxSd1jgBaCeytDEHmYSsUN/HTEEyqQVQ6ppY4937ER/nPmMXaWK6W8TvQy1cj+s28wcIlS70LHqQsSoS5rB18abP70ubwv0VMqrRhJALnb2SJXZ76vg7pAPc9++oF2+s8XzLyZUMt/3ajhy35encPGy4n+lIy4Xvvou1JERMJFmTa8zqHldSwlaBa9k6VC63heDzM/3cYttfndDMiKlbIwCN7eV2F8FS61toUNZhCzHltUoKChwg/yah6WVnr8jIXJer+ultoizj14CWn/GfvvEU5uIjTdtnx8nw86K1TlzWF5QsXBhYXGlw+3rLk/5IB/G8+gzZuYUagPa8ByoUaWfiRIuA35I4CrJOMVariLtOCaKD+Ryq3gvWTwSDci1AAfVtQi7zzsmWE4F5Vq/+RPKDe8714vX5SVSVGuXjxa2K/iCyN42qyOkbLkXwt6FIjmt5sRsHC11VB2yANZQl1HL+GWjFC9Em4Vx7Q2oKTeB2+oKkeL3xEkBU015zWlri4VEBrpICIlwZ7Eso2mgSVKs8GLeJN5YsLnmn7Lh7/45KS6ncSg5I/Por8NcaWi7UW27Te2JeyTGPqPg3VS9j2CzJyeznjn1qaGXCrpsq8ro655n7+1zi3WwkBRkGuRl5e3eMyi6L0TvDJcnYwTnM14fWG5Xyh5nXVLya56BmNJRUi25oYoiGRJBGXdaO+Rb1Y9R861mlZYzodsf21K8/wZ1mC8I75Hr9viTsF+fsW5BzxTSO1IFQNz6DJvnC/lPv9L6Ab4KcvfJU6gC94y9NfMP31s7i5XY5RIn6LJqKRxjAKDuOVppiQA65ycUhaEvVeQya8dVuF6uCYKClVFADVGd5FyGt9RTWAAgg50ahiNFm2YkcCarHv3QTW/6Jna0TY0VA0FEpnMkbciKJ0RGSrrMN/XzzKfy7p3saOsq21cUl7FVQ2Dboqxg8D38S4hnxooL2bGRU1qurqAtP1Q1M7xzd3Sd4MKlx9aN7cxtWq/1OQAi25ohrK0s0ilVHwbgmKVNGWD1T/IMmcmd2u68h5MhPsLpW6Mf7ZEUPfceC+0zfhdXy9uTm5cQffujnZrMQFzmZdv+n0HyDOnl33Z4RjOcFoIL338N50IIpBxBEd9+2+7fV+vGGHQ5Y18NCTDw1EwkITYRu/JwZe9fPMI+IfxFUsyjbSqvKhAcwt168pdedsTBbTzZxTnRzRxQyV/if8uggP8y2VcpqWw7iyTmgJOy3GuEu5oK35P5xC0L6GZFag308hopD9/6r3KyoE7rKG5Tqi3D9z8s6TM/3+7mEeeCxiPDanxdWDjxmRxwKIeebmVFVePajGtTl5VaWLcGDdLdMVpbTvxD0n9pWUyvQtew1RfioQFOU/1vU/Lotg4KmyMEz9nnuM2OINTVu8ETPuuUeXPuNZUcFYEmd9rFRbYSxfVUjLiN9dFerqyvd2yKWFBEEB548Fup3m1PWnBQHUERnjyKYur0O1v1pBfvl30u2Hnj4EwydOw/CBOyd23vd4+YefpuUbvHb84elmO9HXD1P3Tq1f48YM5VZ17msH5/d1fPtmWQndeOwTd1EnZNeXbtwsoBRbcbJ29T3T0GbGDO+3J95aen6KxViWDVCHL8i5wsPAxPLfE1FDb55RmQnmCYgrEoijOyX+6KeDoE66Tt5ONjkSgheKBA9LqL6qpqchU0E7QaSYtJ3+irSVimrrmpLJU3ej0gsK6vTRXbdlEXtnb9u17Z9B+Un9m9Hg5rmoE93YF4zCPwZ31H9b/6f6b3cEgzvAgAIYO4IwfMe64Q03nOX3fXzD8Lo7brzrLtiCz85tCkajwb6N0b9LJD738MOfSxTs2x7mj3yGsEgjzzBYB9Xw2hGCYAZOzYWG2uR6nFlvxlJeEZfO732ziNsX84be4ffMGz7/gRmQb1dyTX8Q/dtArU8Hb8Wybmgod53NBlQOilxbg9mPCIstK3sTAzE7O5BMJuTKkvJgwfulBskXM0CBMymXLQrpkSoDMVmJ6aA2QjGG4SJkRk38g5sd61dtYGoQ4St+jHY+U23r4aVWOEjtseoMnDgvfwCEm2+hp6r/X91AK4zYkU3HMVEaxnR3qBfqPzn+/wHPnsOreJxjYGRgYABi1vIsoXh+m68M3MwvgCIMt5YoxkDp2P9f/2exVDAHAbkcDEwgUQAz1Qu/AHicY2BkYGAO+p/FwMBS9v/r/68sFQxAERQQDACh8QbyeJxdT0sVwzAMy49AkAxAkbT3UQiAITGAISmAYQiA9th4ttUs7Q568UeSlVidiwSkB3PUPg+ESd6ZD/+8v7HyrtzwghY89ZB6BcyrYqc6RZhw48YhaA1Wc/v1PQtdeXJ/HppUmFM597nvBVK7D+Z+E8/uQZLBgDyaz3Llvxx02S3c/Hv813JrznryZP4F+6lSfQAAAAAAAAAAUAC2ATABaAGyAfoCJAKwAzYDmgQSBFwExgUyBbQF/AZOBvwHRAe2B/YISgigCPIJGglCCWQJignACgAKQAp2CroLAAtGC4oL8gxcDPINng5iDuYPag/6EF4RIBGGEeQSShKYEyQTbhOyFAoUYhS+FVoVphYoFooXHBeGGFoYnhjGGOwZChlOGXgZrBneGhwaWhqgGtIbLhvyHHQc2B1QHZ4d/wABAAAAUwBtAAYAAAAAAAIAIAAwAHMAAAB2C3AAAAAAeJx1kN9q2zAUh39q0441YxcbjN3tXJWWEcc1lEGvWkLbXZeSu8JUV/6T2VKQlY48w95ifYa9zt6jd/vFESUUYiP5O5/O8ZEE4AP+QWH9nHKsWeEdozXv4A0uIu/Sf488IN9G3sMQPyLv0/+MfICv+BV5iI/4wz+owVtGM/yNrPBZfYm8g/fqW+Rd+svIA/Jd5D18UovI+/S/Ix9gqp4iD3GoniduvvR1WQU5mhxLlmap3C/FUdVWN6IXoXK+k3MpnA2maVySuza0ZlToUZ07292YctFov6k2eWp8VzsrJ0m6qa+NNV4H87Dq1j2WWQiFFN61chX7yNy7mclDUoUwPxuPN/tjAoc5lvCoUaJCgOCI9pjfDGk/BPfMEGaus2pYaDQ0GgtWVP1Kx/ico2BkaQ0zGnKCnHNL09KNuK451721rLqhLfmfht5vzdrmp7Sr3nUfC07YL92afU1r+wrd7/Dh5WwdHrmLjDawanUK3+9acPXqPML7Wq3NaHL6pL+1QHuGMd8t5/8PvPGO3QAAAHicbZLnlpswEIV9DRiwvZtseu89Ib333vvmBWRZYMVC0pHEEufpg8BO/kTncOfTaLgMOtPr97o17P1/baKPACEiDBAjQYohRhhjDevYhu3YwA7sxC7sxh7sxT7sxwEcxCEcxhEcxTEcxwmcxCmcxhmcxTmcxwVcxCVkuIwruIpruI4buIlbuI07uIt7uI8HeIhHeIwneIpneI4XeIlXeI03eIt3eI8P+IhP+Iwv+Ipv+I5N/OiF1hEz9JKxUrtFrDl1lWF9NR9QIikToRaVjUouKxvOmNBjLxnlhgo2DbnM1djLKrNGnGPScSUzItzGv93yPP2bSQSX84z9cqFQdJ56yZRmMhW8mLlJJSaBI0XYPDaZKDUviZmvr6DrNjJMi0WcK1MTM02mqpbZlJtEsNx5SI238jSodJtoS7qv+BpPw67IY9xU+dg5TXjROTWwdGrIOzWhT+uA0jolxqjaZrSOnCF2Nmq16651EYpMm1fakAul9SJQeR5QVYQlk1VkZ8SwoVNFIVjWnKQrlBGdMToftdoZjrs77DajqXKrS02YEFxbbtdWkG0x44JJVUS5aBqKSlJwmhDrmOF2Hv9Wqsy4TNqoKhfmSrrQKuNSL5nvPG6p0s0AkEWkSWVZMy1Kx3ljk03qLuZ14lTmB8gNGmByGrGfjLrhlhJV2f7SaIneNF1ypQNbybBUSgZswQaWEUNngeay1/sD4l/60HicY/DewXAiKGIjI2Nf5AbGnRwMHAzJBRsZWJ02MTAyaIEYm7mYGDkgLD4GMIvNaRfTAaA0J5DN7rSLwQHCZmZw2ajC2BEYscGhI2Ijc4rLRjUQbxdHAwMji0NHckgESEkkEGzmYWLk0drB+L91A0vvRiYGFwAMdiP0AAA=') format('woff')}</style>
<style id="style-core" type="text/css">html{font:16px/1 Helmet,Freesans,sans-serif}#store-area,tw-storydata{display:none!important;z-index:0}.no-transition{-webkit-transition:none!important;-o-transition:none!important;transition:none!important}:-webkit-full-screen{height:100%;width:100%}:-ms-fullscreen{height:100%;width:100%}:fullscreen{height:100%;width:100%}body::-ms-backdrop{background:0 0}:focus{outline:thin dotted}:disabled{cursor:not-allowed!important}body{color:#eee;background-color:#111;overflow:auto}a{cursor:pointer;color:#68d;text-decoration:none;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}a:hover{color:#8af;text-decoration:underline}a.link-broken{color:#c22}a.link-broken:hover{color:#e44}a[disabled],span.link-disabled{color:#aaa;cursor:not-allowed!important;text-decoration:none}area{cursor:pointer}button{cursor:pointer;color:#eee;background-color:#35a;border:1px solid #57c;line-height:normal;padding:.4em;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button:hover{background-color:#57c;border-color:#79e}button:disabled{background-color:#444;border:1px solid #666}input,select,textarea{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}select{padding:.34em .4em}input[type=text]{min-width:18em}textarea{min-width:30em;resize:vertical}input[type=checkbox],input[type=file],input[type=radio],select{cursor:pointer}input[type=range]{-webkit-appearance:none;min-height:1.2em}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;margin-top:-5px;width:33px}input[type=range]:focus::-webkit-slider-runnable-track{background:#222}input[type=range]::-moz-range-track{background:#222;border:1px solid #444;border-radius:0;cursor:pointer;height:10px;width:100%}input[type=range]::-moz-range-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:18px;width:33px}input[type=range]::-ms-track{background:0 0;border-color:transparent;color:transparent;cursor:pointer;height:10px;width:calc(100% - 1px)}input[type=range]::-ms-fill-lower{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-fill-upper{background:#222;border:1px solid #444;border-radius:0}input[type=range]::-ms-thumb{background:#35a;border:1px solid #57c;border-radius:0;cursor:pointer;height:16px;width:33px}input:not(:disabled):focus,input:not(:disabled):hover,select:not(:disabled):focus,select:not(:disabled):hover,textarea:not(:disabled):focus,textarea:not(:disabled):hover{background-color:#333;border-color:#eee}hr{display:block;height:1px;border:none;border-top:1px solid #eee;margin:1em 0;padding:0}audio,canvas,progress,video{max-width:100%;vertical-align:middle}.error-view{background-color:#511;border-left:.5em solid #c22;display:inline-block;margin:.1em;max-width:100%;padding:0 .25em;position:relative}.error-view>.error-toggle{background-color:transparent;border:none;line-height:inherit;left:0;padding:0;position:absolute;top:0;width:1.75em}.error-view>.error{display:inline-block;margin-left:.25em}.error-view>.error-toggle+.error{margin-left:1.5em}.error-view>.error-source[hidden]{display:none}.error-view>.error-source:not([hidden]){background-color:rgba(0,0,0,.2);display:block;margin:0 0 .25em;overflow-x:auto;padding:.25em}.highlight,.marked{color:#ff0;font-weight:700;font-style:italic}.nobr{white-space:nowrap}.error-view>.error-toggle:before,.error-view>.error:before,[data-icon-after]:after,[data-icon-before]:before,[data-icon]:before,a.link-external:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-icon]:before{content:attr(data-icon)}[data-icon-before]:before{content:attr(data-icon-before) "\00a0\00a0"}[data-icon-after]:after{content:"\00a0\00a0" attr(data-icon-after)}.error-view>.error-toggle:before{content:"\e81a"}.error-view>.error-toggle.enabled:before{content:"\e818"}.error-view>.error:before{content:"\e80d\00a0\00a0"}a.link-external:after{content:"\00a0\e80e"}</style>
<style id="style-core-display" type="text/css">#story{z-index:10;margin:2.5em}@media screen and (max-width:1136px){#story{margin-right:1.5em}}#passages{max-width:54em;margin:0 auto}</style>
<style id="style-core-passage" type="text/css">.passage{line-height:1.75;text-align:left;-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.passage-in{opacity:0}.passage ol,.passage ul{margin-left:.5em;padding-left:1.5em}.passage table{margin:1em 0;border-collapse:collapse;font-size:100%}.passage caption,.passage td,.passage th,.passage tr{padding:3px}@media (prefers-reduced-motion:reduce){.passage{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}</style>
<style id="style-core-macro" type="text/css">@-webkit-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@-o-keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes cursor-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.macro-append-insert,.macro-linkappend-insert,.macro-linkprepend-insert,.macro-linkreplace-insert,.macro-prepend-insert,.macro-repeat-insert,.macro-replace-insert,.macro-timed-insert{-webkit-transition:opacity .4s ease-in;-o-transition:opacity .4s ease-in;transition:opacity .4s ease-in}.macro-append-in,.macro-linkappend-in,.macro-linkprepend-in,.macro-linkreplace-in,.macro-prepend-in,.macro-repeat-in,.macro-replace-in,.macro-timed-in{opacity:0}.macro-type-cursor:after{-webkit-animation:cursor-blink 1s infinite;-o-animation:cursor-blink 1s infinite;animation:cursor-blink 1s infinite;content:"\2590";opacity:1}</style>
<style id="style-ui-dialog" type="text/css">html[data-dialog] body{overflow:hidden}#ui-overlay.open{visibility:visible;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-overlay:not(.open){-webkit-transition:visibility .2s step-end,opacity .2s ease-in;-o-transition:visibility .2s step-end,opacity .2s ease-in;transition:visibility .2s step-end,opacity .2s ease-in}#ui-overlay{visibility:hidden;opacity:0;z-index:100000;position:fixed;top:-50%;left:-50%;height:200%;width:200%}#ui-dialog.open{display:block;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}#ui-dialog{display:none;opacity:0;z-index:100100;position:fixed;top:50px;margin:0;padding:0}#ui-dialog>*{-webkit-box-sizing:border-box;box-sizing:border-box}#ui-dialog-titlebar{position:relative}#ui-dialog-close{display:block;position:absolute;right:0;top:0;white-space:nowrap}#ui-dialog-body{overflow:auto;min-width:280px;height:92%;height:calc(100% - 2.1em)}@media (prefers-reduced-motion:reduce){#ui-overlay.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-overlay:not(.open){-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}#ui-dialog.open{-webkit-transition:opacity 0s;-o-transition:opacity 0s;transition:opacity 0s}}#ui-overlay{background-color:#000}#ui-overlay.open{opacity:.8}#ui-dialog{max-width:66em}#ui-dialog.open{opacity:1}#ui-dialog-titlebar{background-color:#444;min-height:24px}#ui-dialog-title{margin:0;padding:.2em 3.5em .2em .5em;font-size:1.5em;text-align:center;text-transform:uppercase}#ui-dialog-close{cursor:pointer;font-size:120%;margin:0;padding:0;width:3.6em;height:92%;background-color:transparent;border:1px solid transparent;-webkit-transition-duration:.2s;-o-transition-duration:.2s;transition-duration:.2s}#ui-dialog-close:hover{background-color:#b44;border-color:#d66}#ui-dialog-body{background-color:#111;border:1px solid #444;text-align:left;line-height:1.5;padding:1em}#ui-dialog-body>:first-child{margin-top:0}#ui-dialog-body hr{background-color:#444}#ui-dialog-body ul.buttons{margin:0;padding:0;list-style:none}#ui-dialog-body ul.buttons li{display:inline-block;margin:0;padding:.4em .4em 0 0}#ui-dialog-body ul.buttons>li+li>button{margin-left:1em}#ui-dialog-close{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-close{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}</style>
<style id="style-ui" type="text/css">#ui-dialog-body.settings [id|=setting-body]>div:first-child{display:table;width:100%}#ui-dialog-body.settings [id|=setting-label]{display:table-cell;padding:.4em 2em .4em 0}#ui-dialog-body.settings [id|=setting-label]+div{display:table-cell;min-width:8em;text-align:right;vertical-align:middle;white-space:nowrap}#ui-dialog-body.list{padding:0}#ui-dialog-body.list ul{margin:0;padding:0;list-style:none;border:1px solid transparent}#ui-dialog-body.list li{margin:0}#ui-dialog-body.list li:not(:first-child){border-top:1px solid #444}#ui-dialog-body.list li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-decoration:none}#ui-dialog-body.list li a:hover{background-color:#333;border-color:#eee}#ui-dialog-body.saves{padding:0 0 1px}#ui-dialog-body.saves>:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves table{border-spacing:0;width:100%}#ui-dialog-body.saves tr:not(:first-child){border-top:1px solid #444}#ui-dialog-body.saves td{padding:.33em .33em}#ui-dialog-body.saves td:first-child{min-width:1.5em;text-align:center}#ui-dialog-body.saves td:nth-child(3){line-height:1.2}#ui-dialog-body.saves td:last-child{text-align:right}#ui-dialog-body.saves .empty{color:#999;speak:none;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves .datestamp{font-size:75%;margin-left:1em}#ui-dialog-body.saves ul.buttons li{padding:.4em}#ui-dialog-body.saves ul.buttons>li+li>button{margin-left:.2em}#ui-dialog-body.saves ul.buttons li:last-child{float:right}#ui-dialog-body.settings div[id|=header-body]{margin:1em 0}#ui-dialog-body.settings div[id|=header-body]:first-child{margin-top:0}#ui-dialog-body.settings div[id|=header-body]:not(:first-child){border-top:1px solid #444;padding-top:1em}#ui-dialog-body.settings div[id|=header-body]>*{margin:0}#ui-dialog-body.settings h2[id|=header-heading]{font-size:1.375em}#ui-dialog-body.settings p[id|=header-desc],#ui-dialog-body.settings p[id|=setting-desc]{font-size:87.5%;margin:0 0 0 .5em}#ui-dialog-body.settings div[id|=setting-body]+div[id|=setting-body]{margin:1em 0}#ui-dialog-body.settings [id|=setting-control]{white-space:nowrap}#ui-dialog-body.settings button[id|=setting-control]{color:#eee;background-color:transparent;border:1px solid #444;padding:.4em}#ui-dialog-body.settings button[id|=setting-control]:hover{background-color:#333;border-color:#eee}#ui-dialog-body.settings button[id|=setting-control].enabled{background-color:#282;border-color:#4a4}#ui-dialog-body.settings button[id|=setting-control].enabled:hover{background-color:#4a4;border-color:#6c6}#ui-dialog-body.settings input[type=range][id|=setting-control]{max-width:35vw}#ui-dialog-body.list a,#ui-dialog-body.settings span[id|=setting-input]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#ui-dialog-body.saves button[id=saves-clear]:before,#ui-dialog-body.saves button[id=saves-export]:before,#ui-dialog-body.saves button[id=saves-import]:before,#ui-dialog-body.settings button[id|=setting-control].enabled:after,#ui-dialog-body.settings button[id|=setting-control]:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-dialog-body.saves button[id=saves-export]:before{content:"\e829\00a0"}#ui-dialog-body.saves button[id=saves-import]:before{content:"\e82a\00a0"}#ui-dialog-body.saves button[id=saves-clear]:before{content:"\e827\00a0"}#ui-dialog-body.settings button[id|=setting-control]:after{content:"\00a0\00a0\e830"}#ui-dialog-body.settings button[id|=setting-control].enabled:after{content:"\00a0\00a0\e831"}</style>
<style id="style-ui-bar" type="text/css">#story{margin-left:20em;-webkit-transition:margin-left .2s ease-in;-o-transition:margin-left .2s ease-in;transition:margin-left .2s ease-in}#ui-bar.stowed~#story{margin-left:4.5em}@media screen and (max-width:1136px){#story{margin-left:19em}#ui-bar.stowed~#story{margin-left:3.5em}}@media screen and (max-width:768px){#story{margin-left:3.5em}}#ui-bar{position:fixed;z-index:50;top:0;left:0;width:17.5em;height:100%;margin:0;padding:0;-webkit-transition:left .2s ease-in;-o-transition:left .2s ease-in;transition:left .2s ease-in}#ui-bar.stowed{left:-15.5em}#ui-bar-tray{position:absolute;top:.2em;left:0;right:0}#ui-bar-body{height:90%;height:calc(100% - 2.5em);margin:2.5em 0;padding:0 1.5em}#ui-bar.stowed #ui-bar-body,#ui-bar.stowed #ui-bar-history{visibility:hidden;-webkit-transition:visibility .2s step-end;-o-transition:visibility .2s step-end;transition:visibility .2s step-end}@media (prefers-reduced-motion:reduce){#story{-webkit-transition:margin-left 0s;-o-transition:margin-left 0s;transition:margin-left 0s}#ui-bar{-webkit-transition:left 0s;-o-transition:left 0s;transition:left 0s}}#ui-bar{background-color:#222;border-right:1px solid #444;text-align:center}#ui-bar a{text-decoration:none}#ui-bar hr{border-color:#444}#ui-bar-history [id|=history],#ui-bar-toggle{font-size:1.2em;line-height:inherit;color:#eee;background-color:transparent;border:1px solid #444}#ui-bar-toggle{display:block;position:absolute;top:0;right:0;border-right:none;padding:.3em .45em .25em}#ui-bar.stowed #ui-bar-toggle{padding:.3em .35em .25em .55em}#ui-bar-toggle:hover{background-color:#444;border-color:#eee}#ui-bar-history{margin:0 auto}#ui-bar-history [id|=history]{padding:.2em .45em .35em}#ui-bar-history #history-jumpto{padding:.2em .665em .35em}#ui-bar-history [id|=history]:not(:first-child){margin-left:1.2em}#ui-bar-history [id|=history]:hover{background-color:#444;border-color:#eee}#ui-bar-history [id|=history]:disabled{color:#444;background-color:transparent;border-color:#444}#ui-bar-body{line-height:1.5;overflow:auto}#ui-bar-body>:not(:first-child){margin-top:2em}#story-title{margin:0;font-size:162.5%}#story-author{margin-top:2em;font-weight:700}#menu ul{margin:1em 0 0;padding:0;list-style:none;border:1px solid #444}#menu ul:empty{display:none}#menu li{margin:0}#menu li:not(:first-child){border-top:1px solid #444}#menu li a{display:block;padding:.25em .75em;border:1px solid transparent;color:#eee;text-transform:uppercase}#menu li a:hover{background-color:#444;border-color:#eee}#menu a,#ui-bar-history [id|=history],#ui-bar-toggle{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu-core li[id|=menu-item] a:before,#ui-bar-history [id|=history],#ui-bar-toggle:before{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#ui-bar-toggle:before{content:"\e81d"}#ui-bar.stowed #ui-bar-toggle:before{content:"\e81e"}#menu-item-saves a:before{content:"\e82b\00a0"}#menu-item-settings a:before{content:"\e82d\00a0"}#menu-item-restart a:before{content:"\e82c\00a0"}#menu-item-share a:before{content:"\e82f\00a0"}</style>
<style id="style-ui-debug" type="text/css">#debug-bar{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:0;margin:0;max-height:75%;padding:.5em;position:fixed;right:0;z-index:99900}#debug-bar>div:not([id])+div{margin-top:.5em}#debug-bar>div>label{margin-right:.5em}#debug-bar>div>input[type=text]{min-width:0;width:8em}#debug-bar>div>select{width:15em}#debug-bar-toggle{color:#eee;background-color:#222;border:1px solid #444;height:101%;height:calc(100% + 1px);left:-2em;left:calc(-2em - 1px);position:absolute;top:-1px;width:2em}#debug-bar-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-hint{bottom:.175em;font-size:4.5em;opacity:.33;pointer-events:none;position:fixed;right:.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}#debug-bar-watch{background-color:#222;border-left:1px solid #444;border-top:1px solid #444;bottom:102%;bottom:calc(100% + 1px);font-size:.9em;left:-1px;max-height:650%;max-height:65vh;position:absolute;overflow-x:hidden;overflow-y:scroll;right:0;z-index:99800}#debug-bar-watch[hidden]{display:none}#debug-bar-watch div{color:#999;font-style:italic;margin:1em auto;text-align:center}#debug-bar-watch table{width:100%}#debug-bar-watch tr:nth-child(2n){background-color:rgba(127,127,127,.15)}#debug-bar-watch td{padding:.2em 0}#debug-bar-watch td:first-child+td{padding:.2em .3em .2em .1em}#debug-bar-watch .watch-delete{background-color:transparent;border:none;color:#c00}#debug-bar-watch-all,#debug-bar-watch-none{margin-left:.5em}#debug-bar-views-toggle,#debug-bar-watch-toggle{color:#eee;background-color:transparent;border:1px solid #444;margin-right:1em;padding:.4em}#debug-bar-views-toggle:hover,#debug-bar-watch-toggle:hover{background-color:#333;border-color:#eee}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle,html[data-debug-view] #debug-bar-views-toggle{background-color:#282;border-color:#4a4}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:hover,html[data-debug-view] #debug-bar-views-toggle:hover{background-color:#4a4;border-color:#6c6}#debug-bar-hint:after,#debug-bar-toggle:before,#debug-bar-views-toggle:after,#debug-bar-watch .watch-delete:before,#debug-bar-watch-add:before,#debug-bar-watch-all:before,#debug-bar-watch-none:before,#debug-bar-watch-toggle:after{font-family:tme-fa-icons!important;font-style:normal;font-weight:900;font-variant:normal;line-height:1;speak:never;text-rendering:auto;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#debug-bar-toggle:before{content:"\e838"}#debug-bar-hint:after{content:"\e838\202f\e822"}#debug-bar-watch .watch-delete:before{content:"\e804"}#debug-bar-watch-add:before{content:"\e805"}#debug-bar-watch-all:before{content:"\e83a"}#debug-bar-watch-none:before{content:"\e827"}#debug-bar-views-toggle:after,#debug-bar-watch-toggle:after{content:"\00a0\00a0\e830"}#debug-bar-watch:not([hidden])~div #debug-bar-watch-toggle:after,html[data-debug-view] #debug-bar-views-toggle:after{content:"\00a0\00a0\e831"}html[data-debug-view] .debug{padding:.25em;background-color:#234}html[data-debug-view] .debug[title]{cursor:help}html[data-debug-view] .debug.block{display:inline-block;vertical-align:middle}html[data-debug-view] .debug.invalid{text-decoration:line-through}html[data-debug-view] .debug.hidden,html[data-debug-view] .debug.hidden .debug{background-color:#555}html:not([data-debug-view]) .debug.hidden{display:none}html[data-debug-view] .debug[data-name][data-type].nonvoid:after,html[data-debug-view] .debug[data-name][data-type]:before{background-color:rgba(0,0,0,.25);font-family:monospace,monospace;white-space:pre}html[data-debug-view] .debug[data-name][data-type]:before{content:attr(data-name)}html[data-debug-view] .debug[data-name][data-type|=macro]:before{content:"<<" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=macro].nonvoid:after{content:"<</" attr(data-name) ">>"}html[data-debug-view] .debug[data-name][data-type|=html]:before{content:"<" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type|=html].nonvoid:after{content:"</" attr(data-name) ">"}html[data-debug-view] .debug[data-name][data-type]:not(:empty):before{margin-right:.25em}html[data-debug-view] .debug[data-name][data-type].nonvoid:not(:empty):after{margin-left:.25em}html[data-debug-view] .debug[data-name][data-type|=special],html[data-debug-view] .debug[data-name][data-type|=special]:before{display:block}</style>
</head>
<body>
	<div id="init-screen">
		<div id="init-no-js"><noscript>JavaScript must be enabled to play.</noscript></div>
		<div id="init-lacking"><p>Browser lacks capabilities required to play.</p><p>Upgrade or switch to another browser.</p></div>
		<div id="init-loading"><div>Loading&hellip;</div></div>
	</div>
	<tw-storydata name="Na vlnách finál 2" startnode="108" creator="Twine" creator-version="2.8.1" format="SugarCube" format-version="2.36.1" ifid="5980843F-BEFB-4458-80DF-50C3EFEF2258" options="" tags="" zoom="0.6" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">/* systémová tlačítka skrytá */ 
#title, #menu, #history-backward, #history-forward { display : none; }

/* nadpis skrytý */
#story-title { display: none; }

/* FONT */
html { font-family: Bookman, Georgia, serif; font-size: 1.3em; }</style><script role="script" id="twine-user-script" type="text/twine-javascript">setup.ocenit = function(name) {
    var achievements = recall('oceneni', {});
    if (!achievements[name]) {
        achievements[name] = true;
        memorize('oceneni', achievements);
        // Optional: Display a message to the player
        Dialog.setup("🏅Získáváš ocenění🏅");
        Dialog.wiki(name);
        Dialog.open();
    }
}

setup.oceneni = function(name) {
    var achievements = recall('oceneni', {});
    return achievements[name];
}


Config.passages.onProcess = function (passage) {
    if (!State.variables.musicPlaying) {
        for (var i = 0; i < passage.tags.length; i++) {
            if (passage.tags[i] && passage.tags[i].startsWith("hudba")) {
                var index = passage.tags[i].indexOf('-');
                if (index === -1) continue;
                var audioname = passage.tags[i].substring(index + 1);
                $(document).one(':passageend', function() {
                    // <<audio>> makro musí být spuštěno v rámci vykreslování pasáže
                    new Wikifier(null, 'Hraju ' + audioname + '<<audio "' + audioname + '" loop play>>');
                });
                State.variables.musicPlaying = true;
            }
        }
    }
  return passage.text;
};</script><tw-tag name="Trh" color="green"></tw-tag><tw-tag name="Přístav" color="blue"></tw-tag><tw-tag name="Kapitola" color="orange"></tw-tag><tw-tag name="KONEC" color="purple"></tw-tag><tw-tag name="korektura" color="red"></tw-tag><tw-tag name="hudba-hudba" color="yellow"></tw-tag><tw-tag name="Dopsat" color="green"></tw-tag><tw-tag name="Chyba" color="green"></tw-tag><tw-tag name="Posrala-to" color="yellow"></tw-tag><tw-tag name="Smrt-ok" color="blue"></tw-tag><tw-tag name="Pekárna" color="green"></tw-tag><tw-tag name="Změna-hudby" color="orange"></tw-tag><tw-tag name="Kolem-pekarny" color="green"></tw-tag><tw-tag name="Opět-naživu" color="purple"></tw-tag><tw-passagedata pid="1" name=" Projít se mezi stolky 5 nenasr" tags="korektura" position="5075,4250" size="100,100">//Někde by tu přeci jen mohl sedět...// Říkáš si a nenápadně se proplítáš mezi stoly a opilci. Občas schytáš nějaký ten zvláštní pohled, ale snažíš si jich nevšímat. Po nějaké chvíli prozkoumávání lokálu jsi musela naznat, že tady zloděj asi nebude...
&lt;&lt;if $zpomaleni lte 4&gt;&gt;
Sice už jsi část, kdy tě body zpomalení mohou z této linie příbehu vyautovat překonala, ještě stále však hrají roli... takže tedy:

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

[[Jít dveřmi v zadní části lokálu|Jít dveřmi v zadní části lokálu nenasr]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5&gt;&gt;

[[Jít dveřmi v zadní části lokálu|Jít dveřmi v zadní části lokálu nenasr]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="2" name="&quot;On by se mi teď moc hodil&quot;" tags="korektura" position="3475,3125" size="100,100">&quot;Víte on by se mi teď strašně moc hodil.&quot; Řekneš mu smutně. 
&quot;Ale dítě, přeci se nebudeš zbytečně máčet.&quot; řekl pán dobromyslně, sáhl do váčku u pasu, ve kterém to zachrastilo a vytáhl zbrusu nový, lesklý penízek. &quot;Tady máš&quot; Řekl s úsměvem, vtiskl ti jej do dlaně a s přáním hezkého dne si to odkráčel. Nevěříš svým očím... 

__//Získala jsi minci//__ &lt;&lt;set $money += 1&gt;&gt;

Ještě za ním zavoláš díky a už běžíš nazpět k bezdomovci.

[[Dát mu ukořistěnou minci|Dát mu svou minci]]</tw-passagedata><tw-passagedata pid="3" name="&quot;On mi tam spadl&quot;" tags="korektura" position="3350,3125" size="100,100">&quot;On mi tam totiž spadl&quot; Zalžeš. &quot;Ale dítě, přeci se nebudeš zbytečně máčet.&quot; řekl pán dobromyslně, sáhl do váčku u pasu, ve kterém to zachrastilo, a vytáhl zbrusu nový, lesklý penízek. &quot;Tady máš&quot; Řekl s úsměvem, vtiskl ti jej do dlaně a s přáním hezkého dne si to odkráčel. Nevěříš svým očím... 

__//Získala jsi minci//__ &lt;&lt;set $money += 1&gt;&gt;

Ještě za ním zavoláš díky a už běžíš nazpět k bezdomovci.

[[Dát mu ukořistěnou minci|Dát mu svou minci]]</tw-passagedata><tw-passagedata pid="4" name="&quot;Ono vám něco spadlo, tak jsem se pro to sehnula, abych vám to podala...&quot;" tags="korektura" position="3225,400" size="100,100">&quot;Víte... ono vám něco spadlo, tak jsem se pro to sehnula, abych vám to podala...&quot;
&quot;Aha? A copak mi to spadlo?&quot; Zeptá se hospodyňka nedůvěřivě.
&lt;&lt;if $jablko eq 0 and $money eq 0 and $bonbon is false&gt;&gt;Bohužel nemáš v kapse žádný předmět a tak nezbývá než...&lt;&lt;/if&gt;&gt;

[[Zalhat, že jsi to bohužel nenašla]]
&lt;&lt;if $jablko eq 1&gt;&gt;[[Vytáhnout z kapsy nenápadně jablko]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $money eq 1&gt;&gt;[[Vytáhnout z kapsy nenápadně minci]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $bonbon is true&gt;&gt;[[Vytáhnout z kapsy nenápadně bonbón]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="5" name="&quot;Pardon, já zakopla...&quot;" tags="korektura" position="3100,400" size="100,100">&quot;P-pardon... já zakopla.&quot; Snažíš se tvářit ustrašeně a zahanbeně.
&quot;Jo tak zakopla, ty malej parchante? To určitě!&quot; Štěkne na tebe hospodyňka. Vyleze ze dveří ven před pekárnu, táhne tě za sebou jak pytel brambor a hodí tě na chodník. &quot;Příště si hezky stoupneš do fronty, ty spratku!&quot; Otočí se na patě a vkráčí nazpět do obchodu. Lidi se jí rychle klidí z cesty.
[[Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="6" name=", , ," tags="korektura" position="4475,50" size="100,100">Evidentně není přesvědčena... Po dlouhé chvíli, ve které je jen slyšet, jak oheň v krbu nevydává žádné zvuky ani teplo, se nakonec postava pohnula z místa a přistoupila k &lt;&lt;linkreplace &quot;tobě ležící na stole.&quot;&gt;&gt;tobě ležící na stole. 
S jejím pohybem se jakoby neviditelně daly do pohybu i věci, co by se už dávno pohybovat neměly... Něco se d ě j e. . . &lt;&lt;set $probodanibricha to false&gt;&gt;
Snažíš se to sledovat, ale z pohledu na ni tě tak bolí oči, jak pořád přeostřují, až toho zase rychle necháš. Začala jsi proto raději pozorovat sebe, jak tam nehybně ležíš ztuhlá na dřevěném stolku a tělo ti hyzdí rány minulosti. Najednou sebou obě škubnete. Ty i ty před sebou&lt;&lt;linkreplace &quot;Najednou...&quot;&gt;&gt;Najednou...
Jsi otevřela oči a podívala se přímo na sebe. Ten pohled tě tak uhranul, až jsi otevřela oči do živé reality a po celém těle ti stéká studený pot.

[[...|...smrt 2]]
&lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="7" name="..." tags="Změna-hudby" position="4825,5450" size="100,100">&lt;center&gt;&lt;span style=&quot;font-size: 40px;&quot;&gt;&lt;b&gt;Konec&lt;/b&gt;&lt;/span&gt;&lt;&lt;set $kapitola = &quot;Konec&quot;&gt;&gt;

Pokračování v budoucnu...

&lt;img src=&quot;images/QR.jpg&quot; width=&quot;256&quot; height=&quot;256&quot;&gt;
↑Projekt můžeš podpořit↑
(Když do poznámky k převodu napíšeš své jméno či přezdívku, obtiskneš se tak do tohoto projektu)

[[Speciální poděkování]]

&lt;a href=&quot;https://bit.ly/NaVlnach&quot;&gt;Odebírání herních novinek&lt;/a&gt;
&lt;/center&gt;


&lt;&lt;cacheaudio &quot;kapitola1&quot; &quot;music/kapitola1.mp3&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="8" name="...TMA..." tags="korektura Změna-hudby" position="2175,0" size="100,100">&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;
&lt;&lt;linkreplace &quot;...tma...&quot;&gt;&gt;

  &lt;&lt;linkreplace &quot;Naprostá tma a chlad...&quot;&gt;&gt;
  
    &lt;&lt;linkreplace &quot;...&quot;&gt;&gt;
    
      &lt;&lt;linkreplace &quot;.....t m a...&quot;&gt;&gt;
      
        &lt;&lt;linkreplace &quot;...a v ní se pomaličku objevilo...&quot;&gt;&gt;
        
          &lt;&lt;linkreplace &quot;chabé...&quot;&gt;&gt;
          
            &lt;&lt;linkreplace &quot;šedé...&quot;&gt;&gt;
            
              &lt;&lt;linkreplace &quot;bE zT v ar         é&quot;&gt;&gt; 
              
                &lt;&lt;linkreplace &quot;světlo......&quot;&gt;&gt;
                [[Vydala ses za světlem|Vydala jsi se za světlem]]
              
                &lt;&lt;/linkreplace&gt;&gt;
              
              &lt;&lt;/linkreplace&gt;&gt;
            &lt;&lt;/linkreplace&gt;&gt;
            
            
          &lt;&lt;/linkreplace&gt;&gt;
      
        
        &lt;&lt;/linkreplace&gt;&gt;
      
      
      &lt;&lt;/linkreplace&gt;&gt;
    
    
    &lt;&lt;/linkreplace&gt;&gt;
  
  
  &lt;&lt;/linkreplace&gt;&gt;
     
     
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;cacheaudio &quot;smrt&quot; &quot;music/smrt.mp3&quot;&gt;&gt;
&lt;&lt;audio smrt play loop&gt;&gt;

&lt;&lt;set $obnovaposmrti to true&gt;&gt;
&lt;&lt;set $kapitola = &quot;, , ,&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="9" name="...TMA...2" tags="korektura Změna-hudby" position="3700,0" size="100,100">&lt;&lt;linkreplace &quot;...tma...&quot;&gt;&gt;

  &lt;&lt;linkreplace &quot;Naprostá tma a chlad...&quot;&gt;&gt;
  
    &lt;&lt;linkreplace &quot;...Je ti to velice neuchopitelně povědomé...&quot;&gt;&gt;
    
      &lt;&lt;linkreplace &quot;....A...ch.....&quot;&gt;&gt;
      
        &lt;&lt;linkreplace &quot;...kde je jen to světlo, co tě minule volalo...&quot;&gt;&gt;
        
          &lt;&lt;linkreplace &quot;..POČKAT.....&quot;&gt;&gt;
          
            &lt;&lt;linkreplace &quot;..Jak vím, že tu bylo minule...&quot;&gt;&gt;
            
              &lt;&lt;linkreplace &quot;.. . .I ta be zt .. var O st . ..&quot;&gt;&gt; 
              
                &lt;&lt;linkreplace &quot;Tentok r á t......&quot;&gt;&gt;
              
                [[nabývá na ZaOsTřEnStI]]
              
                &lt;&lt;/linkreplace&gt;&gt;
              
              &lt;&lt;/linkreplace&gt;&gt;
            &lt;&lt;/linkreplace&gt;&gt;
            
            
          &lt;&lt;/linkreplace&gt;&gt;
      
        
        &lt;&lt;/linkreplace&gt;&gt;
      
      
      &lt;&lt;/linkreplace&gt;&gt;
    
    
    &lt;&lt;/linkreplace&gt;&gt;
  
  
  &lt;&lt;/linkreplace&gt;&gt;
     
     
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;cacheaudio &quot;smrt&quot; &quot;music/smrt.mp3&quot;&gt;&gt;
&lt;&lt;audio smrt play loop&gt;&gt;

&lt;&lt;set $obnovaposmrti to true&gt;&gt;

&lt;&lt;set $kapitola = &quot;, , ,&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="10" name="...TMA...3" tags="Změna-hudby" position="4875,25" size="100,100">//Milí hráči. Právě jsi narazil na limit této hry a mích schopností. V budoucnu zde bude pro každé umrtí napsaná zvlášť pasáž hry po smrti, která bude smrt od smrti hru silně ovlivňovat. Člověk však nemůže chtít všechno naráz a proto se pro teď spokoj s tím, že tě entita smrti i pro tentokrát ušetřila a [[navrátila k životu.]] //

&lt;&lt;cacheaudio &quot;smrt&quot; &quot;music/smrt.mp3&quot;&gt;&gt;
&lt;&lt;audio smrt play loop&gt;&gt;

&lt;&lt;set $obnovaposmrti to true&gt;&gt;
&lt;&lt;set $kapitola = &quot;, , ,&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="11" name="...TMA...4" tags="Změna-hudby" position="5375,0" size="100,100">//Milí hráči. Právě jsi narazil na limit této hry a mích schopností. V budoucnu zde bude pro každé umrtí napsaná zvlášť pasáž hry po smrti, která bude smrt od smrti hru silně ovlivňovat. Člověk však nemůže chtít všechno naráz a proto se pro teď spokoj s tím, že tě entita smrti i pro tentokrát ušetřila a [[navrátila k životu.]] //

&lt;&lt;cacheaudio &quot;smrt&quot; &quot;music/smrt.mp3&quot;&gt;&gt;
&lt;&lt;audio smrt play loop&gt;&gt;

&lt;&lt;set $obnovaposmrti to true&gt;&gt;
&lt;&lt;set $kapitola = &quot;, , ,&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="12" name="...TMA...5" tags="Změna-hudby" position="6050,0" size="100,100">//Milí hráči. Právě jsi narazil na limit této hry a mích schopností. V budoucnu zde bude pro každé umrtí napsaná zvlášť pasáž hry po smrti, která bude smrt od smrti hru silně ovlivňovat. Člověk však nemůže chtít všechno naráz a proto se pro teď spokoj s tím, že tě entita smrti i pro tentokrát ušetřila a [[navrátila k životu.]] //

&lt;&lt;cacheaudio &quot;smrt&quot; &quot;music/smrt.mp3&quot;&gt;&gt;
&lt;&lt;audio smrt play loop&gt;&gt;

&lt;&lt;set $obnovaposmrti to true&gt;&gt;
&lt;&lt;set $kapitola = &quot;, , ,&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="13" name="...smrt" tags="korektura" position="4350,125" size="100,100">Snažíš se uklidnit, ale při pohledu na samu sebe, jak ležíš mrtvá a chladně bílá na stole se všemi známkami této a minulé smrti vepsanými do tvého těla, je to pohled věru strašlivý.

&lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Pozoruj se důkladně.&quot;//

&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;Tolik ti tečou slzy, že prakticky nic nevidíš. Pak ale ráz na ráz téct přestaly a ty jsi pochopila... stojíte teď mlčky spolu a pozorujete tě.

&lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Teď už to vidíš?&quot;//

&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;&quot;A... Ano...&quot;
Odvětíš a zornice se ti zatřepaly.

&lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Ještě tam bylo mnoho času. Tak proč ho znovu takto utínáš!?!&quot;//

&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;Tato věta tě tak šlehla, že ti na ruce zůstaly tenké šedé jizvy, jako po ráně bičem upleteným z tisíce vdoviných nářků.

&lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;PAMATUJ.&quot;//
Slova postavy zazněla tak vážně a blízko, až se na chvíli zaostřila, což tě vyloženě vyděsilo.

&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;&quot;Já... budu si dávat pozor. Opravdu se budu snažit&quot;

[[, , ,]]
&lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
    &lt;&lt;/linkreplace&gt;&gt;
      &lt;&lt;/linkreplace&gt;&gt;
        &lt;&lt;/linkreplace&gt;&gt;
          &lt;&lt;/linkreplace&gt;&gt;
            &lt;&lt;/linkreplace&gt;&gt;
              &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="14" name="...smrt 2" tags="korektura" position="4600,50" size="100,100">Realita kolem se ti zdá prapodivně chladná a jakoby ne z tohoto světa...
Rychle se oklepeš a srovnáváš si myšlenky. //Co jsem to teď proboha chtěla dělat a proč mi je tak divně?// Ptáš se sama sebe a svět se pomalu opět zreálňuje.
Ach ano! Už víš. Chtěla jsi přece...
&lt;&lt;if $probodanibricha is true&gt;&gt;[[Vylézt opatrně rámem]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zlomenykrk2 is true&gt;&gt;[[Přeskočit na dřevěné zábradlí balkónu]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zlomenykrk is true&gt;&gt;[[Přeskočila na dřevěné zábradlí balkónu]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $probodanirozkroku is true&gt;&gt;Se někam [[schovat|Ukrýt se]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $prasklalebka is true&gt;&gt; Buď slést dolů pomocí [[sloupu|Sloup]], nebo [[fáboru|Fábor]].&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelena2 is true and $strelena is false&gt;&gt;[[Zůstat stát na místě|Zůstat stát na místě 2]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenadoboku is true&gt;&gt;[[Jak se otevřou dveře s rozmachem ho praštit do čela]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenadoboku2 is true&gt;&gt;[[Jak se otevřou dveře hodit mu kámen s rozmachem do tváře]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenavmori is true&gt;&gt;[[Do hostince]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $utopenivevině is true&gt;&gt;[[Do sudu na pravo]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelena is true&gt;&gt;[[Zůstat stát na místě.]]&lt;&lt;/if&gt;&gt;\

&lt;&lt;set $Umrtí += 1&gt;&gt;






&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;
&lt;&lt;set $zlomenyvaz to false&gt;&gt;
&lt;&lt;set $zlomenykrk to false&gt;&gt;
&lt;&lt;set $zlomenykrk2 to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $probodanibricha to false&gt;&gt;
&lt;&lt;set $probodanirozkroku to false&gt;&gt;
&lt;&lt;set $prasklalebka to false&gt;&gt;
&lt;&lt;set $zastrelena to false&gt;&gt;
&lt;&lt;set $utopenivevině to false&gt;&gt;
&lt;&lt;set $zastrelenavmori to false&gt;&gt;
&lt;&lt;set $zastrelena2 to false&gt;&gt;
&lt;&lt;set $zastrelenadoboku to false&gt;&gt;</tw-passagedata><tw-passagedata pid="15" name="3,4 nasr, pokračovat" tags="korektura" position="3200,5000" size="100,100">//Radši se schovám// usoudíš a rozhlédneš se kolem. Schovat by se tu dalo buď za kopu sudů, a nebo... Přímo za kadibudku.

[[Sudy]]
[[Kadibudka]]</tw-passagedata><tw-passagedata pid="16" name="3,4 nasr, zaútočit" tags="korektura" position="3350,5000" size="100,100">//Fůů... tohle bude nebezpečné...// Prolétne ti hlavou, když se vydáváš po dvorku směrem ke kadibudce. Po cestě se díváš, co by jsi tak mohla využít. Na zemi leží jeden poměrně obstojně velký kámen a kousek od něho se na zemi válí prkno...

[[Kámen]]
[[Prkno]]</tw-passagedata><tw-passagedata pid="17" name="A co všechno v moři je?" tags="" position="200,1125" size="100,100">&quot;A co všechno v moři je?&quot; zeptáš se s neskrývaným zájmem.
Táta se zahledí na hladinu.
&quot;V moři toho je...&quot;

[[Takže my jsme někdy byli ryby?]]
[[A jak dlouho už ty ryby lovíš?|A jak dlouho už rybaříš?]]</tw-passagedata><tw-passagedata pid="18" name="A dělal jsi ještě něco někdy ještě něco jiného, kromě lovení ryb?" tags="" position="575,950" size="100,100">&quot;A tys někdy dělal něco jinýho, kromě rybařen?&quot; řekneš a upřeš na něho zvědavý pohled.
Táta se podrbal ve vousu. &quot;Hmm... vlastně ano, dělal. Dřív jsem taky maloval a občas i nějaký obrázek prodal, ale to se nedá úplně počítat jako práce,&quot; řekne a pousměje se nad tou vzpomínkou. &quot;A pak jsem ještě občas pomáhal vykládat náklad z kupeckých lodí.&quot;
Informace o tom, že tvůj táta kdysi kreslil, tě vyloženě překvapila a snažíš si teď představit, jak by vypadal s velkým slamákem a malířským stojanem někde na nábřeží, a jak maluje racky a západy slunce s loďemi na moři.
Vtipná představa...

[[Máš ještě nějaké obrázky schované?]]
[[Maluješ ještě občas?]]

&lt;&lt;set $malovani = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="19" name="A jak dlouho už rybaříš?" tags="" position="425,900" size="100,100">&quot;A tati... jak dlouho už vlastně rybaříš?&quot;
Na loďce opět zavládlo chvilkové ticho, načež táta řekl: 
&quot;Začal jsem, když mi bylo asi tolik, co tobě.&quot; Odpoví pak nakonec a dál se věnuje své práci.
&quot;Pročpak tě to vlastně zajímá?&quot; &lt;&lt;if $udička eq 1&gt;&gt;Letmo pohlédne na tvůj malý prut, který jsi našla mezi věcmi a teď ho svíráš v ruce. Usměje se. Vzpomíná, jak jsi tehdy byla nadšením bez sebe, když ti ho dal. //Třeba dnes něco uloví...// Pomyslí si.&lt;&lt;/if&gt;&gt;

[[Protože mě zajímá, jestli naši předci taky lovili ryby]]
[[Protože, mě zajímá, jestli jsi někdy dělal i nějakou jinou práci]]</tw-passagedata><tw-passagedata pid="20" name="A jak ses vyspal?" tags="" position="150,625" size="100,100">&quot;A tatí?&quot;
&quot;Co ještě?&quot; ptá se otec, s hlavou stále ješte skloněnou k sítím.
&quot;Jak ses dnes vyspal?&quot;
Opět nastalo ticho, rušené jen šploucháním vody. 
&quot;Dnes nic moc. Proč tě to vlastně zajímá?&quot;

[[Protože mně se dnes spalo ...]]
[[Vypadáš, že ses nevyspal]]</tw-passagedata><tw-passagedata pid="21" name="A jsi zase tam, kde jsi byla..." tags="korektura" position="5625,3525" size="100,100">Rychle jsi opustil prostor před barem a přemístila se na nábřeží. Ještě teď se ti vaří krev v žilách z toho, jak tě přede všemi vyvedla, jak nějaký malý děcko!
Přemýšlíš, co teď budeš dělat... 
&lt;&lt;if $pristav is true&gt;&gt;Tím, že zloděje chceš dostat si jsi jistá. Zbývá tedy jediná varianta:

[[Přelézt přes plot hospody|Přelézt přes plot]] 

&lt;&lt;/if&gt;&gt;&lt;&lt;if $pristav is false&gt;&gt;Tím, že zloděje chceš dostat seš si jistá. Teď však nastává otázka, jak se na to molo tedy dostat...
Zpozorovala jsi dřevěný plot, který se od taverny táhne až na okraj nábřežní cesty. Dal by se teoreticky nějak přelézt

[[Přelézt přes plot]]
[[Ještě hledat alternativu|Ještě hledat alternativu 2]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="22" name="A maluješ ještě občas?" tags="" position="575,1325" size="100,100">&quot;A maluješ ještě občas?&quot;
Táta mlčky zavrtí hlavou.

[[Měl jsi nějaký svůj podpis?]]</tw-passagedata><tw-passagedata pid="23" name="A proč ty ryby zabijíme?" tags="" position="200,875" size="100,100">Podíváš se na kyblík mrtvých ryb. Na jejich stříbřitých šupinách se odráží ranní slunce a občas po nich steče čůrek krve. Není ti to nějak nepříjemné, jsi na to zvyklá, ale spíš tě ta otázka zajíma.
&quot;A tati, proč ty ryby zabijíme?&quot; řekneš se zamyšleným výrazem.
Táta se zarazí a poškrabe se ve vousu. 
&quot;No... na dně moře je půda... z ní vyrostou řasy, ryby pak ty řasy sní, ty ryby pak žerou větší ryby, větší ryby pak my vylovíme a sníme... My pak taky jednou umřeme a skončíme v moři... Všechno jednou skončí v moři. Bude z tebe půda, bude z tebe řasa, bude z tebe ryba a bude z tebe člověk. Všechno se to jí, umírá a rodí...&quot;
Sedíš a snažíš se to všechno pochopit. 

[[Takže my jsme někdy byli ryby?]]
[[A jak dlouho už ty ryby lovíš?|A jak dlouho už rybaříš?]]
[[A co všechno v moři je?]]</tw-passagedata><tw-passagedata pid="24" name="A ty si to pamatuješ?" tags="" position="0,1125" size="100,100">&quot;A ty si to pamatuješ? Pamatuješ si, jak jsi byl ryba?&quot;
Táta s hluboce zadumaným výrazem mlčky kouká kamsi hluboko pod hladinu.

[[Vyrušit ho z přemýšlení]]
[[Čekat]]</tw-passagedata><tw-passagedata pid="25" name="Ano bezdomovec" tags="korektura" position="3225,2625" size="100,100">Nakonec jsi usoudila, že ano.
&quot;Jo... hledám někoho&quot; Řekneš mu popravdě.
&quot;A asi bys taky chtěla vědět, kam ten týpek běžel a co je zač co?&quot; Ušklíbne se na tebe. To tě úplně zarazilo. Seskočila jsi z fontány, přistoupila k němu a nevěřícně zablekotala: &quot;Vy-vy ho-ó znáte?&quot; Muž se rozchechtal až z toho začal kašlat. Pak si utřel rukávem slinu, která mu začala stékat po bradě a šibalsky se na tebe zahleděl svýma pronikavě černýma očima. &quot;Všechno se dozvíš...&quot; Protáhne k tobě nataženou ruku. &quot;Když mi dáš minci...&quot; Řekne s rozšklebeným úsměvem a znovu zachrmlá.

[[Zkusit nějakou minci vylovit z kašny]]
[[Odmítnout a odejít]]
&lt;&lt;if $money gte 1&gt;&gt;[[Dát mu svou minci|Dát mu svou minci z kapsy]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="26" name="Ano, jdu na to!" tags="" position="750,650" size="100,100">Hmátneš do staré otlučené krabičky na dně loďky a vytáhneš mořského šneka. Položíš šneka na placatý kámen a druhou rukou, ve které svíráš menší težký kámen, mu rozdrtíš skořápku. Holého šneka pak nabodneš na háček udičky. Táta se na tebe po očku podívá a pokývá hlavou.

[[Nahodit udičku]]</tw-passagedata><tw-passagedata pid="27" name="Bránou na molo" tags="korektura" position="2875,5650" size="100,100">Proběhla jsi branou a rozběhla se po molu. Slyšíš, jak tě rychle dobíhá a když jsi se ohlédla přes, rameno zjistilas, že už je jen pár metrů od tebe. Molo je ještě dlouhé a tak ti nezbývá, než [[skočit do moře...]]</tw-passagedata><tw-passagedata pid="28" name="Byla jsi chycena..." tags="korektura" position="2425,1225" size="100,100">V další chvíli se ze země namáhavě zvedl i ten, kterého jsi před tím tak trefně sejmula krabicí. Teď k tobě přistoupil a surově ti dal pěstí do žeber, až ses zkroutila do klubíčka. Pak tě chytili každý pod jednou paží, zvedli a otočili k černovlasému chuligánovi, který má teď ve tváři široký úsměv. 

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&quot;I ty jedna ubohá hloupá špindíro. Copak jsem ti už tisíckrát nevysvětloval, že mi nemáš utíkat?!&quot; Přistoupí k tobě a popleská tě po tváři rudé zlostí. 

[[Nic nedělat]]
[[Kousnout ho do prstů]]
[[Kopnout ho do rozkroku]]</tw-passagedata><tw-passagedata pid="29" name="Byla jsi dostižena" tags="korektura" position="2275,1075" size="100,100">Kluci tě dotáhli nazpět ke krabicím, ze kterých právě slezl černovlasý kluk a šklebí se na tebe. &quot;Ach ty jedna hloupá špindíro... Copak sis ještě nezapamatovala, že mi nemáš utíkat?&quot; Přistoupí k tobě a popleská tě po tváři rudé zlostí. 

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

[[Kousnout ho do prstů]]
[[Kopnout ho do rozkroku]]
[[Nic nedělat]]</tw-passagedata><tw-passagedata pid="30" name="Běžet zpátky" tags="korektura" position="2975,1000" size="100,100">Přemohl tě strach. Otočila ses na patě a rozběhla se nazpět. Kopec je strmý a utíká se do něj velmi ztěžka... &quot;Za ní!&quot; ozve se ti za zády. Utíkáš, co ti síly stačí a slyšíš, jak se pomalu ale jistě dusání jejich nohou přibližuje. To už se zpoza zatáčky vynořila pekárna. Pelášíš k ní a v boku tě píchá. Když tu se ti už přímo do ucha udýchaně ozvalo: &quot;Kam si myslíš, že nám jako utečeš špindíro?&quot; A v příští chvíli ti podrazil nohy.

[[Byla jsi dostižena]]</tw-passagedata><tw-passagedata pid="31" name="Cesta do přístavu" tags="korektura" position="3050,3125" size="100,100">Kašna ti mizí za zády a ty teď spěcháš uličkou mezi stánky směrem k východu z tržiště. Už ti zbývá jen poslední řada stánků, když najednou ti uličku zastoupí obrovské prase. Je tak velké, že se kolem něj nedá ani prosmyknout a jeho výraz mluví o tom, že nemá v plánu ještě kamkoliv jít.
//Sakra co s ním?! To odlákám jedině nějakým jídlem...//

[[Ukrást něco ze stánku]]
[[Prohrabat se v kupě odpadků]]
&lt;&lt;if $jablko eq 1&gt;&gt;[[Odlákat jí jablkem z kapsy]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="32" name="Chci se tam podívat" tags="korektura" position="5275,3125" size="100,100">&quot;Já bych se tam moc chtěla podívat... ale přes hospodu mě nepustí...&quot; zatváříš se smutně.
&quot;To je ale soukromý molo a to znamená, že není jen tak na procházky, pro všechny, který si to zrovna usmyslí.&quot; Oboří se do tebe a znovu zvedne pádlo, aby se odrazil.
&lt;&lt;if $money eq 0&gt;&gt;Bohužel nemáš ani žádnou minci, aby jsi ho uplatila, tudíž nezbývá, než se koukat, jak odplouvá a...&lt;&lt;/if&gt;&gt;

[[Odejít]]
&lt;&lt;if $money gte 1&gt;&gt;[[Nabídnout mu za svezení minci]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="33" name="Chytit dřevěnou krabici vedle tebe na zemi a použít ji k sebeobraně" tags="korektura" position="2650,1250" size="100,100">Chňapla jsi dřevěnou krabici do ruky, zdvihla ji a...

[[Použít ji jako štít]]
[[Rozmáchnout se s ní]]</tw-passagedata><tw-passagedata pid="34" name="Chytit hrábě vodorovně před sebe a rozběhnout se mezi ně" tags="korektura" position="2575,1775" size="100,100">Pozdvihla jsi hrábě před sebe a rozběhla se proti nim. Kluci zaskočeně zpomalili a vtom jsi vběhla přímo mezi ně. *PRÁSK* *PRÁSK* Ozvalo se z každé strany. Tebe samotnou ten náraz odmrštil nazpátek a všichni tři jste se svalili na zem na záda. Tebe to zas tak nebolelo, jen ti trochu brní ruce, ale oni teď oba leží na zemi a lapají po dechu. Rychle ses vyškrábala zpět na nohy a tryskem kolem nich proběhla ulicí dolů. Když jsi kolem nich probíhala, zaznamenalasi, že ten, kterému se dostalo výprasku železnou částí, ještě stále leží na zemi a lapá po dechu. Avšak ten druhý se už pomalu sbíral ze země a asi ještě bude dělat nějaké problémy... A vskutku! Už slyšíš, jak ti za zády dusají jeho kroky a pomaličku se přibližují... 
&quot;Ty jedna odporná špindíro! Jen počkej, až tě dostanu, ti to nandám za všechny tři!&quot;
Utíkáš, co ti síly stačí a slyšíš, že tě pomalu dohání. Kousek před tebou právě z domu vychází nějaká paní...

[[Poprosit ji o pomoc]]
[[Proběhnout kolem ní a plácnout ji po zadku]]</tw-passagedata><tw-passagedata pid="35" name="Chytit se okapu" tags="korektura" position="1575,750" size="100,100">//Okap asi bude lepší.// Pořádně se jednou rukou chytíš žebřík, druhou se natáhneš k okapu a chytneš se ho. Je už celkem starý... //No snad tě udrží.//
Chytíš se i druhou rukou. Pak se přitáhneš a vyšvihneš na něj nohu. Okap hrozivě zaskřípal, ale zatím drží...

[[Vyšplhat]]
[[Radši se vrátit na zem]]</tw-passagedata><tw-passagedata pid="36" name="Chňaplas železnou naběračku a praštila ho po hlavě" tags="korektura" position="4025,425" size="100,100">Přiběhla jsi k otevřenému pytli s moukou, vytáhla z něj težkou kovanou naběračku, trošku zavrávorala, protože se ti před očima znovu zatmělo a hned, jak ses opět mohla na svou stabilitu spolehnout, jsi k němu přiskočila a plnou silou ho &lt;&lt;linkreplace &quot;praštila po hlavě.&quot;&gt;&gt;praštila po hlavě. 
Ozvalo se zvonivé zadunění a pekař, který se právě znovu snažil zvednout, se jak široký, tak dlouhý natáhl  na podlahu v bezvědomí a na hlavě mu okamžitě začala vyskakovat obří boule. 
Srdce ti tluče jako o závod a teprve teď ti dochází, co jsi to vlastně udělala... Nějak zvlášť ti to ale nevadí a naopak cítíš až lehké vzrušení z rebélie. Sehnula jsi se k němu, zkontrolovala, že je opravdu v bezvědomí, a pak mu z pásku hbitě [[sebrala svazek klíčů.]]

&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="37" name="Chňapnout naběračku a ještě trčící střepy vymlátit" tags="korektura" position="4900,1300" size="100,100">Smetla jsi rukou střepy z naběračky, opět ji pozvedla a s její pomocí skleněné trny začala vytloukat. V tu chvíli, kdy už to vypadá nadějně, se za tebou hlasitě ozvalo: &quot;Héj! Co tam děláš?!&quot; Vyplašeně se otočíš a uvidíš rozlíceného pekaře, stojícího v místnosti jen pár metrů od tebe. V panice se chytneš rámu a v mžiku na něj vylezeš...

[[Přeskočit na dřevěné zábradlí balkónu]]
[[Skočit na podlahu balkónu]]</tw-passagedata><tw-passagedata pid="38" name="Chňapnout železnou naběračku a ještě vymlátit trčící střepy" tags="korektura Změna-hudby Smrt-ok" position="4775,700" size="100,100">Chceš se rozběhnout k naběračce, když si uvědomíš, že jsou všude střepy a ty máš bosé nohy. Kroky se blíží víc a víc. Už skoro nemáš čas! Přitáhneš se tedy k rámu okna a dáváš opatrně ruce mezi střepy. V ten moment se za tebou hlasitě ozve &quot;Héj! Co tam děláš?!&quot; Vyplašeně se otočíš a uvidíš rozlíceného pekaře, stojícího v místnosti. Tím, že jsi se tak prudce otočila jsi ale ztratila balanc a v příští sekundě jsi řachla přímo na rám. Břicho se ti nabodlo na skleněná ostří. Střepy projely skrz kůži hluboko do těla. Vydral se z tebe chraplavý výkřik, který v zápětí bublavě zanikl v potoku krev, která se ti vyvalila z pusy. Před očima ti potemnělo. Ještě chvíli vnímáš tu neskutečnou řezavou bolest a potom už nastoupila opravdová &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;, tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $probodanibricha to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="39" name="Do hloubky..." tags="korektura" position="2450,0" size="100,100">Intenzita nabírá na rozměru... Celé zorné pole ti zaplnilo ono bílé světlo a celá tvá dosavadní schránka začíná zrnit. Táhne tě to tam čím dál naléhavěji... 
&lt;&lt;linkreplace &quot;Chceš toho být součástí...&quot;&gt;&gt;Chceš toho být součástí...
  &lt;&lt;linkreplace &quot;Jsi toho součástí!..!.. . . .&quot;&gt;&gt;
  
    Tvé bytí je na hranici rozplynutí [[k d y ž  t u. . .n a.je...D.n...0u.. .. .]]
  &lt;&lt;/linkreplace&gt;&gt;
  
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="40" name="Do hostince" tags="korektura Opět-naživu Změna-hudby" position="2775,5525" size="100,100">Doběhla jsi k dveřím hostince, otevřela je dokořán &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a...
Vpadla do náruče dvou námořníků, kteří se zrovna chystali vyjít ven na dvorek. &quot;Držte ji!&quot; Slyšíš, jak na ně křiknul zloděj. A v příští chvíli tě už svírají pevné paže, až se nemůžeš skoro hnout. Začala jsi pištět a v tu ránu ti pusu zacpala tvrdá ruka plná mozolů. &quot;Ale ale kuřátko... kampak si myslíš, že utíkáš?&quot; Ptá se tvůj věznitel s hustým bílým vousem a šátkem na hlavě. Bezmocně sleduješ, jak se zloděj blíží k tobě s provazem. Ruce ti byly hrubě svázány za zády, až se ti provaz zařezává do kůže. &quot;No to se ni podívejme...&quot; řekne ti pak zloděj do tváře. Máš teď alespoň jedinečnou příležitost si prohlédnout jeho tvář. Má dlouhé, uhlově černé vlasy v culíku, černou bradku s fousem, tmavé oči a kostěná naušnice v levém uchu. &quot;A já si myslel, že jsem tě setřásl už kdoví jak dávno.&quot; Usměje se a odhalí tak několik zlatých zubů. &quot;Ale když jinak nedáš... dobře, vemem tě tedy sebou a pak tě někde prodáme za dobrý peníz co na to říkáš?&quot; Vyděšeně jsi vykulila oči a je úplně jedno co by jsi chtěla říct, protože máš pusu ještě stále zacpanou a sotva můžeš mezi prsty dýchat. &quot;Tak jsem rád, že souhlasíš!&quot; Řekne pak muž s úsměvem a pozdvihne znovu bambitku. S hrůzou sleduješ, jak ji zvedl až nad hlavu a potom... ti dal rukojetí tvrdou ránu do týla, až jsi [[ztratila vědomí.]]

&lt;&lt;/linkreplace&gt;&gt;


&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="41" name="Do kapsy" tags="" position="275,1425" size="100,100">Tyto pochutinky jsou velká vzácnoost. Táta ji musel mít schovanou od doby, co minulý měsíc posledně odpluli obchodníci z dalekých krajin. Tehdy jich pár koupil, a že nebyly levné! Byla by škoda si to hned sníst. 
//Ne... Na to se určitě najde i lepší příležitost.// Pomyslíš si a strčíš si barevnou sladkost do kapsy.

&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $bonbon to true&gt;&gt;
&lt;&lt;set $dobranalada = 1&gt;&gt;
&lt;&lt;set $jaksemas = 0&gt;&gt;
&lt;&lt;set $jakjsisevyspal = 0&gt;&gt;
&lt;&lt;set $jakdlouhorybaris = 0&gt;&gt; 
&lt;&lt;set $lhani = 0&gt;&gt;

</tw-passagedata><tw-passagedata pid="42" name="Do pusy" tags="" position="150,1425" size="100,100">&lt;span style=&quot;font-size: 30px;&quot;&gt;Bylo odemknuto ocenění-  __{{{Chuť dálných krajin}}}__&lt;/span&gt;


[[Přidat do sbírky a pokračovat v příběhu|Do pusy 2]]</tw-passagedata><tw-passagedata pid="43" name="Do přístavu" tags="korektura" position="4100,3475" size="100,100">Prokličkovala jsi mezi potácejícími se námořníky a vyrazila přímo do přístavu. Prošla jsi kolem dvou stánků s čerstvě vylovenými rybami a vstoupila na velké přístavní molo. Tady už se ukázala ona ohromná loď v celé své kráse. Bohužel však kotví na vedlejším soukromém mole patřícímu Taverně u Černé Krakatice. A tam se dá dostat jedině skrze onu hospodu, kde jsi nepochodila... Už jsi chtěla odvrátit zrak, když tu &lt;&lt;linkreplace &quot;zalapáš po dechu...&quot;&gt;&gt;zalapáš po dechu...
Po soukromém molu si to právě vykračuje tvůj zloděj a má namířeno přímo k té velké lodi! Strnule stojíš a &lt;&lt;linkreplace &quot;sleduješ ho.&quot;&gt;&gt;sleduješ ho.
Muž právě došel až k můstku, potom se zarazil, strčil do kapsy a něco zkontroloval. Potom pokýval hlavou, ruku z kapsy vytáhl a vyšel po můstku do lodi, kde se ti ztratil z dohledu. Stojíš tam a &lt;&lt;linkreplace &quot;nevíš, co máš dělat...&quot;&gt;&gt;nevíš, co máš dělat...
Půlka tebe má největší chuť odejít domů obejmout rodiče a ta druhá půlka se chce kousnout a vyrazit za ním na loď dostat nazpět, co ti právem náleží. Chvíli ještě balancuješ a potom...

[[Odejdeš domů]]
[[Vyrazíš získat prstýnek]]

&lt;&lt;set $pristav to true&gt;&gt;

&lt;&lt;/linkreplace&gt;&gt;
 &lt;&lt;/linkreplace&gt;&gt;
   &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="44" name="Do sudu na levo" tags="korektura" position="3625,5700" size="100,100">Přiskočila jsi k sudu a rychle do něj vlezla. Nohama jsi dopadla na prázdné dno a stihla ses tak akorát skrčit a už slyšíš, že námořníci prošli branou a... //Sakra!// Zastavili se přímo před sudy.
&quot;Ech... Mě se tak zatraceně nechce!&quot; Slyšíš říkat jednoho. &quot;A mě se snad ksakru chce?&quot; na to ten druhý. &quot;No jó... Tak sebou hejbnem ať už to máme z krku. Jak že byly ty instrukce?&quot; 
&quot;V těch co maj na sobě křížek je zboží na pašování, takže ty jen zavřem a do těch co sou prázdný se ještě doleje víno, ať máme po cestě co chlastat...&quot; A oba se hlasitě zasmáli. Zatrnulo to v tobě //Jak jako zavřeme? Jak jako nalije víno?!// prolétne ti hlavou. 
&quot;Ták jo... dem na to.&quot; A vidíš, jak námořník s heknutím zvedl dřevěné víko, vsadil ho na vedlejší sud a zatloukl ho dřevěnou palicí. //Tohle je špatný! Musím rychle pryč!// usoudíš a už už se chystáš zvednout, když se námořník objevil přímo nad tebou. Přes dřevěné víko, které drží v rukou tě však nevidí. Pustil ho a to dunivě dopadlo na otvor. Z vrchu ho ještě hlasitě dotloukly, aby pevně drželo. Ocitla ses v naprosté tmě a [[prostoupila tebou panika.]]</tw-passagedata><tw-passagedata pid="45" name="Do sudu na pravo" tags="korektura Opět-naživu Změna-hudby" position="3750,5700" size="100,100">Přiskočila jsi k sudu a rychle do něj vlezla. Nohama jsi dopadla na nějaké tvrdé předměty zabalené látkách. Prozkoumala by jsi, co to je, ale teď na to není ta pravá chvíle. Stihla ses tak akorát skrčit mezi zabalené předměty u dna sudu a už slyšíš, že námořníci prošli branou a... //Sakra!// Zastavili se přímo před sudy.
&quot;Ech... Mě se tak zatraceně nechce!&quot; Slyšíš říkat jednoho. &quot;A mě se snad ksakru chce?&quot; na to ten druhý. &quot;No jó... Tak sebou hejbnem ať už to máme z krku. Jak že byli ty instrukce?&quot; 
&quot;V těch co maj na sobě křížek je zboží na pašování, takže ty jen zavřem a do těch co sou prázdný se ještě doleje víno, ať máme po cestě co chlastat...&quot; A oba se hlasitě zasmáli. Zatrnulo to v tobě //Jak jako zavřeme?!// prolétne ti hlavou. 
&quot;Ták jo... dem na to.&quot; A námořník s heknutím cosi zvedl. V zápětí se oběvil přímo nad tebou, ale přes dřevěné víko, které drží v rukou tě nevidí. S hrůzou sleduješ, jak víko dopadlo na otvor a z vrchu ho ještě něčím hlasitě dotloukli, aby pevně drželo. Jediný zdroj vzduchu a světla je teď malý kulatý otvor ve víku. 

[[Začít křičet, aby tě vytáhli]]
[[Tiše čekat]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="46" name="Dolů" tags="korektura Změna-hudby Smrt-ok" position="3000,1250" size="100,100">Plnou silou jsi zabrala a páčíš tyčí směrem dolů. &quot;Héj, ty blbko co si ksakru myslíš, že děláš?!&quot; Zakřičí na tebe poplašeně černovlasý kluk, protože hromada krabic, na které sedí, se teď začíná zlověstně naklánět dopředu. &quot;K-kluci, co tam stojíte! Na ni! Sejměte ji!&quot; zakřičí v panice a snaží se z krabic slézt dolů. To už je však pozdě. Nakupená věž se spolu s klukem převážila a zakryla ti nebe nad hlavou. Až teď sis uvědomila, cos to vlastně udělala... Už je však pozdě. V okamžiku se na tebe snesla lavina těžkých dřevěných krabic. Hned první tě prudce smetla na zam, ta další ti dopadla přímo na hlavu a přimáčkla k zemi... 
*KŘUP!* ozvalo se v tvé krční páteři a zavládla &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;, tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $zlomenyvaz to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="47" name="Dolů směrem na tržiště" tags="korektura" position="2425,1850" size="100,100">Utíkáš dál ulicí&lt;&lt;if $zpomaleni lte 5&gt;&gt;a štěstí z nečekaného výkonu tě ještě stále hřeje na hrudi. Pak se ohlédneš. Po tvé levé straně kolem tebe právě projíždí vůz naložený senem. Vpředu na něm sedí fousatý farmář. Hodil na tebe letmý pohled. Znuděně drží otěže staré muly, která vůz táhne. Ten na tržiště určitě dojede rychleji, než bys tam byla pěšky!

[[Poprosit ho, aby tě svezl|Poprosit ho, aby tě svez zpomalení]]
[[Nenápadně zezadu vylézt na vůz a schovat se do slámy]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;, ale my už přeci víme, že jsi nasbírala limitní počet bodů zpomalení... V jiné situaci už by bylo tímto pronásledování u konce, teď se však na poslední chvíli objevila záchrana, tak si dávej pozor, abys to nezvorala...
Právě kolem tebe z levé strany projíždí vůz naložený senem. Vpředu na něm sedí fousatý farmář a znuděně drží otěže staré muly, která vůz táhne. Ten na tržiště určitě dojede rychleji, než by jsi tam byla pěšky!

[[Poprosit ho, aby tě svezl|Poprosit ho, aby tě svez zpomalení 2]]
[[Nenápadně zezadu vylézt na vůz a schovat se do slámy]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="48" name="Doposlechnout si vyprávění" tags="Posrala-to korektura" position="3850,2950" size="100,100">&quot;...V tom hostincu prej celou noc měli nějakou chlastačku... Ale je ti to ňáký divný. Šeptá se, že kapitán týhle rádoby vobchodnický kocábky, byl a bůh ví, jestli ještě furt není...&quot; Zatváří se muž tajnůstářsky a důležitě &quot;...Pirát! Tihlencti vrabčáci se jen tak zpívat nepřenaučej, na to maj vod výchovy moc tuhej kořínek... Heleď ale bacha! Tyhleti týpci si s nikym moc servítky neberou.&quot; Dokončí s dramaticky pozdviženým prstem. &quot;Je to vše?&quot; Zeptáš se už netrpělivým tónem. &quot;Alé jó... Seš taky netrpělivá...&quot; To už jsi rychle poděkovala a vyrazila. Za zády ještě slyšíš, jak na tebe volá: &quot;Jó prej má posádka nějaký svý heslo... Něco jakó... Karagar!&quot; To bylo poslední, co jsi zaslechla.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $zpomaleni lte 5&gt;&gt;Naštěstí jsi se svým časem dokázala doposud dobře hospodařit a proto  ještě stále můžes [[pokračovat v pronásledování.|Cesta do přístavu]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi však se svým časem nedokázala dostatečně hospodařit a doposlechnutí tohoto příběhu tě stálo poslední šanci na dostižení. Všechna tvá rozhodnutí na cestě tě nakonec dovedla k tomu, že [[zloděj ti unikl...]] 

&lt;&lt;set $konecdlouhokecal to true&gt;&gt;&lt;&lt;/if&gt;&gt;


&lt;&lt;set $heslo to true&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="49" name="Doposlechnout si vyprávění náskok" tags="korektura" position="3975,2850" size="100,100">&quot;...V tom hostincu prej celou noc měli nějakou chlastačku... Ale je ti to ňáký divný. Šeptá se, že kapitán týhle rádoby vobchodnický kocábky, byl a bůh ví, jestli ještě furt není...&quot; Zatváří se muž tajnůstářsky a důležitě &quot;...Pirát! Tihlencti vrabčáci se jen tak zpívat nepřenaučej, na to maj vod výchovy moc tuhej kořínek... Heleď ale bacha! Tyhleti týpci si s nikym moc servítky neberou.&quot; Dokončí s dramaticky pozdviženým prstem. &quot;Je to vše?&quot; Zeptáš se už netrpělivým tónem. &quot;Alé jó... Seš taky netrpělivá...&quot; To už jsi rychle poděkovala a vyrazila. Za zády ještě slyšíš, jak na tebe volá: &quot;Jó prej má posádka nějaký svý heslo... Něco jakó... Karagar!&quot; To bylo poslední, co jsi zaslechla.
Za normálních okolností by jsi teď dostala bod zpomalení, ale jelikož jsi využila vlastní minci a nezdržovala se tak s jejím získáváním, necháme to být.

[[Pokračovat v pronásledování|Cesta do přístavu]]


&lt;&lt;set $heslo to true&gt;&gt;</tw-passagedata><tw-passagedata pid="50" name="Dostali tě" tags="korektura" position="2500,825" size="100,100">Byla jsi dotažena nazpět před řeznictví, kde se z hromady povalených krabic právě vyškrabal onen černovlasý kluk. Právě se oprašuje, když však zvedne zrak a uvidí, jak mu tě nesou, nechal toho a ve tváři se mu rozhostil jízlivý úsměv.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&quot;I ty jedna odporná, ubohá špindíro...&quot; Zapřede jako kočka, která si hraje s myší, když už stojíš přímo před ním, pod každým podpažím držena jedním kumpánem. &quot;Ty ses mě snažila takhle zabít nebo co?&quot; řekne medovým hlasem a tobě se všechny svaly v těle zatnou zlostí. Kluk si promasíruje klouby na ruce, rozmáchne se a dá ti pěstí do břicha, až vyjekneš a zkroutíš se. &quot;Nenené špindíro.&quot; řekne klučina a znovu tě narovná. &quot;Hezky se na mě dívej.&quot; Řekne s úsměvem a popleská tě po tváři...

[[Kousnout ho do prstů]]
[[Kopnout ho do rozkroku]]
[[Nic nedělat|Nic nedělat 2]]</tw-passagedata><tw-passagedata pid="51" name="Dostali tě." tags="korektura" position="2425,975" size="100,100">Kluk, kterého jsi před tím tak trefně udeřila do obličeje, už se vzpamatoval. Teď k tobě přistoupil a surově tě kopl do žeber, až sse zkroutila do klubíčka. Pak tě chytili každý pod jednou paží, zvedli a otočili k černovlasému chuligánovi, který má teď ve tváři široký úsměv. 

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&quot;I ty jedna ubohá hloupá špindíro. Copak jsem ti už tisíckrát nevysvětloval, že mi nemáš utíkat?!&quot; Přistoupí k tobě a popleská tě po tváři rudé zlostí. 

[[Kousnout ho do prstů]]
[[Kopnout ho do rozkroku]]
[[Nic nedělat]]</tw-passagedata><tw-passagedata pid="52" name="Dostali tě. 2" tags="korektura" position="2425,1100" size="100,100">Kluk, kterého jsi trefila do nohy, tě teď zvedl ze země. Druhý kluk, kterého jsi před tím tak trefně udeřila do obličeje, už se taky vzpamatoval. Přišel k tobě a dal ti pěstí do žeber. Bolestně jsi zasténala a zkroutila se. Pevně tě chytli pod paží každý z jedné strany a znovu tě postavili na nohy. Před tebou teď stojí černovlasý chuligán, který má ve tváři široký úsměv. 

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&quot;I ty jedna ubohá hloupá špindíro. Copak jsem ti už tisíckrát nevysvětloval, že mi nemáš utíkat?!&quot; Přistoupí k tobě a popleská tě po tváři rudé zlostí. 

[[Nic nedělat]]
[[Kousnout ho do prstů]]
[[Kopnout ho do rozkroku]]</tw-passagedata><tw-passagedata pid="53" name="Držet ho a udeřit jím do okna" tags="korektura" position="4650,900" size="100,100">Přistoupila jsi blíž, napřáhla se a vší silou jsi jím praštila do skleněné tabule. Ta se s hlasitým tříštěním rozpadla na kusy. Velké střepy dopadly na podlahu a rozpadly se na tisíce kousků, které se rozlétly všude. Takový hluk tě samotnou vyděsil. Dole to ztichlo. //A sakra...// pomyslíš si a setřepeš ze sebe úlomky, co ti utkvěly ve vlasech a na oblečení.
Prolezla bys oknem, ale je ještě hodně střepů trčících přímo z rámu. Zezdola se ozvaly rázné kroky nahoru. 
//Co teď?// 
Naštěstí máš ještě štokrle v ruce a tak jsi ho znovu pozdvihla a začala skleněné trny vytloukat. Kroky se blíží víc a víc! Dala jsi štokrle na zem a pohodlně vylezla na rám. Odtamtud jsi pak...

[[Přeskočila na dřevěné zábradlí balkónu]]
[[Skočila na podlahu balkónu]]</tw-passagedata><tw-passagedata pid="54" name="Držet hrábě v pozoru a vyčkávat" tags="korektura" position="2625,1925" size="100,100">Kluci jsou blíž a blíž. 
A teď je ten okamžik. Jsou akorát na dosah, kdy je na čase rozhodnout, jaký styl obrany zvolíš:

[[Rozmáchnout se hráběmi širokým obloukem před sebe]]
[[Chytit hrábě vodorovně před sebe a rozběhnout se mezi ně]]
[[Napřáhnout hrábě před sebe a varovat je]]</tw-passagedata><tw-passagedata pid="55" name="Držet ji a udeřit s ní do okna" tags="korektura" position="4650,1000" size="100,100">Přistoupila jsi blíž, napřáhla se a vší silou jsi jí praštila do skleněné tabule. Ta se s hlasitým tříštěním rozpadla na kusy. Velké střepy dopadly na podlahu a rozpadly se na tisíce kousků, které se rozlétly všude. Takový hluk tě samotnou vyděsil. Dole to ztichlo. //A sakra...// pomyslíš si a setřepeš ze sebe úlomky, co ti utkvěly ve vlasech a na oblečení.
Prolezla bys oknem, ale je tam ještě hodně střepů, trčících přímo z rámu.
//Co teď?// 
Naštěstí máš jetě naběračku v ruce, a tak jsi ji znovu pozvedla a začala skleněné trny vytloukat. V tu chvíli, co už to vypadá nadějně, se za tebou hlasitě ozvalo: &quot;Héj! Co tam děláš?!&quot; Vyplašeně se otočíš a uvidíš rozlíceného pekaře, stojícího v místnosti jen pár metrů od tebe. V panice se chytneš rámu a v mžiku na něj vylezeš...

[[Přeskočit na dřevěné zábradlí balkónu]]
[[Skočit na podlahu balkónu]]</tw-passagedata><tw-passagedata pid="56" name="Dveřmi na konci chodby" tags="korektura" position="4050,4600" size="100,100">Přišla jsi ke dveřím na konci chdoby a [[nakoukla do nich|Nakoukla do nich- dvůr]]</tw-passagedata><tw-passagedata pid="57" name="Dveřmi na konci chodby za tebou" tags="korektura Změna-hudby" position="5150,4925" size="100,100">Došla jsi ke dveřím na konci chodby a už do nich chceš nakouknout, když se najednou dveře lokálu se hlasitě rozrazily dokořán a do chodby rázně vkráčel potetovaný námořník od vchodu. Úlekem jsi až nadskočila. Pohled mu utkvěl na tobě a hlasitě tě okřikl: &quot;Co tady šmejdíš ty kryso?!&quot; V panice jsi dveře otevřela chceš jimi proběhnout ven na dvůr, zalitý sluncem, už je však pozdě. Námořník tě svými mílovými kroky dohnal a pevně chytil. Dveře se znovu dovřely a potyčka pokračuje v opětovném šeru. Chceš vykřiknout, ale pusu ti zacpala jeho hrubá pracka plná mozolů. &quot;A mám tě!&quot; Zachraplá ti do ucha. Chceš se vytrhnout a začít křičet, ale svírá tě takovou silou, že skoro nemůžeš dýchat. Pak stisk povolil ale u krku se ti zaleskl dlouhý zahnutý nůž. &quot;Jen cekni a vykuchám tě jak malý sele rozumíš?!&quot; Ztuhla jsi děsem. Srdce ti tluče jak o závod. Muž ti zkroutil ruce za záda a svázal je hrubým provazem k sobě, až se ti provaz zařezává do kůže. Potom vytáhl z kapsy starý ošoupaný pytel a hodil ti ho přes hlavu. Skrz hrubou pytlovinu slyšíš, jak ti zachraplal do ucha: &quot;Ty budeš dobrý zboží! Za tebe dostaneme pořádnej balík...&quot; To tě tak vyděsilo, že jsi se začala zmítat, jako divá. V příští vteřině tě však uhodilo do hlavy něco těžkého a ty jsi [[ztratila vědomí.]]  

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="58" name="Dá se na útěk" tags="korektura" position="2900,5400" size="100,100">Sebrala jsi všechnu svou sílu a vyrazila druhou stranou. Běžíš doslova jako o život. Slepice se před tebou rozbíhají na všechny strany a hlasitě kdákají. 
Kam svůj běh směřuješ?

[[Do hostince]]
[[Bránou na molo]]</tw-passagedata><tw-passagedata pid="59" name="Dál dolů" tags="korektura" position="1875,1250" size="100,100">Než se kluk stihl vzpamatovat, rozběhla ses ulicí dolů. V zápětí se však již probral a hned se pustil za tebou! &quot;Ty jedna odporná špindíro! Jen počkej, až tě dostanu, ti to nandám za všechny tři!&quot;
Utíkáš, co ti síly stačí a slyšíš ho, jak ti dupe za zády a pomalu tě dohání. Kousek před tebou právě z domu vychází nějaká paní...

[[Poprosit ji o pomoc]]
[[Proběhnout kolem ní a plácnout ji po zadku]]</tw-passagedata><tw-passagedata pid="60" name="Dál nehybně ležet" tags="korektura" position="4250,575" size="100,100">Pak se ale najednou kroky zastavily a ozval se zvuk, jak někam něco padá. To už ti nedalo a potajmu jsi vykoukla. V místnosti stojí pekař a zrovna do nůše - kam ses původně zvažovala schovat - vysypal celou obří náruč bochníků. //Jaj... to by asi bolelo.//

[[Schovat se|Schovat se 2]]
[[Pokračovat v pozorování]]</tw-passagedata><tw-passagedata pid="61" name="Dál nehybně stát" tags="korektura" position="3725,500" size="100,100">Pak se ale najednou kroky zastavily a ozval se zvuk, jak někam něco padá. To už ti nedalo a potajmu jsi vykoukla. V místnosti stojí pekař a zrovna do nůše - kam jsi se původně zvažovala schovat - vysypal celou obří náruč bochníků. //Jaj... to by asi bolelo.//

[[Schovat se|Schovat se 3]]
[[Pokračovat v pozorování|Pokračovat v pozorování 2]]</tw-passagedata><tw-passagedata pid="62" name="Dát mu něco, aby tě svezl" tags="korektura" position="2225,1825" size="100,100">&quot;Já... Já vám za svezení něco dám...&quot; 
Sáhneš do kapsy a &lt;&lt;if $jablko eq 0 and $money eq 0 and $sušenka eq 0 and $bonbon is false&gt;&gt;uvědomíš si, že jsi zatím za své dobrodružství - ač už byla nejedna příležitost - nic nezískala....
Podíváš se na něj a zahanbeně řekneš: &quot;Já vlastně nic nemám...&quot; 
Farmář se na tebe ale usmál a odvětil: &quot;To nevadí, někdy mi třeba pomůžeš zrýt nějaký záhonek.&quot; Usměje se na tebe a popožene mulu. V tu chvíli už doběhl kluk skoro až k tobě, vidíš, jak se chystá už už chytit vozu, když mula přidala do kroku a vůz mu ujel přímo před nosem a zmizel v dáli, [[směřujíce na tržiště.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $jablko eq 1 or $money eq 1 or $sušenka eq 1 or $bonbon is true&gt;&gt;už už chceš vytáhnou něco, co jsi během své cesty ukořistila, když tě farmář se slovy: &quot;To je v pořádku,&quot; zastaví.
&quot;Třeba mi někdy pomůžeš zrýt nějaký záhonek.&quot; Usměje se na tebe a popožene mulu. V tu chvíli už doběhl kluk skoro až k tobě, vidíš, jak se chystá už už chytit vozu, když mula přidala do kroku a vůz mu ujel přímo před nosem a zmizel v dáli, [[směřujíce na tržiště.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="63" name="Dát mu svou minci" tags="korektura" position="4000,3025" size="100,100">Neochotně z kapsy vytáhneš lesklý penízek a podáš ho zasmrádajícímu muži. Oči mu zasvítily a penízek v mžiku zmizel v útrobách jeho potrhaného kabátu. &quot;Ale rychle!&quot; Dupneš.
&quot;Nó...&quot; Začne chraplavě. &quot;Jelikož na tomhle vostrově znám každýho, kdo tu bydlí a tenhle ksicht tu vidím prvně... Bude to nějakej z těch námořníků, kerý dnes v noci připluli.&quot; Řekne a odflusne si. &quot;Všici tihle námořníci sou jeden jak druhej pěkný vejlupci.&quot;
&quot;No a kam šel?!&quot; Začínáš ztrácet nervy. &quot;Ále vsadim se, že šel nejspíš do hostinca...&quot; Mávne směrem na ulici vedoucí do přístavu. &quot;Taky je ale klíďo možný, že už budou vodplouvat... nevypadá to, že by se tu nějak chtěli zdržovat...&quot; Muž podrbe zablešeného psa a chystá se ještě ve vyprávění pokračovat... 

[[Už vyrazit]]
[[Doposlechnout si vyprávění]]

&lt;&lt;set $money -= 1&gt;&gt;</tw-passagedata><tw-passagedata pid="64" name="Dát mu svou minci z kapsy" tags="korektura" position="3975,2700" size="100,100">Neochotně z kapsy vytáhneš lesklý penízek a podáš ho zasmrádajícímu muži. Oči mu zasvítily a penízek v mžiku zmizel v útrobách jeho potrhaného kabátu. &quot;Ale rychle!&quot; Dupneš. 
&quot;Nó...&quot; Začne chraplavě. &quot;Jelikož na tomhle vostrově znám každýho, kdo tu bydlí a tenhle ksicht tu vidím prvně... Bude to nějakej z těch námořníků, kerý dnes v noci připluli.&quot; Řekne a odflusne si. &quot;Všici tihle námořníci sou jeden jak druhej pěkný vejlupci.&quot;
&quot;No a kam šel?!&quot; Začínáš ztrácet nervy. &quot;Ále vsadim se, že šel nejspíš do hostinca...&quot; Mávne směrem na ulici vedoucí do přístavu. &quot;Taky je ale klíďo možný, že už budou vodplouvat... nevypadá to, že by se tu nějak chtěli zdržovat...&quot; Muž podrbe zablešeného psa a chystá se ještě ve vyprávění pokračovat... 

[[Už vyrazit]]
[[Doposlechnout si vyprávění|Doposlechnout si vyprávění náskok]]

&lt;&lt;set $money -= 1&gt;&gt;</tw-passagedata><tw-passagedata pid="65" name="Dát se na útěk" tags="korektura" position="3700,1500" size="100,100">Vystartuješ z úkryt k dvířkům. Pekařova ruka je však rychlejší a tak tě čapl za vlasy.
Bylo to dost nepříjemných pár minut, kdy tě nejdřív peskoval on, potom prodavačka a nakonec se do tebe ještě pustila obtloustlá hospodyňka, která se ujala, že tě vyvede.
Nelítostně tě chňapla a vyleze s tebou ze dveří ven před pekárnu. Táhne tě za sebou jak pytel brambor a pak tě hodí na chodník. &quot;A opovaž se ještě někdy ukázat ty malá mrcho!&quot; Otočí se na patě a kráčí zpět do obchodu. Lidé se jí rychle klidí z cesty.
[[Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="66" name="Dát se na útěk 2" tags="korektura Změna-hudby" position="4525,4775" size="100,100">Pustila jsi dveře a chceš se rozběhnout nazpět lokálem. To už je však pozdě... Námořník po tobě skočil a chytil za vlasy. Vykřikla jsi, ale v příští vteřině ti na hlavě přistál pytel. 
&quot;Héj borci!&quot; Slyšíš, jak na někoho chraplavě volá. Snažíš se vzpouzet, je to ale zbytečné. Slyšíš, jak k vám přispěchaly další kroky a někdo ti surově zavázal ruce za zády. &quot;Ták... a máme tě...&quot; Zachraplá ti přes pytel do ucha. &quot;No skvělé!&quot; Slyšíš jiný hlas. &quot;Tak máme další zboží!&quot; A všichni kolem se rozchechtaly. Zuřivě jsi vykopla nohou a evidentně někoho trefila, protože se ozvalo bolestivé zařvání. &quot;Áu! Ty malá mrcho!&quot; A v příští vteřině ti přistála rána do hlavy, až jsi [[ztratila vědomí.]]

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="67" name="Dát se na útěk 3" tags="korektura" position="4950,4625" size="100,100">Otočila ses a vyběhla ze dveří zpět... přímo do šenkýřčiny náruče. &quot;A mám tě ty malá uličnice!&quot; A bez dalších okolků tě protáhla skrz celý lokál nazpět ven. Za zády ještě slyšíš, jak na tebe huláká námořník: &quot;Jen se tady ještě vopovaž ukázat a podříznu tě jak sele!&quot; V další chvíli už jsi venku a zabouchla ti dveře před nosem. 
[[A jsi zase tam, kde jsi byla...]]</tw-passagedata><tw-passagedata pid="68" name="Dát se na útěk závěs" tags="korektura" position="4900,1700" size="100,100">Vystřelila jsi ze svého úkrytu. Pekař, který právě šel s rukou už nataženou, aby závěs odhrnul, úlekem vykřikl a uskočil. Té chvíle jsi rychle využila a tryskem kolem něj proběhla. &quot;Hééj! Ty malá mrcho!&quot; zahulákal za tebou. 
Dala ses po schodech dolů a slyšíš, jak tě za zády pronásleduje dusání jeho nohou. Seběhla jsi dolů a...

[[Vyběhnout ven]]
[[Zkusit prolézt oknem za pultem]]</tw-passagedata><tw-passagedata pid="69" name="Důvěřovat tomu, že jsi dost lehká na to, aby tě příčky udržely" tags="korektura" position="1700,750" size="100,100">Položila jsi nohu na starou příčku a pomalu na ni přenesla váhu. Vypadá to, že drží... Přesunula jsi tam tedy i druhou nohu. Příčka strašidelně zavrzala, ale nic horšího se nestalo.

[[Vylézt na poslední příčku]]
[[Vylézt po okapu|Chytit se okapu]]</tw-passagedata><tw-passagedata pid="70" name="Fábor" tags="korektura Změna-hudby Opět-naživu" position="4550,2100" size="100,100">&lt;&lt;if $klicepekarna is false&gt;&gt;Fábor ti zní jako dobrý nápad.
Přelezla jsi zábradlí, jednou rukou se ho držíš a svěsíš se, abys na fábor dosáhla. Už se ho skoro dotýkáš, když tu tě za ruku, kterou se držíš zábradlí, chňapne macatá pracka hospodyňky. &quot;A mám tě! Nikam nezdrhneš, ty smrade!&quot; A s čím dál víc brunátnějícím obličejem tě táhne zpátky nahoru! Všechna ta zlost k její osobě v tobě vystoupá do nebes, a tak se přitáhneš a:
[[Kousneš ji do ruky|Kousneš do ruky]]
[[Plivneš jí do obličeje|Plivneš do obličeje]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $klicepekarna is true&gt;&gt;Fábor ti zní jako dobrý nápad.
Přelezla jsi zábradlí, jednou rukou se ho držíš a svěsíš se, aby jsi na fábor dosáhla. Pevně ses ho chytila a pustila se zábradlí. Pořádně tě to zhouplo, ale ty se držíš jako klíště, takže ses hned chytila fáboru i druhou rukou a co nejrychleji po něm jako opice slézáš dolů. Sešplhala jsi až na konec a když se koukneš dolů, zjistíš, že tvé propočty byli trochu nepřesné. Ještě ti dobrý metr a půl k zemi zbývá... Nu, nezbývá než [[skočit]]...
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $baaba to true&gt;&gt;

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;terasa&quot; &quot;music/terasa.mp3&quot;&gt;&gt;&lt;&lt;audio terasa play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="71" name="Ho ukážeš tátovi" tags="" position="1050,500" size="100,100">&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Kapitola I. byla dokončena.&lt;/b&gt;&lt;/span&gt;

Tvá rozhodnutí byla zaznamenána.




Získané předměty:
__//Prstýnek//__
&lt;&lt;if $money eq 1&gt;&gt; __//1 Penízek//__ &lt;&lt;/if&gt;&gt;
&lt;&lt;if $bonbon is true&gt;&gt; __//Sladkost z dalekých krajin//__ &lt;&lt;/if&gt;&gt;
//Udička zůstává na lodi.//
&lt;&lt;set $ukazalaprsten to true&gt;&gt;
&lt;&lt;set $neukazalaprsten to false&gt;&gt;

&lt;b&gt;[[Započít druhou kapitolu]]&lt;/b&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;

&lt;&lt;set $udička = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="72" name="Hodit ho do okna" tags="korektura" position="4650,775" size="100,100">Napřáhla ses a vší jsi silou jsi jím hodila do skleněné tabule. Ta se s hlasitým tříštěním rozpadla na kusy a štokrle prolétlo až na balkón, kde se romlátilo o zábradlí. Velké střepy dopadly na podlahu a rozpadly se na tisíce kousků, které se rozlétly všude. Takový hluk tě samotnou vyděsil. Dole to ztichlo. //A sakra...// pomyslíš si a setřepeš ze sebe úlomky, co ti utkvěly ve vlasech a na oblečení.
Prolezla bys oknem, ale je tam ještě hodně střepů, trčících přímo z rámu. Zezdola se ozvaly rázné kroky nahoru. //Co teď?!//

[[Vylézt opatrně rámem]]
[[Chňapnout železnou naběračku a ještě vymlátit trčící střepy]]</tw-passagedata><tw-passagedata pid="73" name="Hodit jim ji do obličeje a utíkat..." tags="korektura" position="2425,1350" size="100,100">Vyčkala jsi na okamžik, kdy budou u sebe a blíž k tobě, a plnou silou jsi jim švihla krabici do obličeji. *PRÁSK!* Krabice hlasitě zaduněla o jejich hlavy. Jeden z nich zavrávoral a spadl po zádech na dlažbu, druhý zařval a skryl obličej v dlaních. Teď je ta chvíle!

[[Utíkat zpátky nahoru k pekárně|Utíkat zpátky nahoru k pekárně náskok]]
[[Oběhnout je a běžet dolů]]</tw-passagedata><tw-passagedata pid="74" name="Hodit jí do okna" tags="korektura" position="4650,1125" size="100,100">Napřáhla ses a vší jsi silou jsi ji hodila do skleněné tabule. Okno hlasitě zadrnčelo, udělala se v něm velká prasklina, ale neprasklo... Naběračka se odmrštila a se zvonivým rámusem dopadla na podlahu. Dole to ztichlo. //A sakra...//
Chvilku ještě panovalo napjaté ticho a pak se zezdola ozvaly rázné kroky nahoru. //Co teď?!//
&lt;&lt;linkreplace &quot;Sebrat naběračku ze země...&quot;&gt;&gt;
Sebrala jsi naběračku ze země a...

[[Znovu ji hodila]]
[[Udeřit s ní do okna]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="75" name="Hodit mu do obličeje jablkem" tags="korektura" position="3275,1650" size="100,100">Rychle jsi hmátla do kapsy, vytáhla jablko a mrskla mu ho do obličeje! Udělala jsi to na svůj věk celkem slušnou silou, takže se mu jablko ve tváři úplně rozprsklo. Pekař ztratil balanc a řachl na zem mezi střepy. [[Teď nebo nikdy!]]

&lt;&lt;set $jablko = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="76" name="Hodit mu do obličeje jablko z kapsy" tags="korektura" position="4550,575" size="100,100">Vytáhla jsi z kapsy jablko, které jsi nedávno ukořistila z parapetu, vyskočila a plnou silou ho mrskla do pekařova obličeje. Jablko se mu rozprsklo na čele a šťavnaté šrapnely se rozlétly všude kolem. Pekař zavrávoral a spadl na záda na podlahu. &quot;Ahh ty malá svině!&quot; Slyšíš, ho huhlat na zemi, zatímco se snaží namáhavě posadit. Z čela mu odpadávají kousky jablka. Ruka se mu však podlomila a znovu řachl na zem. Přelezla jsi pytle a:

[[Rozběhla se ke schodům]]
[[Vzala železnou naběračku z otevřeného pytle a praštila ho po hlavě|Chňaplas železnou naběračku a praštila ho po hlavě]]</tw-passagedata><tw-passagedata pid="77" name="Jak dlouho už rybaříš?" tags="" position="400,500" size="100,100">&quot;Tatí?&quot;
&quot;Hm?&quot; odvětí otec, s hlavou stále skloněnou k sítím.
&quot;Jak dlouho už vlastně rybaříš?&quot;
Chvíli je ticho, ve kterém slyšíš jen šplouchání vody. 
&quot;Začal jsem, když mi bylo asi tak stejně, co tobě,&quot; odpoví nakonec a dál se věnuje své práci.
&quot;Pročpak tě to vlastně zajímá?&quot;

[[Protože mě zajímá, jestli naši předci taky lovili ryby]]
[[Protože, mě zajímá, jestli jsi někdy dělal i nějakou jinou práci]]</tw-passagedata><tw-passagedata pid="78" name="Jak jsi ses dnes vyspal?" tags="" position="275,500" size="100,100">&quot;Tatí?&quot;
&quot;Hm?&quot; Odvětí otec, s hlavou stále skloněnou k sítím.
&quot;Jak ses dneska vlastně vyspal?&quot;
Chvíli je ticho, ve kterém slyšíš jen šplouchání vody. 
&quot;Dnes nic moc.&quot; Odpoví nakonec a dál se věnuje své práci.
&quot;Proč tě to vlastně zajímá?&quot;

[[Protože mně se dnes spalo ...]]
[[Vypadáš, že ses nevyspal]]</tw-passagedata><tw-passagedata pid="79" name="Jak se máš?" tags="" position="150,500" size="100,100">&quot;Tati?&quot;
&quot;Hm?&quot; odvětí otec, s hlavou stále skloněnou k sítím.
&quot;Jak se dneska máš?&quot;
Chvíli je ticho, ve kterém slyšíš jen šplouchání vody. 
&quot;Jde to.&quot; Odpoví nakonec a dál se věnuje své práci.

[[A jak ses vyspal?]]
[[A jak dlouho už rybaříš?]]</tw-passagedata><tw-passagedata pid="80" name="Jak se otevřou dveře hodit mu kámen s rozmachem do tváře" tags="korektura Změna-hudby Opět-naživu" position="3200,4500" size="100,100">Napřáhla ses s kamenem v ruce a tiše vyčkáváš. V kadibudce se ozvalo pohyb a v příští chvíli se dveře otevřely dokořán. Stojí v nich zloděj a zrovna se se skloněnou hlavou soustředí na zapnutí pásku. Teď je tvá chvíle! A vší silou si po něm kamenem &lt;&lt;linkreplace &quot;hodila.&quot;&gt;&gt;hodila.
Muž v tu samou chvíli právě zvedl hlavu kámen mu tak místo do čela zamířil přímo na pusu. Zloděj bolestí zařval a chytil si rukou poraněné místo. V tu samou vteřinu však druhou rukou hmátl k pasu a vytasil bambitku. Nenávistně se na tebe zahleděl a utřel si ret ze kterého mu odkapává krev. Vidíš teď, že mu v puse - krom pár zlatých zubů - jde ještě zřetelně vidět díra po čerstvě vyraženém přední zubu. 

__[[Převzít ocenění|Převzít ocenění 2]]__

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="81" name="Jak se otevřou dveře s rozmachem ho praštit do čela" tags="korektura Opět-naživu Změna-hudby" position="2975,4575" size="100,100">Napřáhla ses s prknem a tiše vyčkáváš. V kadibudce se ozvalo pohyb a v příští chvíli se dveře otevřely dokořán. Stojí v nich zloděj a zrovna se se skloněnou hlavou soustředí na zapnutí pásku. Teď je tvá chvíle! A vší silou ses &lt;&lt;linkreplace &quot;rozmáchla prknem po jeho hlavě.&quot;&gt;&gt;rozmáchla prknem po jeho hlavě.
Ten v tu samou chvíli právě zvedl hlavu a prknu mu tak místo na hlavu vrazilo přímo do pusy. Zloděj bolestí zařval a chytil se rukou za pusu. V tu samou vteřinu však druhou rukou hmátl k pasu a vytasil bambitku. Nenávistně se na tebe zahleděl a utřel si ret ze kterého mu odkapává krev. Vidíš teď, že mu v puse - krom pár zlatých zubů - jde ještě zřetelně vidět díra po čerstvě vyraženém přední zubu. 

__[[Převzít ocenění]]__

&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="82" name="Jdu do toho Dveře" tags="korektura" position="1675,0" size="100,100">Přeskočila jsi práh a vyběhla do ulice zalité ranním světlem červánků. V dálce mizí prchající postava zloděje. Rozbíháš se za ním, když tu zpozoruješ žebřík, přistavený ke střeše sousedovic domu. Pozastavíš se nad myšlenkou vylézt nahoru a pronásledovat zloděje po střeše... Riskantní, ale je to varianta.

[[Vylézt na střechu]]
[[Pokračovat po zemi]]</tw-passagedata><tw-passagedata pid="83" name="Jdu do toho Okno" tags="korektura" position="1675,150" size="100,100">Přiběhneš k oknu. Na parapetu je zaháknutá malá kotva a pod ní se vlní šest metrů provazu. Trochu se zarazíš... Je to dost vysoko... Pak si všimneš vyčnívající střechy sousedovic domu, na kterou jsi už nejednou lezla... Nebo to přeci jen vzít dveřmi?

[[Provazem dolů]]
[[Po střeše]]
[[Po schodech dolů a dveřmi]]</tw-passagedata><tw-passagedata pid="84" name="Jdu si za svým pokladem!" tags="korektura Změna-hudby" position="5125,2900" size="100,100">Vyrazila jsi nazpět k pevnině a rázně dupeš, aby jsi sama sobě nahnala důvěru.&lt;&lt;if $dedecek is true&gt;&gt; Obraz starého rybáře ti ještě chvíli zůstal obtištěn v paměti a jen pozvolna se rozplývá v přítomnosti aktuálního dění.&lt;&lt;/if&gt;&gt; Když jsi znovu vstoupila na vydlážděnou cestu nábřeží, začala jsi studovat, kudy by se tak dalo na soukromé molo ,patřící Taverně u Černé Krakatice, dostat... Vidíš tu dvě možnosti. 
Buďto se tam dostat skrz lokál, kde - jak tušíš - musí být nějaké dveře na druhou stranu, kudy se tam námořníci dostávají a nebo... Nějak přelézt dřevěný plot, který se od taverny táhne až na okraj nábřežní cesty. 

[[Jít přes tavernu]]
[[Přelézt přes plot]]
[[Ještě hledat alternativu]]

&lt;&lt;set $variantalodka to false&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;sigri&quot; &quot;music/sigri.mp3&quot;&gt;&gt;&lt;&lt;audio sigri play loop&gt;&gt;	
zlodejina</tw-passagedata><tw-passagedata pid="85" name="Je v kuchyni" tags="korektura" position="4450,3450" size="100,100">&quot;Víte on... on pracuje v kuchyni&quot; Řekneš pak.
&quot;Jó to von tady tak krutě dobře vyvařuje?&quot; Rychle zakýváš hlavou. &quot;Takovej holohlavej že?&quot; Doptává se.

[[Přitakat]]
[[Zakroutit hlavou]]</tw-passagedata><tw-passagedata pid="86" name="Ještě hledat alternativu" tags="korektura" position="4950,3050" size="100,100">Stojíš a rozhlížíš se kolem sebe. A pak uvidíš, jak z mola, na kterém jsi před chvílí stála právě sestupuje nějaký mladý pán do drobné rybářské loďky a chystá se vyplout... Ten by tě možná mohl ten kousek svézt, ale není jisté, že se s tebou vůbec bude chtít bavit...

[[Zeptat se rybáře na svoz]]
[[Jít přes tavernu]]
[[Přelézt přes plot]]

&lt;&lt;set $variantalodka to true&gt;&gt;</tw-passagedata><tw-passagedata pid="87" name="Ještě hledat alternativu 2" tags="korektura" position="5025,3350" size="100,100">Stojíš a rozhlížíš se kolem sebe. A pak uvidíš, jak z mola, na kterém jsi před chvílí stála, zrovna sestoupil nějaký mladý pán do drobné rybářské loďky a právě ji odvazuje, aby vyplul... Ten by tě možná mohl ten kousek svézt, ale není jisté, že se s tebou vůbec bude chtít bavit...

[[Zeptat se rybáře na svoz|Zeptat se rybáře na svoz 2]]
[[Přelézt přes plot]]

&lt;&lt;set $variantalodka to true&gt;&gt;</tw-passagedata><tw-passagedata pid="88" name="Ještě jednou zkusit minci ukrást" tags="" position="925,1500" size="100,100">//To ale není fér,// pomyslíš si naštvaně. //Ta mince už tam může ležet pěkně dlouho a táta si beztak ani vůbec nepamatuje, že by tam nějaká mince byla.//
Teď na to ale musíš rychle. Počkala jsi, až bylo jisté, že je táta plně zabrán do práce a pak jsi bleskurychle hmátla po minci, schovala si ji do dlaně a prsty jsi vytáhla šneka.

   __//Získala jsi &lt;&lt;print $money&gt;&gt; minci//__
  
  [[Znovu lovit]]

&lt;&lt;set $money = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="89" name="Ještě počkat" tags="korektura" position="4575,4375" size="100,100">//Né... ještě raději chvilku počkám.// Usoudíš a dál tiše vyčkáváš. Mezi nohama stolů a lidí se ti občas podaří uvidět námořníkovy nohy u baru. Potom zaslechneš jakousi nezřetelnou nadávku a nohy se daly do pohybu směrem do zadní části lokálu.
Opatrně jsi vylezla ze svého úkrytu a o kus dál vykoukla mezi židlemi. Námořník došel k sotva viditelným dveřím na úplném konci místnosti a prošel tudy kamsi dál. Ať se však koukáš jak chceš, zloděje - alespoň odsud - nikde nevidíš...

[[Projít se mezi stolky]]
[[Jít v námořníkových šlépějích a projít dveřmi dál]]</tw-passagedata><tw-passagedata pid="90" name="Ještě počkat námořník" tags="korektura" position="5300,4400" size="100,100">//Né... ještě raději chvilku počkám.// Usoudíš a dál tiše vyčkáváš. Mezi nohami stolů a lidí se ti občas podaří uvidět námořníkovy boty u baru. Potom zaslechneš jakousi nezřetelnou nadávku a nohy se daly do pohybu směrem do zadní části lokálu.
Opatrně jsi vylezla ze svého úkrytu a o kus dál vykoukla mezi židlemi. Námořník došel k sotva viditelným dveřím na úplném konci místnosti a prošel tudy kamsi dál. Ať se však koukáš jak chceš, zloděje -alespoň odsud- nikde nevidíš...

[[Projít se mezi stolky|Projít se mezi stolky 2]]
[[Jít v námořníkových šlépějích a projít dveřmi dál]]</tw-passagedata><tw-passagedata pid="91" name="Ještě tu chvíli počkat" tags="korektura Změna-hudby" position="4825,4800" size="100,100">//Ještě tu radši chvilku počkám.// Usoudíš a dál se tiše krčíš pod stolem.
V tu chvíli ale jeden námořník evidentně prohrál, protože se ozvala rána pěstí do stolu a pár bot po tvé pravici naštvaně dupl. Bohužel jsi však v místě dopadu jeho těžké podrážky měla nohu. Hlasitě jsi vyjekla a nad tebou to ztichlo. Chytila ses za pusu a &lt;&lt;linkreplace &quot;ani nedýcháš.&quot;&gt;&gt;ani nedýcháš. 
Pod stůl se sehnulo několik vousatých hlav. &quot;Ale co to tady máme?!&quot; Zaskřehotá jeden z nich. Vyrazila jsi kupředu, už je však pozdě. Několik rukou tě sevřelo skálopevným stiskem a vytáhlo z pod stolu. Chceš se vytrhnout a začít křičet, ale námořníci tě obestoupili a pusu ti zacpala špinavá dlaň plná tvrdých mozolů.
„Ale, alé... copak to tu máme za kuřátko?&quot; Ptá se jeden z nich a pohotově z kapsy vytahuje provaz. Vytřeštila jsi oči a snažíš se vzpouzet. „A jak se brání kůzlátko jedno!“ Zasměje se jiný, zkroutí ti ruce za zády a sváže ti je pevným uzlem &quot;To vypadá... že tu máme další zboží!&quot; Řekl starý vousatý, jehož tvář byla zjevně po desetiletí bičována mořskými větry. Vytáhl z kapsy ošoupaný špinavý pytel a nasadil ti jej na hlavu. To se v tobě vzedmula obrovská vlna odporu a &lt;&lt;linkreplace &quot;prudce jsi sebou škubla.&quot;&gt;&gt;prudce jsi sebou škubla.
Málem se ti to i podařilo, ale v příští vteřině tě někdo praštil něčím tvrdým po hlavě a ty jsi [[ztratila vědomí.]]
&lt;&lt;/linkreplace&gt;&gt;
 &lt;&lt;/linkreplace&gt;&gt;
 
 &lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="92" name="Ještě tu zůstat" tags="korektura" position="2825,0" size="100,100">Došla jsi až k velkým dveřím s težkým klepadlem ve tvaru ptačí lebky.

[[Zaklepat]]</tw-passagedata><tw-passagedata pid="93" name="Ještě vyčkávat vyleze zloděj" tags="korektura" position="3625,5025" size="100,100">Zůstala jsi schovaná za dveřmi a pozoruješ prázdný dvorek. A věru si dobře udělala, jelikož v příští chvíli se otevřely dveře kadibudky a ven vyšel zloděj, který si právě zapíná pásek. Prolétl dvorek pohledem a vydal se bránou směrem na soukromé molo. Pomaličku jsi dveře otevřela a [[vstoupila na dvůr.]]</tw-passagedata><tw-passagedata pid="94" name="Jí proklouzneš pod sukní..." tags="korektura" position="2950,400" size="100,100">Skočila jsi střemhlav kupředu. Hospodyňka zaječela a ty jsi jí vmžiku proklouzla pod sukní a propletla se mezi lidmi dovnitř. [[Konečne jsi tu!|uvnitř pekárny!]]

&lt;&lt;set $bába to true&gt;&gt;</tw-passagedata><tw-passagedata pid="95" name="Jít do hospody na levo" tags="korektura" position="4700,2850" size="100,100">Prokličkovala jsi mezi potácejícími-se námořníky až k dubovým dveřím hospody U Tří Sudů. Vzala jsi za kliku a v příští chvíli letíš zadkem na chodník. Dveře zařvaly v pantech a na světlo dne se vypotácel na mol opilý námořník. Do nosu tě udeřil silný zápach alkoholu a tabáku. Muž se potácí a u toho si prozpěvuje „Ó Jůlie ó jůlie. Jsi tak krásná avšak harpie… Ó jůlie Ó jůlie, ta tvá prodejnost mě jednou zabije…“ &lt;&lt;if $bolavyzadek is true&gt;&gt;“Áu! Už zase!“&lt;&lt;/if&gt;&gt; Zakleješ a bolavě se sesbíráš ze země. V duchu uvažuješ nad tím, co tak strašného může ta Jůlie prodávat, že ho to zabije… Pak už jsi se však oklepala a rychle &lt;&lt;linkreplace &quot;vklouzla do zavírajících-se dveří.&quot;&gt;&gt;vklouzla do zavírajících-se dveří.
Uvnitř je šero a zavřenými okenicemi prosvítají jen úzké pruhy světla, které jen s velkými obtížemi pronikají  přez hutnou clonu tabákového dýmu. Jak si oči začínají přivykat, z šera se začaly pomaličku vynořovat stolky u kterých sem a tam pospává nějaká nezřetelná silueta. V celém lokále panuje tíživá ospalá nálada. Kdesi za okny chraplavě zakokrhal kohout. Chviličku se tam procházíš a prohlížíš postavy spící u stolu, po chvíli však naznáš, že tady asi nebude...

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

[[Zklamaně jsi vyšla ven]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $hospodalevo to true&gt;&gt;</tw-passagedata><tw-passagedata pid="96" name="Jít do hospody na pravo" tags="korektura" position="4550,2850" size="100,100">Jdeš ke dveřím. Snažíš se vůbec si toho chlapa na sudu nevšímat a už už natahuješ ruku po klice, když tu tě chraplavým, ale rázným hlasem osloví, až málem nadskočíš. &quot;Heslo!&quot;
&quot;C-co prosím?&quot; Otočíš se na něj ustrašeně. &quot;Řekni heslo, nebo vodpal!&quot; Odpoví námořník rázně a nevraživě si tě prohlíží.
Je ti jasné, že na to máš jen jeden jediný pokus.

&lt;&lt;textbox &quot;$heslo&quot; &quot;&quot;&gt;&gt;—[[řekneš...|Říct ho...]]
[[Zkusit se vymluvit]]
[[Nic neříct a odejít]]

&lt;&lt;set $zkusitprojit to true&gt;&gt;</tw-passagedata><tw-passagedata pid="97" name="Jít do přístavu" tags="korektura" position="4825,2825" size="100,100">Prokličkovala jsi&lt;&lt;if $opet is true&gt;&gt; opět&lt;&lt;/if&gt;&gt; mezi potácejícími-se námořníky a vyrazila přímo do přístavu. Prošla jsi kolem dvou stánků s čerstvě vylovenými rybami a vstoupila na velké přístavní molo. Tady už se ukázala ona ohromná loď v celé své kráse. Bohužel však kotví na vedlejším soukromém mole patřícímu Taverně u Černé Krakatice. A tam se dá dostat jedině skrze jejich hospodu... Už jsi chtěla odvrátit zrak, abys věnovala pozornost osobám v menších bárkách, kotvícím u tohoto mola když tu &lt;&lt;linkreplace &quot;zalapáš po dechu...&quot;&gt;&gt;zalapáš po dechu...
Po soukromém mole si to právě vykračuje tvůj zloděj a má namířeno přímo k té velké lodi! Strnule stojíš a &lt;&lt;linkreplace &quot;sleduješ ho.&quot;&gt;&gt;sleduješ ho.
Muž právě došel až k můstku, potom se zarazil, strčil do kapsy a něco zkontroloval. Potom pokýval hlavou, ruku z kapsy vytáhl a vyšel po můstku do lodi, kde se ti ztratil z dohledu. Stojíš tam a &lt;&lt;linkreplace &quot;nevíš, co máš dělat...&quot;&gt;&gt;nevíš, co máš dělat...
Půlka tebe má největší chuť odejít domů obejmout rodiče a ta druhá půlka se chce kousnout a vyrazit za ním na loď dostat nazpět, co ti právem náleží. Chvíli ještě balancuješ a potom...

[[Odejdeš domů]]
[[Vyrazíš získat prstýnek]]

&lt;&lt;set $pristav to true&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;
 &lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
  
  &lt;&lt;set $zkusitprojit to true&gt;&gt;</tw-passagedata><tw-passagedata pid="98" name="Jít dolů zkusit vylézt oknem" tags="korektura" position="3825,1550" size="100,100">Hodíš na dveře poslední rozmrzelý pohled a proskáčeš mezi bochníky nazpět ke schodišti. Seběhneš nenápadně nazpět dolů, proklouzneš pod řetízkem [[a vmísíš se mezi lidi.|Zkusit se proplížit k oknu]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="99" name="Jít doprostřed ke kašně" tags="korektura" position="3375,2025" size="100,100">Vyrazila jsi hlavní ulicí mezi stánky k fontáně. Po cestě se vyhýbáš napravo a nalevo hloučkům nakupujících. Míjíš hromadu dřevěných klícek, ze kterých kvoká půl druhého tuctu slepic. Kvokání vzápětí přehluší hádka mezi dvěmi prodejci, kteří se evidentně nemohou domluvit na tom, čí je to prodejní místo. To už je - jak se víc a víc přibližuješ k fontáně - vystřídal zvučný hlas mladé ženy, která do širého okolí hlásá, jak chutné a čerstvé má ryby. //Nejsou čerstvé...// Pomyslíš si, když kolem probíháš a musíš si doslova zacpat nos, jak je ten smrad ryb na slunci intenzivní. Od fontány tě dělí pár kroků, když tu tě náhle někdo oslovil. &quot;Holčičko, hej holčičko! Nepomohla bys mi prosím?&quot; Otočíš se a trochu se zamračíš. //Už dávno nejsem holčička!// 
U stánku v uličce po tvé levici stojí žena a snaží se zdvihnout ze země težkou dřevěnou bednu.

[[Jít jí pomoct]]
[[Pokračovat k fontáně]]</tw-passagedata><tw-passagedata pid="100" name="Jít dveřmi v zadní části lokálu" tags="korektura" position="4700,4725" size="100,100">Svižně se proplétáš mezi stoly a ožralými námořníky, směrem ke dveřím.
Ještě okamžik slalomu a už před nimi stojíš.

[[Nejprve nakouknout]]
[[Rovnou vejít]]</tw-passagedata><tw-passagedata pid="101" name="Jít dveřmi v zadní části lokálu nenasr" tags="korektura" position="4350,4925" size="100,100">Svižně se proplétáš mezi stoly a ožralými námořníky, směrem ke dveřím.
Ještě okamžik slalomu a už před nimi stojíš.

[[Nakouknout tam]]
[[Vejít]]</tw-passagedata><tw-passagedata pid="102" name="Jít jí pomoct" tags="korektura" position="3375,2150" size="100,100">Trošku jsi pookřála. Přece jsi vždycky pomáhala, když bylo potřeba a mělo by se to běžně dělat. Přiběhla jsi k paní. &quot;Děkuju ti holčičko.&quot; Řekne žena vděčne a namáhavě se sehne k bedně plné hrnků medu. &quot;Pojď tady z druhé strany, pomůžeš mi to zvednout.&quot; &lt;&lt;if $pohmozdenaruka is false&gt;&gt;Chytila jsi ohmatané dřevěné ucho bedýnky a s námahou ji zdvyhla. Opravdu to není příliš lehké. Pak už ale šup a bedýnka stojí na pultě. Žena si oddychne a s rukou na zádech se z těžka narovná. &quot;Uf... děkuji ti moc zlatíčko, Na mě je to teď už moc těžké...&quot;

[[Zkusit se jí zeptat, zda neviděla zloděje]]
[[Rozloučit se a vrátit se na svou cestu k fontáně]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $pohmozdenaruka is true&gt;&gt;Chytila jsi s ní ohmatané dřevěné ucho bedýnky a s námahou ji zdvihla. V tu vteřinu tě ale v poraněném zápěstí tak zabolelo, že jsi musela bedýnku upustit. Ta hlasitě zahučela na zem a dobrá půlka hrnků medu se rozbila. Všude začala téct hutná sladká tekutina a žena se pustila do naříkání. &quot;Ty nemehlo... Jak jsi to mohla jen tak upustit? Víš kolik je na tom práce?!&quot; Do obličeje ti vystoupala horkost a cítíš silnou provinilost. Zároveň však víš, že když se tu ještě o chvíli víc zdržíš, nadobro zloděje ztratíš, a tak jsi se na ni naposledy podívala, řekla &quot;Moc mě to mrzí.&quot; 
A [[rychle jsi zmizela.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="103" name="Jít přes tavernu" tags="korektura" position="4875,3450" size="100,100">&lt;&lt;if $zkusitprojit is false&gt;&gt;Jdeš ke dveřím. Snažíš si vůbec nevšímat toho hrozivě vyhlížejícího chlapa na sudu. Už už natahuješ ruku po klice, když tu tě chraplavým, ale rázným hlasem osloví, až málem nadskočíš. &quot;Heslo!&quot;
&quot;C-co prosím?&quot; Otočíš se na něj ustrašeně. &quot;Řekni heslo, nebo vodpal!&quot; Odpoví námořník rázně a nevraživě si tě prohlíží.
Je ti jasné, že na to máš jen jeden jediný pokus.

&lt;&lt;textbox &quot;$heslo&quot; &quot;&quot;&gt;&gt;
[[Říct ho...]]

[[Zkusit se vymluvit]]
[[Nic neříct a odejít]]

&lt;&lt;set $zkusitprojit to true&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zkusitprojit is true&gt;&gt;Přišla jsi trochu blíž a &lt;&lt;linkreplace &quot;situaci obhlédla...&quot;&gt;&gt;situaci obhlédla...
Před tavernou stále ještě hlídá potetovaný námořník a s nevrlým výrazem bodá nožem do sudu, na kterém sedí. Až ti z něho projde mráz po kůži. //Ne... tudy už rozhodně ně!// usoudíš a na výběr ti tedy zbívá:

[[Přelézt přes plot]]
&lt;&lt;if $variantalodka is false&gt;&gt;[[Ještě hledat alternativu|Ještě hledat alternativu 2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $variantalodka is true&gt;&gt;[[Zeptat se rybáře na svoz|Zeptat se rybáře na svoz 2]]&lt;&lt;/if&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="104" name="Jít v námořníkových šlépějích a projít dveřmi dál" tags="korektura" position="4575,4525" size="100,100">Svižně se proplétáš mezi stoly a ožralými námořníky, směrem ke dveřím.
Ještě okamžik slalomu a už před nimi stojíš.

[[Nejprve nakouknout]]
[[Rovnou vejít]]</tw-passagedata><tw-passagedata pid="105" name="Jít zpět do reality" tags="korektura" position="2825,125" size="100,100">Tady nerozhoduješ ty... Takže tu [[ještě zůstáváš|Ještě tu zůstat]]</tw-passagedata><tw-passagedata pid="106" name="K oknu 2" tags="korektura" position="3350,900" size="100,100">Chceš vyrazit k oknu, pak se ale zastavíš. Právě k němu přišel jeden pekař a nabírá si odtamtud do náruče chleby. Musíš chvíli počkat, máš tak však alespoň čas na [[porozhlédnutí se kolem|Setrvat pod pultem 2]].</tw-passagedata><tw-passagedata pid="107" name="Kadibudka" tags="korektura" position="3075,5125" size="100,100">Přijde ti to trochu riskantní, ale co už... Přiběhla jsi ke kadibudce a tichoučce se prokradla až za ni. &lt;&lt;if $zpomaleni lte 3&gt;&gt;Chvíli mlčky stojíš a čekáš, když se dveře kadibudky znovu otevřely.&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4&gt;&gt;Čekáš jen malou chvíli, než se dveře kadibudky znovu otevřely.&lt;&lt;/if&gt;&gt; Zloděj vyšel ven a aby si ho neztratila z dohledu, &lt;&lt;linkreplace &quot;vykoukla jsi zpoza kadibudky&quot;&gt;&gt;vykoukla jsi zpoza kadibudky.
Srdce se ti málem zastavilo, když vidíš bambitku namířenou na tvou hlavu necelé dva metry od tebe. „Ani se nehni, nebo tě prostřelím jak zajíce.“ řekne zloděj klidně, avšak velmi zvučně a zřetelně. Srdce se ti teď rozbušilo jako o závod a myslí ti prostupuje panika.

[[Uskočit za kadibudku]]
[[Zůstat stát na místě.|Zůstat stát na místě. 2]]</tw-passagedata><tw-passagedata pid="108" name="Kapitola I." tags="Kapitola" position="250,0" size="100,100">&lt;span style=&quot;font-size: 30px;&quot;&gt;&lt;b&gt;Kapitola I. &lt;/b&gt;&lt;/span&gt;
&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Na vlnách&lt;/b&gt;&lt;/span&gt;


&lt;&lt;button &quot;Započít příběh&quot;&gt;&gt;
    &lt;&lt;goto &quot;Začátek&quot;&gt;&gt;
&lt;&lt;/button&gt;&gt;

&lt;&lt;button &quot;Podpora a zpětná vazba&quot;&gt;&gt;
    &lt;&lt;goto &quot;Podpora/zpětná vazba&quot;&gt;&gt;
&lt;&lt;/button&gt;&gt;



&lt;&lt;set $kapitola = &quot;Kapitola I.&quot;&gt;&gt;
&lt;&lt;set $inventar to true &gt;&gt;

</tw-passagedata><tw-passagedata pid="109" name="Kapitánovi" tags="korektura" position="4350,3750" size="100,100">&quot;No... víte je to moc tajné, ale prozradím, že je to pro kapitána... a spěchá to!&quot; Řekneš naléhavě. Námořník se poškrabe ve svém strništi. &quot;Nó... tak to klidně vyklop mě, já mu to předám.&quot;

[[Říct, že to bohužel nemůžeš]]
[[Vymyslet si šifru, co mu řekneš]]</tw-passagedata><tw-passagedata pid="110" name="Kolem pekárny" tags="korektura Kolem-pekarny Změna-hudby" position="2900,725" size="100,100">//Nu, není času nazbyt!// A rozběhneš se po ulici vedoucí velkým obloukem kolem pekárny.
Míjíš domy a ranní slunce ti svítí do obličeje. Běžíš a běžíš, když tu tě někdo okřikne: &quot;Hej, špindíro!&quot; Zastavíš se a rozhlédneš se kolem sebe. Ten hlas i to oslovení je ti důvěrně známé... A ano, je tomu tak. Na hromadě dřevěných krabic před řeznictvím sedí dvanáctiletý kluk s rozčepýřenými černými vlasy a škodolibým úsměvem. Tváře ti zčervenaly zlostí. &quot;Kam tak spěcháš, co, špindíro?&quot; Zavolal na tebe zas ten kluk a v ruce si pohrává s hnijícím jablkem. &quot;Víš co?&quot; Nadechneš se...

[[Trhni si]]
[[Zalez, než tě uvidí můj táta]]
[[Nemám na tebe čas]]

&lt;&lt;set $hrabe to false&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;sigri&quot; &quot;music/sigri.mp3&quot;&gt;&gt;&lt;&lt;audio sigri play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="111" name="Kopnout ho do rozkroku" tags="korektura" position="2150,1075" size="100,100">Zakloníš nohu dozadu a plnou silou ho kopneš přímo do rozkroku takovou silou, až zbělal v obličeji, vytryskly mu slzy a s nadávkami se složil k zemi.
Cítíš, jak v ten moment jeden z kluků, co tě drží, úlekem povolil stisk. Hned jsi toho využila, vytrhla ruku z jeho sevření a s rozmachem míříš úder druhému přímo na:

[[Nos]]
[[Rozkrok]]</tw-passagedata><tw-passagedata pid="112" name="Kopnout ho do tváře" tags="korektura" position="2650,1500" size="100,100">Dává vcelku smysl, že když po tobě zrovna někdo chňape a ty mu ještě jdeš naproti, nemůže to dopadnout jinak, než katastroficky... Noha ti letí vzduchem směrem k jeho tváři a během toho je chycena do pevného sevření. Zapotácela ses a dopadla na dlažbu, sotva jsi pod sebe stihla dát ruku, avšak ne dost rychle, a tak jsi na ni jen bolestivě dopadla a pohmoždila si ji. Dopadla jsi pusou na zem a ze rtu ti začala téct krev. &quot;Ták, ty malá kryso!&quot; Slyšíš teď nad sebou.

[[Dostali tě.]]

&lt;&lt;set $pohmozdenaruka to true&gt;&gt;</tw-passagedata><tw-passagedata pid="113" name="Kouknout pod koberec" tags="korektura" position="1150,875" size="100,100">Prolétla jsi tkaný koberec pohledem. Hned ti je ale jasné, že //to je přeci blbost!//

[[Kouknout za skříň]]
&lt;&lt;if $postel eq 0&gt;&gt;[[Kouknout pod postel]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $koberec = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="114" name="Kouknout pod postel" tags="korektura" position="1300,950" size="100,100">Přiskočila jsi k posteli a koukla pod ni. Je tam hromada prachu &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a...
Tvoje tajná krabička, ta tě teď ale nezajímá... Ať se koukáš jak chceš, prkno tu mezi chomáčky prachu nikde neviydíš. Chjo...
__//+1 Bod zpomalení//__

[[Kouknout za skříň]]
&lt;&lt;if $koberec eq 0&gt;&gt;[[Kouknout pod koberec]] &lt;&lt;/if&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $postel = 1&gt;&gt;
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="115" name="Kouknout za skříň" tags="korektura" position="1425,950" size="100,100">Přiběhneš ke skříni. Koukneš za ni &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a...
Ano! Je tam! Vytáhla jsi prkno zpoza skříně a rychle s ním utíkáš nazpět k oknu. Umístila jsi ho tak, aby se nekývalo a [[vylezla jsi na parapet.]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="116" name="Kousla do ruky" tags="korektura Smrt-ok Změna-hudby" position="4350,2350" size="100,100">Zuby se ti zaryly do její macaté pracky. Hospodyňka hlasitě zařvala a v úleku tě pustila. V uších ti zasvištělo a prostoupila tebou panika, když jsi uviděla, že mezitím vůz už projel a ty se řítíš přímo na holou dlažbu...
Ulicemi se rozlehlo tlumené křupavé plesknutí, jak jsi nešťastně dopadla na pravou nohu. Koleno se ti prolomilo na druhou stranu a ty jsi hlavou drsně narazila na dlažbu až to křuplo. Po kočičích hlavách se rozprskly tenké cákance čerstvé krve a ty ses propadla do naprosté...

&lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMY...|...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt; Tobě nějak zvláštně povědomé [[...TMY...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt; Tobě povědomé [[...TMY...|...TMA...3]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 3&gt;&gt; Tobě dobře povědomé [[...TMY...|...TMA...4]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $prasklalebka to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="117" name="Kousneš do ruky" tags="korektura" position="4625,2225" size="100,100">Zuby se ti zaryly do její macaté pracky. Hospodyňka hlasitě zařvala a povolila stisk. Hned jsi toho využila a rychle slezla dolů k fáboru, chytila se za něj a začala po něm sešplhávat. Hospodyňka se ještě naklonila přes zábradlí, hrozí ti pěstí se znatelně zbarveným kousancem a huláká: &quot;Ty kryso jedna špinavá! Nevděčnej drzej spratku, parchante plesnivá...!&quot;
To už sešplháš až na konec a když se podíváš dolů, zjistíš, že tvé propočty byli trochu nepřesné. Ještě ti dobrý metr a půl k zemi zbývá... Nu, nezbývá než [[skočit]]...</tw-passagedata><tw-passagedata pid="118" name="Kousneš do ruky sloup" tags="korektura" position="4925,1975" size="100,100">Zuby se ti zaryly do její macaté pracky. Hospodyňka hlasitě zařvala a povolila stisk. Hned jsi toho využila a rychle slezla znovu dolů ke sloupu, obejmula ho a už se pomalu kloužeš po hladkém dřevě dolů. Jen se brzdíš nohama. Hospodyňka se naklonila přes zábradlí, hrozí ti pěstí se znatelně zbarveným kousancem a huláká: &quot;Ty kryso jedna špinavá! Nevděčnej drzej spratku, parchante plesnivá...!&quot;
To už ti však mizí z dohledu. Ani ses nenadála a už stojíš [[nohama na zemi.]]</tw-passagedata><tw-passagedata pid="119" name="Kousnout ho do prstů" tags="korektura" position="2175,950" size="100,100">Škubneš sebou a jak tě pleská po tváři, zakousneš se mu do prstů. Kluk zařval bolestí.
&quot;ÁÁU! Ty malá mrcho!&quot; A vrazil ti druhou pěstí, že se ti zatmělo před očima.
Pak už následovala obvyklá procedura, kdy ti s připomínkami, že se jmenuješ špindíra, rozmazali po tváři kozí bobky a shnilá jablka, pak tě hodili do velkého koše před řeznictvím mezi smradlavé masové odřezky a se smíchem utekli.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

[[Vylézt z koše]]</tw-passagedata><tw-passagedata pid="120" name="Krabice" tags="korektura" position="2675,1000" size="100,100">//Tak jo... buď statečná!// řekneš si. Chytneš dřevěnou krabici a pozdvihneš ji před sebe jako štít. 
&quot;Proboha, koukejte na ni!&quot; Zakřičí na tebe seshora posměvačně kluk. &quot;Ze špindíry je teď nebojácný rytíř! Tak to ji musíme v její statečnosti prověřit... Hej kluci! Připomeňte špindíře, proč že se tak jmenuje, asi to zase zapoměla!&quot; Kluci, kteří doteď nehybně stáli v cestě, se k tobě rozběhli a v pár krocích budou u tebe.

[[Rozběhnout se s krabicí proti nim a narazit do nich]]
[[Počkat, až budou blíž u tebe a rozmáchnout se s ní|Počkat, až budou u tebe a rozmáchnout se s ní]]</tw-passagedata><tw-passagedata pid="121" name="Kámen" tags="korektura" position="3125,4875" size="100,100">Popadla jsi ze země kámen a došla ke dveřím kadibudky... Srdce ti tluče jako o závod a přemýšlíš teď jednak nad tím, jestli neděláš úplnou kravinu a druhak, jak na něj v tuto chvíli správně zaútočit?

[[Jak se otevřou dveře hodit mu kámen s rozmachem do tváře]]
[[Schovat se za stěnu kadibudky a jak zloděj vyleze, trefit ho kamenem do zátylku]]


&lt;&lt;set $strelena to false&gt;&gt;</tw-passagedata><tw-passagedata pid="122" name="Lovit ryby" tags="" position="750,525" size="100,100">//Chystáš se teď jít lovit ryby, jsi si jistá, že už jsi prozkoumala vše cos chtěla, a je čas pokročit v příbehu?//

[[Ano, jdu na to!]]
[[Vlastně ještě možná chvíli počkám...]]</tw-passagedata><tw-passagedata pid="123" name="Maluješ ještě občas?" tags="" position="575,1175" size="100,100">&quot;A maluješ ještě občas?&quot;
Táta mlčky zavrtí hlavou.

[[A máš ještě nějaké obrázky schované?|Máš ještě nějaké obrázky schované?]]

&lt;&lt;set $malovani = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="124" name="Mluvit s tátou" tags="" position="275,350" size="100,100">&lt;&lt;if $jaksemas eq 1 and $jakjsisevyspal eq 1 and $jakdlouhorybaris eq 1&gt;&gt; 
  Koukáš na svého vousatého tátu sedícího naproti tobě. Zrovna mlčky vytahuje ze sítě menší rybku, která sebou ještě chabě škube. Nikdy moc nemluvil a dozvědět se od něj něco není jednoduchý úkol. Stačí, aby se ho člověk špatně zeptal a rozhovor je hned u konce...&lt;&lt;/if&gt;&gt;&lt;&lt;if $jaksemas eq 0 and $jakjsisevyspal eq 0 and $jakdlouhorybaris eq 0 and $dobranalada eq 0 or $lhani eq 1&gt;&gt;
   Otec mlčky a soustředěně namotává síť. Nevypadá to, že by se mu ještě chtělo do řeči.   
   
  &lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;
 &lt;&lt;/if&gt;&gt;&lt;&lt;if $dobranalada eq 1&gt;&gt;
  Otec mlčky a soustředěně namotává síť a u toho si něco pobrukuje. Na rozhovor s ním už to asi nebude, ale vypadá to, že má dobrou náladu.
     
  &lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
  
&lt;&lt;if $jaksemas eq 1&gt;&gt; [[Jak se máš?]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jakjsisevyspal eq 1&gt;&gt; [[Jak jsi ses dnes vyspal?]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $jakdlouhorybaris eq 1&gt;&gt; [[Jak dlouho už rybaříš?]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="125" name="Mlčky odejít" tags="korektura" position="2325,1975" size="100,100">Mlčky ses oprášila, obrátila k němu zády a [[vstoupila na tržiště.|vstoupit na tržiště.]] 

&lt;&lt;set $neuctivost to true&gt;&gt;</tw-passagedata><tw-passagedata pid="126" name="Mohutnějšího napravo" tags="korektura" position="3000,1650" size="100,100">Namířila sis to k mohutnému klukovi napravo a plnou silou do něho krabicí narazila. Ten ztratil rovnováhu a jak dlouhý tak široký se na záda rozplácl na dlažbě. Krabice od něj odskočila a rozpadla se na kousky. V tu chvíli už k tobě však ten druhý hubenější doběhl a pevně tě sevřel. &quot;A mám tě, ty malá mrcho!&quot; zakřičel ti vítězoslavně do ucha.

[[Byla jsi chycena...]]</tw-passagedata><tw-passagedata pid="127" name="Mám tam otce" tags="korektura" position="5275,3250" size="100,100">&quot;Já tam totiž mám tátu víte...&quot; zatváříš se smutně.
&quot;Tak proč nejdeš přes hospodu?!&quot; Oboří se do tebe a znovu zvedne pádlo, aby se odrazil. Snažíš se mu vysvětlit, že je pán u vstupu nepříjemný a nechce tě pustit, muže to však evidentně moc nezajímá.
&lt;&lt;if $money eq 0&gt;&gt;Bohužel nemáš ani žádnou minci, aby jsi ho uplatila, tudíž nezbývá, než se koukat, jak odplouvá a...&lt;&lt;/if&gt;&gt;

[[Odejít]]
&lt;&lt;if $money gte 1&gt;&gt;[[Nabídnout mu za svezení minci]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="128" name="Máš ještě nějaké obrázky schované?" tags="" position="450,1175" size="100,100">&quot;A máš ještě nějaké obrázky někde schované?&quot;
Táta se zadumaně podívá na nebe.
&quot;Možná bych ještě někde nějaký našel, ale to už nevím, kde bych hledal... Možná někdo z městečka by mohl mít nějaký obrázek doma. Ale to už je strašných let...&quot;

[[Měl jsi nějaký svůj podpis?]]
&lt;&lt;if $malovani eq 0&gt;&gt;[[A maluješ ještě občas?]]
&lt;&lt;/if&gt;&gt;\
[[Tiše s ním hledět do dálky.]]</tw-passagedata><tw-passagedata pid="129" name="Mě tady pracuje táta" tags="korektura" position="4350,3275" size="100,100">&quot;...Mě tady... Pracuje mi tady táta.&quot; Řekneš nakonec a snažíš se tvářit, jako že je to samozřejmost a chodíš sem za ním každý den.
&quot;Fákt?&quot; Zeptá se námořník podezřívavě a kroutí nožem mezi prsty. &quot;A co je jeho práce?&quot;
Zarazíš se...

[[Čepuje pivo]]
[[Je v kuchyni]]</tw-passagedata><tw-passagedata pid="130" name="Měl jsi nějaký svůj podpis?" tags="" position="475,1325" size="100,100">&quot;A měl jsi nějaký svůj podpis? Nějakou značku, jak bych poznala, žes to maloval ty, až někde uvidím nějaký krásný obrázek?&quot;
Táta se od srdce zasmál, až by si skoro přísahala, že to zatřáslo celou loďkou
&quot;Tak až někdy uvidíš na nějakém obraze v rohu nakreslenou malou mušli s perličkou, budeš vědět, že to je ode mě,&quot; řekne s úsměvem. Pak strčí ruku do kapsy a něco vytáhne. 
&quot;N, tady máš.&quot;
Do natažených dlaní ti z jeho mohutné pracky spadne pomuchlaný, bonbón v barevném, papírovém obalu. Nadšeně poděkuješ a strčíš si ho...

[[Do pusy]]
[[Do kapsy]]

&lt;&lt;set $podpis = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="131" name="Nabručeně sedíš" tags="" position="900,1250" size="100,100">Nabručeně sedíš a koukáš na prázdný háček. Jak se tak před tebou pohupuje, skoro to vypadá, jako by se ti vysmíval! Ty se ale nedáš a prostě to zvládneš! Sáhneš znovu do krabičky se šneky a... cos to nahmatala? Koukneš se a vidíš, že na dně krabičky se pod šneky leskne malá stříbrná mince! Ta by se ti určitě někdy hodila, ale nevšimne si toho táta?

&lt;&lt;if $lhani eq 0&gt;&gt;[[Risknout to]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lhani eq 1&gt;&gt;[[Riskout to|risk neuspěšně]]&lt;&lt;/if&gt;&gt;
[[Nechat ji tam]]</tw-passagedata><tw-passagedata pid="132" name="Nabídnout mu za svezení minci" tags="korektura" position="5425,3300" size="100,100">Vytáhla jsi z kapsy ukořistěnou minci a ukázala mu ji před obličejem. &quot;Dám vám za to minci, když mě svezete!&quot; Muž chvíli přemýšlí a pak si ji od tebe vezme. Už chceš radostně nastoupit, když popadl pádlo a odrazil se od mola. &quot;Héj! co děláte?!&quot; Křičíš na něj rozhořčeně. &quot;Nejsem takovej sebevrah, abych tam šel! Celá ta jejich posádka je pěkně divná... a tobě vřele doporučuju se od nich držet dál!&quot; Křikne ti nazpět a pádlováním se rychle vzdaluje. 
Ještě chvíli za ním naštvaně voláš, ať ti aspoň vrátí minci, ten už ti však mizí z dohledu.
Vztekle dupeš zpátky na pevninu a nemůžeš uvěřit jeho podlosti. &lt;&lt;if $zlodejicek is true&gt;&gt;Prolétlo ti hlavou, jestli to nemůže být nějaká oplata světa, za to, že jsi kradla na stánku, rychle jsi tuto myšlenku však zahnala. &lt;&lt;/if&gt;&gt;Dostala ses znovu na pevninu a teď jsi plně odhodlána, //že to zvládneš sama a nikoho k tomu nepotřebuješ!//

[[Přelézt přes plot]] 
&lt;&lt;if $variantalodka is false&gt;&gt;[[Jít přes tavernu]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $money -= 1&gt;&gt;</tw-passagedata><tw-passagedata pid="133" name="Naběračka" tags="korektura" position="4525,1000" size="100,100">Přiběhneš k pytli s moukou, vytáhneš z něj těžkou krásně kovanou naběračku a doběhneš s ní nazpět k oknu.

[[Hodit jí do okna]]
[[Držet ji a udeřit s ní do okna]]</tw-passagedata><tw-passagedata pid="134" name="Naběračka z pytle" tags="korektura" position="5050,1175" size="100,100">Přiběhla jsi k pytli a vytáhla z něj těžkou, krásně kovanou naběračku. Přiskočila jsi s ní k oknu a začala vytloukat ostré střepy trčící z rámu. V tu chvíli, kdy už to vypadá nadějně, se za tebou hlasitě ozvalo: &quot;Héj! Co tam děláš?!&quot; Vyplašeně se otočíš a uvidíš rozlíceného pekaře, stojícího v místnosti jen pár metrů od tebe. V panice se chytneš rámu a v mžiku na něj vylezeš...

[[Přeskočit na dřevěné zábradlí balkónu]]
[[Skočit na podlahu balkónu]]</tw-passagedata><tw-passagedata pid="135" name="Nahodit udičku" tags="" position="750,775" size="100,100">//Tak teď jak to ten táta dělal...// Pomyslíš si. //To dám!//
A s energickým švihnutím udičkou zbrkle mávneš, takže háček dopadne zpět na palubu.

[[Sebrat háček ze země]]</tw-passagedata><tw-passagedata pid="136" name="Nahoru" tags="korektura Změna-hudby Opět-naživu" position="2850,1250" size="100,100">Plnou silou jsi zabrala a páčíš tyčí směrem nahoru. &quot;Héj, ty blbko co si ksakru myslíš, že děláš?!&quot; Zakřičí na tebe poplašeně černovlasý kluk, protože hromada krabic, na které sedí,se teď začíná zlověstně naklánět dozadu. &quot;K-kluci, co tam stojíte! Na ni! Sejměte ji!&quot; Zakřičí v panice a snaží se z krabic slézt dolů. To už je však pozdě. Nakupená věž se převážila a spolu s klukem, který na ní ještě před chvílí panovačně trůnil, se zhroutila dozadu před schody řeznictví. Klukův výkřik okamžitě zanikl pod hromadou krabic a rozhostilo se ticho. 
Teď zjišťuješ, že jsi vlastně měla dost štěstí, protože to, co svíráš v ruce, není jen tak nějaká tyč, ale hrábě, které by se ti tou malou mezerou mezi krabicemi dost možná ani nepodařilo vytáhnout...
To už je však nasnadě další problém. Za zády slyšíš spěšný dusot nohou, jak se na tebe ženou kluci, odhodlaní tě roznést na kopytech!

[[Otočíš se]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="137" name="Najít v pokoji někde prkno, které jsi pro tyto účely vždy používala" tags="korektura" position="1325,750" size="100,100">Zarazíš se. //Lepší určitě bude, když najdu své prkno.// Kam si ho ale jen minule dala...

[[Kouknout pod postel]]
[[Kouknout za skříň]]
[[Kouknout pod koberec]]

&lt;&lt;set $postel = 0&gt;&gt;
&lt;&lt;set $koberec = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="138" name="Najít v pokoji prkno" tags="korektura Změna-hudby Opět-naživu" position="1200,750" size="100,100">Tak, kde by jen mohlo být...

[[Kouknout pod postel]]
[[Kouknout za skříň]]
[[Kouknout pod koberec]]

&lt;&lt;set $postel = 0&gt;&gt;
&lt;&lt;set $koberec = 0&gt;&gt;

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="139" name="Nakoukla do nich" tags="korektura" position="3850,4200" size="100,100">Vzala jsi za kliku a pomalu pootevřela. Do nosu tě udeřila intenzivně krásná vůně pečeně. Místnost není velká, však děj v ní by vystačil na tři takové. Kudrnatý kuchař v ušpiněné zástěře pobíhá od hrnce k hrnci a míchá, ochutnává a dochucuje. U linky u zdi stojí dva kuchtíci s dlouhými noži a krájí hromadu kořenové zeleniny. Panuje tam vedro. To vychází z objemných kamen, do kterých zrovna umouněná děvečka přikládá sukovitá polena. Musíš naznat, že pohled je to nanejvýš zajímavý, však zloděje tu nemá smysl hledat...

[[Jít dveřmi na konci chodby|Dveřmi na konci chodby]]
&lt;&lt;if $schodyhospoda is false&gt;&gt;[[Po schodech do patra]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="140" name="Nakoukla do nich 2" tags="korektura Změna-hudby" position="5500,5275" size="100,100">Vzala jsi za kliku a pomalu pootevřela. Do nosu tě udeřila intenzivně krásná vůně pečeně. Sotva ses však po místnosti chtěla rozhlédnout, když jsi nadskočila a dveře opět přibouchla. Dveře lokálu se totiž rozrazily dokořán a do chodby rázně vkráčel potetovaný námořník od vchodu. Pohled mu utkvěl na tobě a hlasitě tě okřikl: &quot;Co tady šmejdíš ty kryso?!&quot; Úlekem jsi nadskočila a rozběhla se chodbou k dvěřím na konci. Už je však pozdě. Námořník tě svými mílovými kroky dohnal a pevně chytil. Chceš vykřiknout, ale pusu ti zacpala jeho hrubá pracka plná mozolů. &quot;A mám tě!&quot; Zachraplá ti do ucha. Chceš se vytrhnout a začít křičet, ale svírá tě takovou silou, že skoro nemůžeš dýchat. Pak stisk povolil ale u krku se ti zaleskl dlouhý zahnutý nůž. &quot;Jen cekni a vykuchám tě jak malý sele rozumíš?!&quot; Ztuhla jsi děsem. Srdce ti tluče jak o závod. Muž ti zkroutil ruce za záda a svázal je hrubým provazem k sobě, až se ti provaz zařezává do kůže. Potom vytáhl z kapsy starý ošoupaný pytel a hodil ti ho přes hlavu. Skrz hrubou pytlovinu slyšíš, jak ti zachraplal do ucha: &quot;Ty budeš dobrý zboží! Za tebe dostaneme pořádnej balík...&quot; To tě tak vyděsilo, že jsi se začala zmítat, jako divá. V příští vteřině tě však uhodilo do hlavy něco těžkého a ty jsi [[ztratila vědomí.]]  

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="141" name="Nakoukla do nich- dvůr" tags="korektura Změna-hudby" position="3550,4800" size="100,100">Chytila jsi bstudenou kliku a těžké dveře pootevřela. Když se udělala škvíra dostatečně velká, aby skrze ni bylo vidět, přitiskla ses k ní a sleduješ, &lt;&lt;linkreplace &quot;co se tam děje.&quot;&gt;&gt;co se tam děje.
&lt;&lt;if $schodyhospoda is true&gt;&gt;Vidíš to samé co jsi viděla v patře z okna. Dvůr, bránu, kadibudku a sudy. Množství denního světla tě donutilo mžourat. &lt;&lt;/if&gt;&gt;&lt;&lt;if $schodyhospoda is false&gt;&gt;Dveře vedou na zadní dvůr hostince a množství denního světla tě donutilo mžourat. Po levé straně dvorku se táhne plot a v něm jsou velká vrata vedoucí na soukromé molo. Po pravé straně stojí několik řad sudů s pivem a naproti dveřím u zadního plotu je stará kadibudka.&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 3 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;Zloděj je právě pár metrů od tebe a směřuje k ní. V tu samou chvíli prošel bránou potetovaný námořník a šel tě nejspíš hledat na molo. Mezitím zloděj prudce prošel kolem páru slepic, až se poplašeně rozutekly na strany, došel ke kadibudce a vstoupil do ní. Teď je ta chvíle, kdy tě nikdo nevidí! Opatrně jsi otevřela dveře a vyšla na dvůr.
Nyní se naskýtají dvě možnosti:

[[Počkat než zloděj vyleze z kadibudky a něčím ho přetáhnout po hlavě|3,4 nasr, zaútočit]]
[[Schovat se někam, počkat než zloděj vyleze a dál ho pronásledovat|3,4 nasr, pokračovat]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 3 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Zloděj je právě pár metrů od tebe a směřuje k ní. Prudce prošel kolem páru slepic, až se poplašeně rozutekly na strany, došel ke kadibudce a vstoupil do ní. Teď je ta chvíle, kdy tě nikdo nevidí! Opatrně jsi otevřela dveře a vyšla na dvůr.
Nyní se naskýtají dvě možnosti:

[[Počkat než zloděj vyleze z kadibudky a něčím ho přetáhnout po hlavě|3,4 nasr, zaútočit]]
[[Schovat se někam, počkat než zloděj vyleze a dál ho pronásledovat|3,4 nasr, pokračovat]]


&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 3 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Zloděj je právě pár metrů  od tebe a směřuje k ní. V tu samou chvíli prošel bránou potetovaný námořník, který šel doručit neexistující zprávu. Mezitím zloděj prudce prošel kolem páru slepic, až se poplašeně rozutekly na strany, došel ke kadibudce a vstoupil do ní. Teď je ta chvíle, kdy tě nikdo nevidí! Opatrně jsi otevřela dveře a vyšla na dvůr.
Nyní se naskýtají dvě možnosti:

[[Počkat než zloděj vyleze z kadibudky a něčím ho přetáhnout po hlavě|3,4 nasr, zaútočit]]
[[Schovat se někam, počkat než zloděj vyleze a dál ho pronásledovat|3,4 nasr, pokračovat]]


&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;Bránou právě naštvaně prošel potetovaný námořník a šel tě hledat nejspíš někam na molo. V tu samou chvíli se dovírají dveře kadibudky a ty na poslední chvíli uvidíš, že tam právě vešel zloděj. Teď je ta chvíle, kdy tě nikdo nevidí! Opatrně jsi otevřela dveře a vyšla na dvůr.
Nyní se naskýtají dvě možnosti:

[[Počkat než zloděj vyleze z kadibudky a něčím ho přetáhnout po hlavě|3,4 nasr, zaútočit]]
[[Schovat se někam, počkat než zloděj vyleze a dál ho pronásledovat|3,4 nasr, pokračovat]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Její dveře se právě dovírají a ty na poslední chvíli uvidíš, že do ní zrovna vešel zloděj. Teď je ta chvíle, kdy tě nikdo nevidí! Opatrně jsi otevřela dveře a vyšla na dvůr.
Nyní se naskýtají dvě možnosti:

[[Počkat než zloděj vyleze z kadibudky a něčím ho přetáhnout po hlavě|3,4 nasr, zaútočit]]
[[Schovat se někam, počkat než zloděj vyleze a dál ho pronásledovat|3,4 nasr, pokračovat]]


&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Bránou právě prošel potetovaný námořník, který šel nejspíš doručit neexistující zprávu. V tu samou chvíli se dovírají dveře kadibudky a ty na poslední chvíli uvidíš, že do ní právě vstoupil zloděj. Teď je ta chvíle, kdy tě nikdo nevidí! Opatrně jsi otevřela dveře a vyšla na dvůr.
Nyní se naskýtají dvě možnosti:

[[Počkat než zloděj vyleze z kadibudky a něčím ho přetáhnout po hlavě|3,4 nasr, zaútočit]]
[[Schovat se někam, počkat než zloděj vyleze a dál ho pronásledovat|3,4 nasr, pokračovat]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Po dvorku popochází slepice a kvokají. Nikde není nikoho vidět.

[[Vstoupit na dvůr|Vstoupit na dvůr vyleze zloděj]]
[[Ještě vyčkávat|Ještě vyčkávat vyleze zloděj]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;Bránou právě naštvaně prošel potetovaný námořník, který tě šel nejspíš hledat na molo. Po dvorku popochází slepice a kvokají. Zloděje není nikde vidět.

[[Vstoupit na dvůr|Vstoupit na dvůr vyleze zloděj]]
[[Ještě vyčkávat|Ještě vyčkávat vyleze zloděj]]


&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Bránou právě prošel potetovaný námořník, který šel nejspíš doručit neexistující zprávu. Po dvorku popochází slepice a kvokají. Zloděje není nikde vidět.

[[Vstoupit na dvůr|Vstoupit na dvůr vyleze zloděj]]
[[Ještě vyčkávat|Ještě vyčkávat vyleze zloděj]]

&lt;&lt;/if&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="142" name="Nakouknout tam" tags="korektura" position="4175,4400" size="100,100">Pootevřela jsi dveře a &lt;&lt;linkreplace &quot;nakoukla dovnitř...&quot;&gt;&gt;nakoukla dovnitř...
Je tam malá chodba s dveřmi na konci&lt;&lt;if $zpomaleni lte 3&gt;&gt;, které se právě přibouchly&lt;&lt;/if&gt;&gt;. Po levé straně je v chodbě vztup na schodiště do patra. Po pravé straně na proti schodišti jsou menší oprýskané dveře a voní to odtamtud jídlem. Vstoupilas do chodby a dveře se za tebou přibouchly. Zavládlo šero a ticho. Kudy jít dál?

[[Po schodech do patra]]
[[Oprýskanými dveřmi na pravo]]
[[Dveřmi na konci chodby]]

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $schodyhospoda to false&gt;&gt;</tw-passagedata><tw-passagedata pid="143" name="Nalevo" tags="korektura" position="2400,325" size="100,100">Tak tedy &lt;&lt;if $napravo eq 0&gt;&gt;do leva!&lt;&lt;/if&gt;&gt; &lt;&lt;if $napravo eq 1&gt;&gt;rovně nahoru!&lt;&lt;/if&gt;&gt;
Běžíš do kopce a oddechuješ. Ke kostelu je to celkem štreka. Domy jsou tu vysoké a zdobné. Žijou tu ty bohatší rodiny. Vždycky, když jste se s mámou chodily do chrámu modlit, jsi si po cestě všechny ty krásné budovy prohlížela a představovala si, jak tu bydlíš ty a vycházíš z některého z domů v krásných šatech s krajkovaným slunečníčkem... 
Teď se však tudy ženeš zpocená, červená v obličeji &lt;&lt;if $hnůj eq 1&gt;&gt;smrdící hnojem&lt;&lt;/if&gt;&gt; a vůbec ti není do fantazírování. Kopec je strmý a slunce, které pozvolna vylezlo nad střechy, na tebe začalo pražit. &lt;&lt;linkreplace &quot;Zastavíš se, abys vydechla.&quot;&gt;&gt;Zastavíš se, abys vydechla.
Ztěžka oddechuješ a držíš se za boky. Koukneš se nahoru směrem k chrámu a zjistíš, že jsi sotva v půli cesty... A pak ti to dojde. Kdyby zloděj utíkal tudy nahoru, tak bys ho určitě viděla! Ulice je velmi dlouhá, strmá a bez odboček... &quot;Sakryš!&quot; Zakleješ a po chvilkovém oddechu se rozběhneš [[zpět dolů na rozcestí.|zpět na rozcestí.]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $nalevo = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="144" name="Namáhavě se zvedneš ze země" tags="korektura Posrala-to Změna-hudby" position="3350,275" size="100,100">&lt;&lt;if $zpomaleni lte 5&gt;&gt;V obličeji jsi rudá zlostí a je ti jasné, že dovnitř už se nedostaneš. Nezbývá tudíž nic jiného, než to vzít [[kolem pekárny|Kolem pekárny]].&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi udělala už příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]

&lt;&lt;set $konecupekarny to true&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;

&lt;&lt;if $dalsibod eq 1&gt;&gt;&lt;&lt;set $zpomaleni += 1&gt;&gt;&lt;&lt;set $dalsibod = 0&gt;&gt;&lt;&lt;/if&gt;&gt;

</tw-passagedata><tw-passagedata pid="145" name="Napravo" tags="korektura" position="2400,525" size="100,100">Tak tedy &lt;&lt;if $nalevo eq 0&gt;&gt;do prava!&lt;&lt;/if&gt;&gt; &lt;&lt;if $nalevo eq 1&gt;&gt;rovně!&lt;&lt;/if&gt;&gt;
Na chvíli jsi zaváhala... Je to pro tebe přeci jen neprozkoumané a zakázané území... Nakonec tě ale myšlenka na ukradený prstýnek přemohla, a tak jsi do oné křivolaké uličky vběhla. Pelášíš mezi neuspořádanými a zanedbanými domky. Cesta se kroutí a čím hlouběji se dostáváš, tím více je okolí potemnělé, domy menší a špinavé, ranní slunce jako by sem nedokázalo naplno dosáhnout svými paprsky a prohřát tu zatuchlou atmosféru. Na cestě se válí odpadky a ty mezi nimi poskakuješ jak laňka. Najednou se však cesta dělí na tři menší uličky a už odtud vidíš, že ty se dál drobí na víc a víc menších uliček... //Sakryš...// Rozhlédneš se kolem a uvidíš starou vrásčitou ženu, sedící na zápraží, jak kouří dlouhou otlučenou dýmku a mlčky tě pozoruje.

[[Radši si jí nevšímat a jít na slepo uličkami]]
[[Zeptat se jí]]
&lt;&lt;set $napravo = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="146" name="Napřáhnout hrábě před sebe a varovat je" tags="korektura" position="2500,2050" size="100,100">Se švihnutím jsi napřáhla hrábě před sebe a křikla na ně. &quot;Hej, tak dost! Nechte mě bejt.&quot; 
Oba kluci se zastavili, podívali se na tebe a pak se naráz rozchechtali: &quot;Špindíro, ty dneska fakt válíš.&quot; vypraví ze sebe se smíchem ten tlustější nalevo. Pevně svíráš hrábě před sebou a míříš na ně. Ten, co stojí napravo a je větší čahoun, se však ráz na ráz vymrštil dopředu, chytil hrábě a trhnutím ti je vyškubl z rukou. &quot;Aha?&quot; zašklebí se na tebe. &quot;Najednou nejseš taková frajerka, co? 
Zbělela jsi v obličeji a je ti jasné, že [[boj je prohrán.]]</tw-passagedata><tw-passagedata pid="147" name="Našlapovat potichu" tags="korektura" position="3725,4525" size="100,100">Potichu, a co nejrychleji se plížíš po schodech nahoru, až jsi se ocitla v druhém patře. Je tu chodba s několika dveřmi do hostinských pokojů a hned u schodů je po tvé levici velké okno, kterým dovnitř jednak proniká světlo a druhak zviditelňuje to množství prachu v ovzduší. Smrdí tu plíseň a staroba. Okno tě zaujalo, protože skrze něj jde vidět na soukromý dvorek za hospodou, kde jsi nikdy nebyla. Přistoupila jsi k němu tedy a [[zahleděla se do něj.]]</tw-passagedata><tw-passagedata pid="148" name="Našlapovat potichu 2" tags="korektura Změna-hudby" position="5300,5325" size="100,100">Potichu, se plížíš po schodech nahoru. Bylo to však příliš pomalé na to, co následovalo v dalším okamžiku. Dveře lokálu se rozrazily dokořán a do chodby rázně vstoupil potetovaný námořník od vchodu. Stihl tě akorát spatřit, jak se kradeš po schodech a hlasitě tě okřikl: &quot;Co tady šmejdíš ty kryso?!&quot; Úlekem jsi nadskočila a rozběhla se po schodišti nahoru. Už je však pozdě. Nedoběhla jsi ani na mezipatro a námořník už tě svými mílovými kroky dohnal a pevně chytil. Chceš vykřiknout, ale pusu ti zacpala jeho hrubá pracka plná mozolů. &quot;A mám tě!&quot; Zachraplá ti do ucha. Chceš se vytrhnout a začít křičet, ale svírá tě takovou silou, že skoro nemůžeš dýchat. Pak stisk povolil ale u krku se ti zaleskl dlouhý zahnutý nůž. &quot;Jen cekni a vykuchám tě jak malý sele rozumíš?!&quot; Ztuhla jsi děsem. Srdce ti tluče jak o závod. Muž ti zkroutil ruce za záda a svázal je hrubým provazem k sobě, až se ti provaz zařezává do kůže. Potom vytáhl z kapsy starý ošoupaný pytel a hodil ti ho přes hlavu. Skrz hrubou pytlovinu slyšíš, jak ti zachraplal do ucha: &quot;Ty budeš dobrý zboží! Za tebe dostaneme pořádnej balík...&quot; To tě tak vyděsilo, že jsi se začala zmítat, jako divá. V příští vteřině tě však uhodilo do hlavy něco těžkého a ty jsi [[ztratila vědomí.]]  

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="149" name="Ne bezdomovec" tags="korektura" position="3325,2725" size="100,100">Udělala jsi výraz, jako kdybys ho neslyšela a dál se rozhlížíš. Bezdomovec se kašlavě zacechtá a řekne. &quot;Jojó však jen dělej, že mě neslyšíš, jen předstírej, že nechceš vědět, kam ten týpek běžel a co je zač...&quot; To tě úplně zastavilo. Seskočila jsi z fontány, udělala k němu krůček a nevěřícně zablekotala: &quot;Vy-vy ho-ó znáte?&quot; Muž se znovu rozchechtal až z toho začal kašlat. Pak si utřel rukávem slinu, která mu začala stékat po bradě a šibalsky se na tebe zahleděl svýma pronikavě černýma očima. &quot;Všechno se dozvíš...&quot; Protáhne k tobě nataženou ruku. &quot;Když mi dáš minci...&quot; Řekne s rozšklebeným úsměvem a znovu zachrmlá.

[[Zkusit nějakou minci vylovit z kašny]]
[[Odmítnout a odejít]]
&lt;&lt;if $money gte 1&gt;&gt;[[Dát mu svou minci|Dát mu svou minci z kapsy]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="150" name="Nechat ho tam" tags="korektura" position="1700,625" size="100,100">//Ne... nebudu ho někomu krást.//
Necháš jablko jeho osudu a lezeš dál. Vylezla jsi až skoro k okraji střechy. Tady ale nastává malý problém. Poslední dvě příčky vypadají trochu nalomeně... Pokud na ně však nestoupat, zbývá jen chytit se okapu a vyškrábat se tam... 

[[Chytit se okapu]]
[[Důvěřovat tomu, že jsi dost lehká na to, aby tě příčky udržely]]
[[Raději sešplhat zpátky dolů...]]</tw-passagedata><tw-passagedata pid="151" name="Nechat ji tam" tags="" position="1050,1300" size="100,100">Radši necháš minci mincí, vzalaj jsi si šneka, rozbila mu kamenem ulitu a jdeš znovu zkusit štěstí s lovem.

[[Znovu lovit]]

&lt;&lt;set $money =0 &gt;&gt;</tw-passagedata><tw-passagedata pid="152" name="Nechat ji tam ležet a jít ke dveřím 3/4 nenasr." tags="korektura" position="4300,4250" size="100,100">Vydala jsi se kolem pultu ke dveřím. Párkrát ses musela vyhnout něčí rozmáchlé ruce, nebo vrávoravé chůzi, kdy námořník zrovna skoro padal tvým směrem. Ty jsi však velmi mrštná a kličkuješ mezi nimi, jako ryba mezi říčnímy kameny. A tak v další chvíli už stojíš před dveřmi, kudy před tím zmizel i zloděj… 

[[Nakouknout tam]]
[[Vejít]]</tw-passagedata><tw-passagedata pid="153" name="Nechat ji tam ležet a jít ke dveřím 3/4 zpráva" tags="korektura" position="4650,4250" size="100,100">Vydala jsi se kolem pultu ke dveřím. Párkrát jsi se musela vyhnout něčí rozmáchlé ruce, nebo vrávoravé chůzi, kdy námořník zrovna skoro padal tvým směrem. Ty jsi však velmi mrštná a kličkuješ mezi nimi, jako ryba mezi říčnímy kameny. A tak v další chvíli už stojíš před dveřmi, kudy před tím zmizel i zloděj… 

[[Nakouknout tam]]
[[Vejít]]</tw-passagedata><tw-passagedata pid="154" name="Nechat ji tam ležet a jít ke dveřím 5 nenasr." tags="korektura" position="4975,4250" size="100,100">Vydala jsi se kolem pultu ke dveřím. Párkrát ses musela vyhnout něčí rozmáchlé ruce, nebo vrávoravé chůzi, kdy námořník zrovna skoro padal tvým směrem. Ty jsi však velmi mrštná a kličkuješ mezi nimi, jako ryba mezi říčnímy kameny. A tak v další chvíli už stojíš před dveřmi, kudy před tím zmizel i zloděj… 

[[Nakouknout tam]]
[[Vejít]]</tw-passagedata><tw-passagedata pid="155" name="Nedokončená odpověď" tags="korektura" position="4700,3575" size="100,100">Otevíráš pusu, abys mu třaslavě odpověděla, když tu se dveře rozrazily dokořán a ven vychází početná skupinka námořníků, kteří o něčem opile a hlasitě diskutují. Využila jsi té příležitosti a [[rychle vklouzla dovnitř!]]

&lt;&lt;set $nasranynamornik to true&gt;&gt;
&lt;&lt;set $namornikovazprava to false&gt;&gt; 
&lt;&lt;set $dalsitabulkavole to false&gt;&gt;</tw-passagedata><tw-passagedata pid="156" name="Nejprve do dveří nakouknout" tags="korektura" position="4825,4500" size="100,100">Pootevřela jsi dveře a &lt;&lt;linkreplace &quot;nakoukla dovnitř...&quot;&gt;&gt;nakoukla dovnitř...
Je tam malá chodba s dveřmi na konci, před kterými stojí potetovaný námořník a právě se tam chystá vejít. Ještě tam ale stojí, takže tam nemůžeš! Otočila ses a uvědomila si, že jsi vběhla &lt;&lt;linkreplace &quot;přímo do pasti.&quot;&gt;&gt;přímo do pasti.
Právě k tobě doběhla šenkýřka a chytila tě za ruku. &quot;No pojď ven, tady nemáš vůbec co dělat!&quot; A bez dalších okolků tě protáhla skrz celý lokál nazpět ven a zabouchla ti dveře před nosem. 
[[A jsi zase tam, kde jsi byla...]]
&lt;&lt;/linkreplace&gt;&gt;
 &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="157" name="Nejprve nakouknout" tags="korektura" position="4375,4675" size="100,100">Pootevřela jsi dveře a &lt;&lt;linkreplace &quot;nakoukla dovnitř...&quot;&gt;&gt;nakoukla dovnitř...
Je tam malá chodba s dveřmi na konci, u kterých právě stojí zády k tobě onen potetovaný námořník a chystá se jimi projít. //Uf... kdybych tam teď vběhla, tak mě určitě chytí...//Chvíli jsi tiše pozorovala jak odchází a potom už se za ním zavřely dveře, takže jsi do chodby &lt;&lt;linkreplace &quot;vstoupila&quot;&gt;&gt;vstoupila. 
Po levé straně chodby je vstup na schodiště do patra. Po pravé straně naproti schodišti jsou menší oprýskané dveře a voní to odtamtud jídlem. Jak jsi do chodby vstoupila, dveře se za tebou přibouchly. Zavládlo šero a ticho. Kudy jít dál?

[[Po schodech do patra]]
[[Oprýskanými dveřmi na pravo]]
[[Dveřmi na konci chodby]]

&lt;&lt;/linkreplace&gt;&gt;
 &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $schodyhospoda to false&gt;&gt;</tw-passagedata><tw-passagedata pid="158" name="Nejprve nakouknout chytl" tags="korektura Změna-hudby" position="5500,4625" size="100,100">Pootevřela jsi dveře a &lt;&lt;linkreplace &quot;nakoukla dovnitř...&quot;&gt;&gt;nakoukla dovnitř...
Je tam malá chodba s dveřmi na konci. Po levé straně chodby je vstup na schodiště do patra. Po pravé straně na proti schodišti jsou menší oprýskané dveře a voní to odtamtud jídlem. Cheš tam právě vstoupit, když tě dohnal nezvratný osud tvých rozhodnutí. K puse se ti přitiskla velká špinavá ruka plná tvrdých mozolů. &quot;A mám tě!&quot; Zachraplá ti do ucha nepříjemně povědomý hlas. Chceš se vytrhnout a začít křičet, ale svírá tě takovou silou, že skoro nemůžeš dýchat. Pak stisk povolil ale u krku se ti zalesk dlouhý zahnutý nůž. &quot;Jen cekni a vykuchám tě jak malý sele!&quot; Ztuhla jsi děsem. Srdce ti tluče jak o závod a cítíš, jak ti muž zkroutil ruce za záda a svázal je hrubým provazem k sobě. Potom vytáhl z kapsy starý ošoupaný pytela a hodil ti ho přes hlavu. Skrz hrubou pytlovinu slyšíš, jak ti zachraplal do ucha: &quot;Ty budeš dobrý zboží! Za tebe dostaneme pořádnej balík...&quot; To tě tak vyděsilo, že jsi se začala zmítat, jako divá. V příští vteřině tě uhodilo něco težkého do hlavy a ty jsi [[ztratila vědomí.]]  

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="159" name="Nejprve nakouknout nasr" tags="korektura" position="5350,4950" size="100,100">Pootevřela jsi dveře a &lt;&lt;linkreplace &quot;nakoukla dovnitř...&quot;&gt;&gt;nakoukla dovnitř...
Je tam malá chodba s dveřmi na konci&lt;&lt;if $zpomaleni lte 3&gt;&gt;, které se právě přibouchly&lt;&lt;/if&gt;&gt;. Po levé straně chodby je vstup na schodiště do patra. Po pravé straně naproti schodišti jsou menší oprýskané dveře a voní to odtamtud jídlem. Vstoupila jsi do chodby a dveře se za tebou přibouchly. Zavládlo šero a ticho. Kudy jít dál?

[[Po schodech do patra|Po schodech do patra za tebou]]
[[Oprýskanými dveřmi na pravo|Oprýskanými dveřmi na pravo za tebou]]
[[Dveřmi na konci chodby|Dveřmi na konci chodby za tebou]]

&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $schodyhospoda to false&gt;&gt;</tw-passagedata><tw-passagedata pid="160" name="Nemám na tebe čas" tags="korektura" position="2825,850" size="100,100">&quot;Nemám na tebe čas!&quot; Křikneš na něj nazpět a otočíš se k odchodu. Teď ti spadlo srdce až do žaludku, protože v uličce stojí jeho další dva kamarádíčci, kteří ti s úšklebkem zastoupili cestu. &quot;Co se ke mě otáčíš zády, když s tebou mluv, špindíro?!&quot; 
Vzduchem cosi zasvištělo a v zápětí se ozvalo: *PLESK!* Shnilé jabko se ti rozprsklo po zátylku. To tě rozzuřilo. Není to poprvé, co ti něco podobného udělal, ale teď je to ta nejnevhodnější chvíle.
Musíš nějak jednat, a to rychle! Obhlédla jsi situaci a vidíš tu několik možností. Z kupy krabic, na kterých kluk stojí, trčí jakási tyč, kterou by se dalo použít k obraně. Taky bys mohla popadnout jednu dřevěnou krabici a rozběhnout se s ní proti klukům v cestě. Pak už se dá jen otočit se na patě a pelášit zpátky nahoru. Co zvolíš?

[[Tyč]]
[[Krabice]]
[[Běžet zpátky]]</tw-passagedata><tw-passagedata pid="161" name="Nenápadně zezadu vylézt na vůz a schovat se do slámy" tags="korektura Posrala-to" position="1800,1425" size="100,100">Počkalas, až vůz projel kolem tebe a přiběhla si za něj. Chytila ses dřevěných šprušlí, které seno drží a přitáhla ses za ně. Vyšplhala ses až nahoru a už už se chystáš do sena skočit, když ti padne pohled na farmáře. Ten je otočený na tebe a zamračeně tě pozoruje. &quot;Hybaj dolů!&quot; křikne na tebe a tobě nezbývá než seskočit a pozorovat, jak ti vůz mizí v dáli... &lt;&lt;if $zpomaleni lte 5&gt;&gt;Nezbývá tedy, než tam [[dojít pěšky]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Jedno je teď už zřejmé, [[zloděj ti unikl...]]

&lt;&lt;set $konecvuz to true&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $dalsibod eq 1&gt;&gt;&lt;&lt;set $zpomaleni += 1&gt;&gt;&lt;&lt;set $dalsibod = 0&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="162" name="Není na co čekat!" tags="korektura" position="3275,1025" size="100,100">//Není na co čekat!// Pomyslíš si a zatlačíš na dvířka. Ozve se dlouhé zavrzání a když už je škvíra dostatečně velká, aby ses tudy protáhla, na nic jsi nečkeala a šup dovnitř! Jen to za tebou znovu hlasitě zavrzalo. Vypadá to ale, že si toho v tom hluku nevšiml. Teď jsi schovaná pod vnitřním okrajem pultu.

[[Setrvat pod pultem a prohlédnout si možnosti|Setrvat pod pultem 2]] 
[[Neztrácet čas a vyrazit k oknu|K oknu 2]]</tw-passagedata><tw-passagedata pid="163" name="Neuposlechnout" tags="korektura" position="3750,5275" size="100,100">Zůstala jsi stát, jak stojíš a cítíš v každičké části svého těla vzdor mísící se se strachem. &quot;Nerozumělas?! Okamžitě se otoč a dej ty ruce za záda!&quot; Zavelí muž a pozvedne zbraň tak, že ti míří z půl metru přímo na čelo. 

[[Uposlechnout]]
[[Neuposlechnout|Neuposlechnout 2]]</tw-passagedata><tw-passagedata pid="164" name="Neuposlechnout 2" tags="korektura" position="3750,5400" size="100,100">Strach v tobě přemohl vzdor. Zavrtěla jsi hlavou a vzpurně mu pohlédla do očí. To muže rozzuřilo. Skočil na tebe a povalil tě k zemi, až ti vyrazil dech. Lapáš po dechu a snažíš se vzdorovat, je však mnohem silnější než ty. Násilím ti zalomil ruce za záda a pevně je zavázal provazem, který se ti zařezává do kůže. Svíjíš se jako přišlápnutý had a obličej máš v prachu. Zloděj tě zaklekl a v okamžiku, kdy jsi chraplavě popadla dech a chtěla vykřiknout, přistála ti rukojetí bambitky rána do zátylku a ty jsi [[padla v bezvědomí.|ztratila vědomí.]]</tw-passagedata><tw-passagedata pid="165" name="Neuposlechnout 2.2" tags="korektura" position="3200,5400" size="100,100">Zůstala si stát jak stojíš a cítíš v každičké části svého těla vzdor mísící se se strachem. &quot;Nerozumělas?! Okamžitě vylez, otoč se a dej ty ruce za záda!&quot; Zavelí muž a zbraň míří na čelo už jen tak, z půl metru.

[[Uposlechnout|Uposlechnout 2]]
[[Neuposlechnout|Neuposlechnout 3]]</tw-passagedata><tw-passagedata pid="166" name="Neuposlechnout 3" tags="korektura" position="3200,5525" size="100,100">Strach v tobě přemohl vzdor. Zavrtěla jsi hlavou a vzpurně mu hledíš do očí. To muže rozzuřilo. Skočil k tobě a rychlým pohybem tě povalil na zem, až ti vyrazil dech. Lapáš po dechu a snažíš se vzdorovat, je však mnohem silnější než ty. Násilím ti zalomil ruce za záda a pevně je zavázal provazem, který se ti zařezává do kůže. Svíjíš se jako přišlápnutý had a obličej máš v prachu. Zloděj tě zaklekl a v okamžiku, kdy jsi chraplavě popadla dech a chtěla začít křičet, přistála ti rukojetí bambitky rána do zátylku a ty jsi [[ztratila vědomí.]]</tw-passagedata><tw-passagedata pid="167" name="Neuposlechnout 4" tags="korektura" position="3100,4575" size="100,100">Zůstala jsi stát, jak stojíš a cítíš v každičké části svého těla vzdor mísící se se strachem. &quot;Čemus nerozuměla?!&quot; Zařve na tebe muž nepříčetně, udělá rázný krok k tobě a kopne tě na zem do prachu, až ti vyrazil dech. 
Lapáš po dechu a nemůžeš se pořádně nadechnout. Násilím ti zalomil ruce za záda a pevně je zavázal provazem, který se ti zařezává do kůže. Svíjíš se jako přišlápnutý had a obličej máš v prachu. Zloděj tě zaklekl a v okamžiku, kdy jsi chraplavě popadla dech a chtěla vykřiknout, zavrčel ti do ucha: &quot;Já ti dám, napadnout pirátského důstojníka!&quot; a v příští vteřině ti přistála rukojetí bambitky taková rána do zátylku že jsi okamžitě [[ztratila vědomí.]]</tw-passagedata><tw-passagedata pid="168" name="Nic nedělat" tags="korektura" position="2300,900" size="100,100">Pak už následovala obvyklá procedura, kdy ti s připomínkami, že tvé pravé jméno je špindíra, rozmazali po tváři kozí bobky se shnilýmy jablky, následně tě hodili do velkého koše před řeznictvím mezi smradlavé masové odřezky a se smíchem utekli.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

[[Vylézt z koše]]</tw-passagedata><tw-passagedata pid="169" name="Nic nedělat 2" tags="korektura" position="2175,800" size="100,100">Ztuhle stojíš a víš, co bude dál...
A jak se dalo očekávat, následovala obvyklá procedura, kdy ti s připomínkami, že tvé pravé jméno je špindíra, rozmazali po tváři kozí bobky se shnilýmy jablky, následně tě hodili do velkého koše před řeznictvím mezi smradlavé masové odřezky a se smíchem utekli. Tentokrát s tebou však ještě kvůli tvému rebelantství zacházeli o to nelítostněji.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

[[Vylézt z koše]]</tw-passagedata><tw-passagedata pid="170" name="Nic neříct a odejít" tags="korektura" position="4175,3175" size="100,100">&lt;&lt;if $zpomaleni gte 3 and $hospodalevo is false and $pristav is false&gt;&gt;Otočila jsi se na patě a kráčíš rychle pryč. &quot;No jó radši ber roha krysičko a vopovaž se ještě vracet!&quot; Slyšíš za sebou. Přidala jsi do kroku a zamířila rovnou...

[[Do hospody naproti|Jít do hospody na levo]]
[[Do přístavu|Jít do přístavu]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 3 and $hospodalevo is true and $pristav is false&gt;&gt;Otočila ses na patě a kráčíš rychle pryč. &quot;No jó radši ber roha krysičko a vopovaž se ještě vracet!&quot; Slyšíš za sebou. Přidala jsi do kroku a zamířila rovnou...

[[Do přístavu|Jít do přístavu]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 3 and $hospodalevo is true and $pristav is true&gt;&gt;Otočila jsi se na patě a kráčíš rychle pryč. &quot;No jó radši ber roha krysičko a vopovaž se ještě vracet!&quot; Slyšíš za sebou. Přidala jsi do kroku a zamířila rovnou... na nábřeží. Zastavilas až v okamžik, kdy cítíš, že jsi v dostatečné vzdálenosti od taverny. Tam jsi se ohlédla a když vidíš, že už na tebe námořník nekouká, teprve jsi se trochu uvolnila a úlevou vydechla... //Tak. Skrz tavernu to už určitě zkoušet nebudu...// Takže zbývá jedině varianta [[přes plot.|Přelézt přes plot]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 2 and $hospodalevo is false and $pristav is false&gt;&gt;Otočila jsi se na patě a kráčíš rychle pryč. &quot;No jó radši ber roha krysičko a vopovaž se ještě vracet!&quot; Slyšíš za sebou. Přidala jsi do kroku a zamířila rovnou...

[[Do přístavu]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="171" name="Nos" tags="korektura" position="2025,1175" size="100,100">Pěstička ti zamířila přesně na jeho nos. Ozvalo se *Křup* a druhý kluk zařval. Pustil tě, svezl se na kolena a drží se za něj. Mezi prsty mu kape krev. Ten poslední teď zmateně stojí a nechápe, co se to právě všechno stalo. Toho jsi využila a...

[[Dala se na útěk|Dál dolů]]
[[S rozmachem kopla i posledního]]

&lt;&lt;set $kopanecRozkrok = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="172" name="Něčím je vymlátit" tags="korektura" position="5000,1450" size="100,100">Rozhlédneš se kolem a na výběr je jen štokrle vzadu u zdi místnosti, nebo těžká kovaná naběračka v otevřeném pytli s moukou.

[[Naběračka|Naběračka z pytle]]
[[Štokrle]]</tw-passagedata><tw-passagedata pid="173" name="Oběhnout je a běžet dolů" tags="korektura" position="2300,1450" size="100,100">Rozběhla ses. Prosmykla ses kolem nich a periferně vidíš, jak z hromady krabic seskočil ten černovlasý kluk - //myslím, že se jmenuje Rejnold// - a pustil se za tebou! &quot;Ty jedna odporná špindíro! Jen počkej, až tě dostanu!&quot;
Utíkáš, co ti síly stačí a slyšíš ho, jak ti dupe za zády a pomalu tě dohání. Kousek před tebou právě z domu vychází nějaká paní...

[[Poprosit ji o pomoc]]
[[Proběhnout kolem ní a plácnout ji po zadku]]</tw-passagedata><tw-passagedata pid="174" name="Ocenění" tags="" position="125,150" size="100,100">&lt;center&gt;
&lt;&lt;if setup.oceneni(&quot;Chuť dálných krajin&quot;) &gt;&gt;&lt;b&gt; Chuť dálných krajin&lt;/b&gt;&lt;&lt;else&gt;&gt;&lt;b&gt;Chuť dálných krajin&lt;/b&gt;
Táta musí být v dialogu spokojen&lt;&lt;/if&gt;&gt;

&lt;&lt;if setup.oceneni(&quot;achievement2&quot;) &gt;&gt;Ocenění 2&lt;&lt;else&gt;&gt;Získáš to takhle&lt;&lt;/if&gt;&gt;


 
&lt;&lt;button [[Zpět na úvod|StoryInit]]&gt;&gt;&lt;&lt;/button&gt;&gt;

&lt;&lt;if $vyvoj&gt;&gt;
&lt;&lt;button &quot;Reset&quot;&gt;&gt;&lt;&lt;script&gt;&gt;
memorize(&#39;oceneni&#39;, {});
&lt;&lt;/script&gt;&gt;&lt;&lt;goto Ocenění&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;/center&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;&lt;&lt;cacheaudio &quot;kapitola1&quot; &quot;music/kapitola1.mp3&quot;&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="175" name="Odejdeš domů" tags="korektura Změna-hudby" position="4825,2950" size="100,100">Sklopila jsi hlavu a po tvářích ti začaly téct slzy. Šouravým krokem ses vydala nazpět po mole k souši. Obraz se ti slzami vlní a slané kapky dopadají a vpíjí se do starého dřeva, které před tím už tolik slané vody máčelo. Jdeš teď blízko okraji a v jednu chvíli jsi musela zastavit, abys nenarazila do starého vousatého rybáře v čepici, který tam na kraji mola sedí a rybaří. Ten k tobě vzhlídne a v jeho dobrácké tváři se objeví ustaraný výraz. &quot;Copak se stalo dívenko?&quot; Zeptal se tě konejšivě. Ani nevíš co máš vlastně říct. Tak tam jen tak stojíš a pláčeš. Starý pán vstal a obejmul tě. &quot;Všechno je v pořádku dítě moje.&quot; Říká ti konejšivě. &quot;Když... když...&quot; Zalykáš se &quot;Když já jsem to nezvládla... Ne-uh-lí...dala jsem svůj pok-lad...&quot; Teče ti z nosu a vzlykáš tak, že další slova už úplně zanikla.
Trvalo to ještě nějakou dobu, než jsi se uklidnila. Pak už jsi se však díky dědově konejšivému hlasu zklidnila a teď spolu sedíte na okraji mola, nohy vám visí kousek nad vodou a pozorujete vodní hladinu. Ty ještě občas popotáhneš, ale už nebrečíš.
Děda k tobě otočí hlavu a zeptá se: &quot;Byl pro tebe ten poklad doopravdy cenný?&quot;
Mlčky zakýváš hlavou. Rybář také zlehka pokývá a potom řekne. &quot;Za poklady které jsou tvému srdci nejcennější stojí za to projít nějakými trablemi, aby jsi si jich pak dokázala doopravdy vážit...&quot; &quot;Takže... Takže to nemám vzdávat?&quot; Zvedneš k němu lesklé oči. &quot;Pokud cítíš, že tě to za ním táhne a je to myšlenka čistá a jasná, potom klidně leť přes třicatero hor a plav přes třicatero moří...&quot; Odvětí ti s úsměvem stařík. Tyto slova v tobě jako jiskra z nebe zažehly ten pláčem uhašený plamen po dobrodružství a spravedlnosti. Naposledy jsi si otřela tváře a vstala. &quot;Tak jo... tak já to teda zvládnu.&quot; Řekneš a zhluboka se nadechneš svěžího větru vanoucího z moře. &quot;Jen běž, kam tě tvůj poklad vede...&quot; Řekne dědeček s úsměvem a také se zdvihne ze země. &quot;A vy jdete kam?&quot; Zeptáš se ho. &quot;Domů... já už svůj poklad totiž našel.&quot; Řekne pak. &quot;Mnoho štěstí v nalezení toho tvého.&quot; A s těmito slovy odešel.
Ještě chvíli tam stojíš a pozoruješ, jak s vědrem ryb sešel z mola na malou cestičku vpravo a zmizel mezi drobnými rybářskými chatrčemi. //Jo... to zvládnu...// Nadechneš se z plna. &quot;[[Jdu si za svým pokladem!]]&quot;

&lt;&lt;set $dedecek to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\</tw-passagedata><tw-passagedata pid="176" name="Odejít" tags="korektura" position="5425,3175" size="100,100">Rozhořčeně jsi odešla a nedokážeš pochopit, proč by to pro něj měl být takový problém. Došlas znovu na pevninu a teď jsi plně odhodlána, //že to zvládneš sama a nikoho k tomu nepotřebuješ!//

[[Přelézt přes plot]] 
&lt;&lt;if $variantalodka is false&gt;&gt;[[Jít přes tavernu]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="177" name="Odejít kašna" tags="korektura" position="3650,2650" size="100,100">Smutně jsi muži u fontány sdělila, že peníze bohužel nemáš.
Ten pokrčil rameny, vytáhl z kapsy potlučenou dýmku a začal do ní vyškrabávat zbytky přesušeného tabáku, ze starého koženého váčku. Máš se k odchodu, pak ti to ale nedá, otočíš se na něj ještě jednou a zeptáš se:
&quot;A nenapověděl byste mi aspoň prosím?&quot;
Muž roztahal dýmku a vyfoukl aromatický oblak tabákového kouře. Potom pomalu a tiše zdvihne ruku a palcem několikrát zakývá směrem do přístavu. Pak na tebe mrkl a dál si hledí svého. S pootevřenou pusou jsi pokývala hlavou a jelikož bys stejně sama sotva věděla kudy se dál vydat, poděkovala jsi a vyrazila kolem fontány směřujíc na [[cestu do přístavu.|Cesta do přístavu]]</tw-passagedata><tw-passagedata pid="178" name="Odlákat jí jablkem z kapsy" tags="korektura" position="3050,3250" size="100,100">Vytáhla jsi z kapsy jablko a přistoupila k obtloustlému praseti. &quot;Ná tady máš mňamků, to ti bude móc chutnat...&quot; A strkáš mu jablko k čumáku.
&lt;&lt;if $Umrtí gte 1&gt;&gt;V tu chvíli se však na okamžik stalo &lt;&lt;linkreplace &quot;něco zvláštního.&quot;&gt;&gt; Prostor kolem tebe se zvlnil a ty najednou vidíš místo obyčejné prasečí hlavy, jen jeho holou lebku, která na tebe kouká tmou v prázdných očních důlcích. Po kůži ti projel nepopsatelný mráz a s děsem rukou ucukneš. V tu chvíli jsi zamrkala a vůbec nechápeš, co se to právě stalo.Pašík s růžovým rypákem před tebou stojí, jak stál a netrpělivě čeká, jestli ho teda nakrmíš, nebo ne. 
Ještě párkrát jsi mrkla a vzpomínka na lebku se [[vypařila, jako voda na kamnech.]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 0&gt;&gt; Prase udělalo první neochotný krůček. &quot;Tak pójď...&quot; Říkáš mu a pomalu couváš s jablkem nataženým před sebou. Konečně pochopilo, že jestli opravdu o svačinu stojí, bude se muset hýbat a rozešlo se k tobě již svižnějšími krůčky. Když už bylo dostatečne daleko z cesty, položila jsi jablko na zem, podrbala ho a se slovy &quot;Jen papej.&quot; 
Proběhla kolem ní a [[bránou ven z trhu.]]

__//+1 Bod dostihu //__&lt;&lt;set $zpomaleni -= 1&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $jablko = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="179" name="Odmítnout a odejít" tags="korektura" position="3150,2800" size="100,100">&quot;Pardon, tak to nic.&quot; Řekneš mu rozmrzele. Muž pokrčí rameny, vytáhne z kapsy potlučenou dýmku a začne do ní vyškrabávat zbytky přesušeného tabáku ze starého koženého váčku. 
//Tak kudy ale dál?// Přemýšlíš a bezradně se rozhlížíš na všechny strany. Pohled ti znovu padl na bezdomovce, který teď z dýmky pobafává a pozoruje tě. 

[[Poprosit ho, aby ti dal alespoň nápovědu]]
[[Jít kolem fontány dál|Vydat se dál uličkou za kašnou]]</tw-passagedata><tw-passagedata pid="180" name="Okap" tags="korektura" position="5450,3875" size="100,100">Trochu nedůvěřivě jsi chytla okap rukama a malinko s ním zatřásla. Okap se se zavrzáním lehce zakymácel. //To není zrovna dvakrát bezpečné...// pomyslíš si.

[[Vylézt po něm]]
[[Zvolit radši prkno]]</tw-passagedata><tw-passagedata pid="181" name="Okno" tags="korektura" position="4625,1575" size="100,100">Točíš se a v moment, kdy tvoje oko zaznamená okno, řetěz jsi pustila... Bylo to špatně, protože při malém zpoždění tvé reakce a setrvačnosti řetězu to bylo akorát, aby s řinčivým zasvištěním prolétl místností a zabořil se do pytlů s moukou. Pytel se roztrhl a všude se rozletěla mouka. Naštěstí to nebylo nějak hlasité. Teď už ale řetěz nepřipadá v úvahu...

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Ještě chvíli se opíráš o kolena a snažíš se ustálit motání hlavy, pak se narovnáš. a jdeš to zkusit

[[Naběračkou|Naběračka]]
[[Starým štokrletem|Staré štokrle]]</tw-passagedata><tw-passagedata pid="182" name="Omluvit se jí" tags="korektura" position="3575,2450" size="100,100">&quot;Pardon, teď nemůžu.&quot; A znovu se otočíš a spěšně pokračuješ k fontáně. &quot;V pohodě. Já se tu třeba sama strhám!&quot; Slyšíš ještě, jak za tebou volá. To už jsi však konečně dospěla až k srdci celé tržnice. Fontána má dvě patra mušlemi zdobených cylindrů, po kterých tiše zurčí a stéká voda, která hází do okolí mihotavé odlesky. U jejího úpatí sedí na kruhovém bílém schodku starý bezdomovec s otrhaným černým psem a škrábe se špinavým nehtem mezi nažloutlými zuby. 

[[Vylézt na fontánu a rozhlédnout se]]
[[Zeptat se bezdomovce]]</tw-passagedata><tw-passagedata pid="183" name="On by se mi teď moc hodil paní" tags="Posrala-to korektura" position="3575,3125" size="100,100">&quot;Víte on by se mi teď strašně moc hodil.&quot; Řekneš jí smutně. Úsměv se z její tváře vytratil dřív, než pěna z mořské hladiny. &quot;Co jsem podle tebe? Žebrák?!&quot; Odpoví ti naštvaně, shrábne otep dříví a naštvaně odkráčí.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi už udělala příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]] &lt;&lt;set $konecbabatrh to true&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 5 and $pohmozdenaruka is false&gt;&gt;Naštvaně ses tedy vrátila ke kašně a nezbývá ti než &lt;&lt;if $money gte 1&gt;&gt;mu buď [[dát svůj penízek|Dát mu svou minci]], nebo &lt;&lt;/if&gt;&gt;se [[ponořit do kašny|Ponořit se pro ni]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 5 and $pohmozdenaruka is true&gt;&gt;&lt;&lt;if $money gte 1&gt;&gt;Naštvaně ses tedy vrátila ke kašně a nezbývá ti než mu buď [[dát svůj penízek|Dát mu svou minci]], nebo [[Odejít|Odejít kašna]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $money eq 0&gt;&gt;Naštvaně ses otočila nazpět a při pohledu na nedobytnou fontánu a bezdomovce čekajícího na peníze, ti je jasné, že tady nepochodíš.

[[Odejít|Odejít kašna]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="184" name="On mi tam spadl paní" tags="Posrala-to korektura" position="3725,3125" size="100,100">&quot;On mi tam totiž spadl&quot; Zalžeš. Žena se na tebe tentokrát trochu truchlivě usměje a odvětí. &quot;Tak s tím ti bohužel nepomohu.&quot; A s těmito slovy zdvihne ze země otep dříví a odejde.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi už udělala příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]] &lt;&lt;set $konecbabaoteptrh to true&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 5 and $pohmozdenaruka is false&gt;&gt;Naštvaně ses tedy vrátila ke kašně a nezbývá ti než &lt;&lt;if $money gte 1&gt;&gt;mu buď [[dát svůj penízek|Dát mu svou minci]], nebo &lt;&lt;/if&gt;&gt;se [[ponořit do kašny|Ponořit se pro ni]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 5 and $pohmozdenaruka is true&gt;&gt;&lt;&lt;if $money gte 1&gt;&gt;Naštvaně jsi se tedy vrátila ke kašně a nezbývá ti než mu buď [[dát svůj penízek|Dát mu svou minci]], nebo [[Odejít|Odejít kašna]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $money eq 0&gt;&gt;Naštvaně ses otočila nazpět a při pohledu na nedobytnou fontánu a bezdomovce čekajícího na peníze, ti je jasné, že tady nepochodíš.

[[Odejít|Odejít kašna]]
&lt;&lt;/if&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="185" name="Opatrně mezi nimi prolézt" tags="korektura" position="4875,1450" size="100,100">Dáváš opatrně ruce mezi trčící střepy v rámu a přitáhneš se. Dusání kroků je slyšet blíž a blíž! Soustředila ses, abys dala i nohy opatrně na místa, kde nejsou střepy, a pak jsi hbitě...

[[Přeskočila na dřevěné zábradlí balkónu]]
[[Skočila na podlahu balkónu]]</tw-passagedata><tw-passagedata pid="186" name="Oprýskanými dveřmi na pravo" tags="korektura" position="4000,4275" size="100,100">Přišla jsi ke dveřím &lt;&lt;if $schodyhospoda is false&gt;&gt;na pravo a:&lt;&lt;/if&gt;&gt;&lt;&lt;if $schodyhospoda is true&gt;&gt;naproti a:

[[Otevřela je dokořán]]
[[Nakoukla do nich]]

&lt;&lt;set $kuchyne to true&gt;&gt;</tw-passagedata><tw-passagedata pid="187" name="Oprýskanými dveřmi na pravo za tebou" tags="korektura" position="5350,5100" size="100,100">Přišla jsi ke dveřím &lt;&lt;if $schodyhospoda is false&gt;&gt;na pravo a:&lt;&lt;/if&gt;&gt;&lt;&lt;if $schodyhospoda is true&gt;&gt;naproti a:

[[Otevřela je dokořán|Otevřela je dokořán 2]]
[[Nakoukla do nich|Nakoukla do nich 2]]

&lt;&lt;set $kuchyne to true&gt;&gt;</tw-passagedata><tw-passagedata pid="188" name="Otevřela je dokořán" tags="korektura" position="3850,4300" size="100,100">Vzala a rázně otevřela. Do nosu tě udeřila intenzivně krásná vůně pečeně. Místnost není velká, však děj v ní by vystačil na tři takové. Kudrnatý kuchař v ušpiněné zástěře pobíhá od hrnce k hrnci a míchá, ochutnává a dochucuje. U linky u zdi stojí dva kuchtíci s dlouhými noži a krájí hromadu kořenové zeleniny. Panuje tam vedro. To vychází z objemných kamen, do kterých zrovna umouněná děvečka přikládá sukovitá polena. Všichni se teď však zastavili a pohlédli na tebe. &quot;Jé... pardon,&quot; vyhrkneš a rychle dveře opět přibouchneš. &quot;Tudy asi né...&quot; Zamumláš si pro sebe.

[[Jít dveřmi na konci chodby|Dveřmi na konci chodby]]
&lt;&lt;if $schodyhospoda is false&gt;&gt;[[Po schodech do patra]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="189" name="Otevřela je dokořán 2" tags="korektura Změna-hudby" position="5500,5150" size="100,100">Vzala a rázně otevřela. Do nosu tě udeřila intenzivně krásná vůně pečeně. Místnost není velká, však děj v ní by vystačil na tři takové. Kudrnatý kuchař v ušpiněné zástěře pobíhá od hrnce k hrnci a míchá, ochutnává a dochucuje. U linky u zdi stojí dva kuchtíci s dlouhými noži a krájí hromadu kořenové zeleniny. Panuje tam vedro. To vychází z objemných kamen, do kterých zrovna umouněná děvečka přikládá sukovitá polena. Všichni se teď však zastavili a pohlédli na tebe. &quot;Jé... pardon,&quot; vyhrkneš a rychle dveře přibouchneš. V zápětí však úlekem nadskočíš, když se dveře lokálu hlasitě rozrazily dokořán a do chodby rázně vkráčel potetovaný námořník od vchodu. Pohled mu utkvěl na tobě a hlasitě tě okřikl: &quot;Co tady šmejdíš ty kryso?!&quot; Úlekem jsi nadskočila a rozběhla se chodbou k dvěřím na konci. Už je však pozdě. Námořník tě svými mílovými kroky dohnal a pevně chytil. Chceš vykřiknout, ale pusu ti zacpala jeho hrubá pracka plná mozolů. &quot;A mám tě!&quot; Zachraplá ti do ucha. Chceš se vytrhnout a začít křičet, ale svírá tě takovou silou, že skoro nemůžeš dýchat. Pak stisk povolil ale u krku se ti zaleskl dlouhý zahnutý nůž. &quot;Jen cekni a vykuchám tě jak malý sele rozumíš?!&quot; Ztuhla jsi děsem. Srdce ti tluče jak o závod. Muž ti zkroutil ruce za záda a svázal je hrubým provazem k sobě, až se ti provaz zařezává do kůže. Potom vytáhl z kapsy starý ošoupaný pytel a hodil ti ho přes hlavu. Skrz hrubou pytlovinu slyšíš, jak ti zachraplal do ucha: &quot;Ty budeš dobrý zboží! Za tebe dostaneme pořádnej balík...&quot; To tě tak vyděsilo, že jsi se začala zmítat, jako divá. V příští vteřině tě však uhodilo do hlavy něco těžkého a ty jsi [[ztratila vědomí.]]  

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="190" name="Otevřít Oči" tags="korektura" position="3475,100" size="100,100">Otevřela jsi oči a párkrát zamrkala. Moc nevíš, co se to právě stalo, protože máš tváře zmoklé, jako bys před chvílí plakala, a všechny barvy až teď jako by nabývaly opravdu na barevnosti. Oklepeš se. Co jsi to jen chtěla... ach ano! Chtěla jsi &lt;&lt;if $probodanirozkroku is true&gt;&gt;se &lt;&lt;/if&gt;&gt;přece &lt;&lt;if $probodanirozkroku is true&gt;&gt;[[schovat|Ukrýt se]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $prasklalebka is true&gt;&gt;buď slézt dolů pomocí [[sloupu|Sloup]], nebo [[fáboru|Fábor]].&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zlomenyvaz is true&gt;&gt;tu tyč, co ji držíš v ruce páčit [[nahoru|Nahoru]].&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelena2 is true and $strelena is false&gt;&gt;[[zůstat stát na místě|Zůstat stát na místě 2]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenadoboku is true&gt;&gt;[[jak se otevřou dveře s rozmachem ho praštit do čela|Jak se otevřou dveře s rozmachem ho praštit do čela]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenadoboku2 is true&gt;&gt;[[jak se otevřou dveře hodit mu kámen s rozmachem do tváře|Jak se otevřou dveře hodit mu kámen s rozmachem do tváře]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenavmori is true&gt;&gt;[[do hostince|Do hostince]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $utopenivevině is true&gt;&gt;[[do sudu na pravo|Do sudu na pravo]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelena is true&gt;&gt;[[zůstat stát na místě.|Zůstat stát na místě.]]&lt;&lt;/if&gt;&gt;\


&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;
&lt;&lt;set $Umrtí += 1&gt;&gt;

&lt;&lt;set $zlomenyvaz to false&gt;&gt;
&lt;&lt;set $zlomenykrk to false&gt;&gt;
&lt;&lt;set $zlomenykrk2 to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $probodanibricha to false&gt;&gt;
&lt;&lt;set $probodanirozkroku to false&gt;&gt;
&lt;&lt;set $prasklalebka to false&gt;&gt;
&lt;&lt;set $zastrelena to false&gt;&gt;
&lt;&lt;set $utopenivevině to false&gt;&gt;
&lt;&lt;set $zastrelenavmori to false&gt;&gt;
&lt;&lt;set $zastrelena2 to false&gt;&gt;
&lt;&lt;set $zastrelenadoboku to false&gt;&gt;</tw-passagedata><tw-passagedata pid="191" name="Otevřít oči balkón" tags="korektura" position="3200,150" size="100,100">Otevřela jsi oči a párkrát zamrkala. Moc nevíš, co se to právě stalo, protože máš tváře zmoklé, jako bys před chvílí plakala, a všechny barvy až teď jako by nabývaly opravdu na barevnosti. Oklepeš se. Co jsi to jen chtěla... ach ano! Chtěla jsi přece [[skočit na dřevěné zábradlí toho balkónu...|Přeskočila na dřevěné zábradlí balkónu]]

&lt;&lt;set $Umrtí += 1&gt;&gt;
&lt;&lt;set $zlomenyvaz to false&gt;&gt;
&lt;&lt;set $zlomenykrk to false&gt;&gt;
&lt;&lt;set $zlomenykrk2 to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $probodanibricha to false&gt;&gt;
&lt;&lt;set $probodanirozkroku to false&gt;&gt;
&lt;&lt;set $prasklalebka to false&gt;&gt;
&lt;&lt;set $zastrelena to false&gt;&gt;
&lt;&lt;set $utopenivevině to false&gt;&gt;
&lt;&lt;set $zastrelenavmori to false&gt;&gt;
&lt;&lt;set $zastrelena2 to false&gt;&gt;
&lt;&lt;set $zastrelenadoboku to false&gt;&gt;
&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="192" name="Otevřít oči balkón2" tags="korektura" position="3350,0" size="100,100">Otevřela jsi oči a párkrát zamrkala. Moc nevíš, co se to právě stalo, protože máš tváře zmoklé, jako bys před chvílí plakala, a všechny barvy až teď jako by nabývaly opravdu na barevnosti. Oklepeš se. Co jsi to jen chtěla... ach ano! Chtěla jsi přece [[skočit na dřevěné zábradlí toho balkónu...|Přeskočit na dřevěné zábradlí balkónu]]

&lt;&lt;set $Umrtí += 1&gt;&gt;
&lt;&lt;set $zlomenyvaz to false&gt;&gt;
&lt;&lt;set $zlomenykrk to false&gt;&gt;
&lt;&lt;set $zlomenykrk2 to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $probodanibricha to false&gt;&gt;
&lt;&lt;set $probodanirozkroku to false&gt;&gt;
&lt;&lt;set $prasklalebka to false&gt;&gt;
&lt;&lt;set $zastrelena to false&gt;&gt;
&lt;&lt;set $utopenivevině to false&gt;&gt;
&lt;&lt;set $zastrelenavmori to false&gt;&gt;
&lt;&lt;set $zastrelena2 to false&gt;&gt;
&lt;&lt;set $zastrelenadoboku to false&gt;&gt;

&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="193" name="Otevřít oči okno" tags="korektura" position="3075,125" size="100,100">Otevřela jsi oči a párkrát zamrkala. Moc nevíš, co se to právě stalo, protože máš tváře zmoklé, jako bys před chvílí plakala, a všechny barvy až teď jako by nabývaly opravdu na barevnosti. Oklepeš se. //Co jsi to jen chtěla... Á, prkno! Kde jsi ho jen nechala...//
[[Najít v pokoji prkno]]

&lt;&lt;set $Umrtí += 1&gt;&gt;
&lt;&lt;set $zlomenyvaz to false&gt;&gt;
&lt;&lt;set $zlomenykrk to false&gt;&gt;
&lt;&lt;set $zlomenykrk2 to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $probodanibricha to false&gt;&gt;
&lt;&lt;set $probodanirozkroku to false&gt;&gt;
&lt;&lt;set $prasklalebka to false&gt;&gt;
&lt;&lt;set $zastrelena to false&gt;&gt;
&lt;&lt;set $utopenivevině to false&gt;&gt;
&lt;&lt;set $zastrelenavmori to false&gt;&gt;
&lt;&lt;set $zastrelena2 to false&gt;&gt;
&lt;&lt;set $zastrelenadoboku to false&gt;&gt;
&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="194" name="Otevřít oči okno pekárna" tags="korektura" position="3325,150" size="100,100">Otevřela jsi oči a párkrát zamrkala. Moc nevíš, co se to právě stalo, protože máš tváře zmoklé, jako bys před chvílí plakala, a všechny barvy až teď jako by nabývaly opravdu na barevnosti. Oklepeš se. Co jsi to jen chtěla... ach ano! Chtěla jsi přece [[vylézt opatrně rámem|Vylézt opatrně rámem]]...

&lt;&lt;set $Umrtí += 1&gt;&gt;
&lt;&lt;set $zlomenyvaz to false&gt;&gt;
&lt;&lt;set $zlomenykrk to false&gt;&gt;
&lt;&lt;set $zlomenykrk2 to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $probodanibricha to false&gt;&gt;
&lt;&lt;set $probodanirozkroku to false&gt;&gt;
&lt;&lt;set $prasklalebka to false&gt;&gt;
&lt;&lt;set $zastrelena to false&gt;&gt;
&lt;&lt;set $utopenivevině to false&gt;&gt;
&lt;&lt;set $zastrelenavmori to false&gt;&gt;
&lt;&lt;set $zastrelena2 to false&gt;&gt;
&lt;&lt;set $zastrelenadoboku to false&gt;&gt;
&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="195" name="Otevřít oči žebřík" tags="korektura" position="3200,0" size="100,100">Otevřela jsi oči a párkrát zamrkala. Moc nevíš, co se to právě stalo, protože máš tváře zmoklé, jako bys před chvílí plakala, a všechny barvy až teď jako by nabývaly opravdu na barevnosti. Oklepeš se. //Co jsi to jen chtěla... Á, ano! Co nejrychleji vylézt na střechu//
[[Vyšplhat po okapu až na střchu|Vyšplhat]]

&lt;&lt;set $Umrtí += 1&gt;&gt;
&lt;&lt;set $zlomenyvaz to false&gt;&gt;
&lt;&lt;set $zlomenykrk to false&gt;&gt;
&lt;&lt;set $zlomenykrk2 to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $probodanibricha to false&gt;&gt;
&lt;&lt;set $probodanirozkroku to false&gt;&gt;
&lt;&lt;set $prasklalebka to false&gt;&gt;
&lt;&lt;set $zastrelena to false&gt;&gt;
&lt;&lt;set $utopenivevině to false&gt;&gt;
&lt;&lt;set $zastrelenavmori to false&gt;&gt;
&lt;&lt;set $zastrelena2 to false&gt;&gt;
&lt;&lt;set $zastrelenadoboku to false&gt;&gt;

&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="196" name="Otočíš se" tags="korektura" position="2750,1800" size="100,100">Otočíš se a vidíš je, jak se na tebe rozlíceně řítí. Svíráš v ruce hrábě a nohy se ti klepou. Musíš však něco podniknout!

[[S rozmachem po nich hrábě hodit a utíkat nahoru]]
[[Držet hrábě v pozoru a vyčkávat]]</tw-passagedata><tw-passagedata pid="197" name="Otřeš si pot z čela a nevěřícně se na ni zadíváš..." tags="" position="1000,850" size="100,100">Po půl hodině výskotu a hlášek tipu: &quot;Viděl jsi, jak jsem ji úplně sama vytáhla?!&quot; nebo &quot;Ta je ale úplně obří, že tati!&quot; ti táta s úsměvem podá nůž, abys ji očistila od šupin a vykuchala. Opracování ryb ti už jde dobře, takže ti odstranění šupin trvalo jen chvilinku.
Pak jsi ji rozřízla, vytáhla vnitřnosti &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a...
V žaludku jsi něco nahmatala! Rozřízla jsi ho tedy a na ruce od rybí krve se ti leskne zlatý prstýnek se vsazeným, prazvláštně modrým kamínkem.
Chvíli na něj očarovaně koukáš s otevřenou pusou a pak...

[[Si ho strčíš do kapsy]]
[[Ho ukážeš tátovi]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="198" name="Plazit se za pytli až na konec jejich řady a tam se dát na útěk" tags="korektura" position="4550,675" size="100,100">Rychle se plazíš za pytli směrem k tomu poslednímu. Kroky jsou slyšet blíž a blíž. Plazíš se co nejrychleji můžeš. Doplazila jsi se až k poslednímu pytli, vykoukla zpoza něj a vidíš schodiště! Najednou ale zaječíš. Pekař tě chytl za vlasy a násilně vytáhl zpoza pytlů. &quot;Áá!&quot; Zařval a pevně tě svírá. Snažíš se kopat, ale je to marný boj. 
Pak už si jen pamatuješ, jak tě chytl za ruku a vláčel po schodech a přes celý obchod. Po cestě na tebe ještě řvala ta tlustá paní, něco o vychování a spratcích bez dozoru... Nakonec tě pekař hodil na chodník před pekárnu, ještě jednou ti vynadal a naštvaně odešel.
[[S námahou se zvedneš ze země...|Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="199" name="Plivla do tváře" tags="korektura Smrt-ok Změna-hudby" position="4475,2350" size="100,100">Vytáhla jsi palebný materiál tak říkajíc až z paty a vystřelila! Vzduchem proletěl obrovský flusanec, který se jí s plesknutím rozprsknul přímo na jejím velkém lesklém nose. Tak ji to zaskočilo, že úlekem povolila sevření a pustila tě. V uších ti zasvištělo a prostoupila tebou panika, když jsi uviděla, že mezitím vůz už projel a ty se řítíš přímo na holou dlažbu...
Ulicemi se rozlehlo tlumené křupavé plesknutí, jak jsi nešťastně dopadla na pravou nohu. Koleno se ti prolomilo na druhou stranu a ty jsi hlavou drsně narazila na dlažbu až to křuplo. Po kočičích hlavách se rozprskly tenké cákance čerstvé krve a ty ses propadla do naprosté...

&lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMY...|...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt; Tobě nějak zvláštně povědomé [[...TMY...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt; Tobě povědomé [[...TMY...|...TMA...3]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 3&gt;&gt; Tobě dobře povědomé [[...TMY...|...TMA...4]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $prasklalebka to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="200" name="Plivneš do obličeje" tags="korektura" position="4750,2100" size="100,100">Vytáhla jsi palebný materiál tak říkajíc až z paty a vystřelila! Vzduchem proletěl obrovský flusanec, který se jí s plesknutím rozprsknul přímo na jejím velkém lesklém nose. Tak ji to zaskočilo, že úlekem povolila sevření. Toho jsi hned využila a rychle slezla dolů k fáboru, chytila se za něj a začala po něm sešplhávat. Hospodyňka se ještě naklonila přes zábradlí, z nosu ji stéká flusanec, hrozí ti pjestí a huláká: &quot;Ty kryso jedna špinavá! Nevděčnej drzej spratku, parchante plesnivá...!&quot;
To už sešplháš až na konec a když se koukneš dolů, zjistíš, že tvé propočty byly trochu nepřesné. Ještě ti dobrý metr a půl k zemi zbývá... Nu nezbývá než [[skočit]]...</tw-passagedata><tw-passagedata pid="201" name="Plivneš do obličeje sloup" tags="korektura" position="5000,2100" size="100,100">Vytáhla jsi palebný materiál tak říkajíc až z paty a vystřelila! Vzduchem proletěl obrovský flusanec, který se jí s plesknutím rozprsknul přímo na jejím velkém lesklém nose. Tak ji tu zaskočilo, že úlekem povolila sevření. Hned jsi toho využila a rychle slezla znovu dolů ke sloupu, obejmula ho a už se pomalu kloužeš po hladkém dřevě dolů. Jen se brzdíš nohama. Hospodyňka se naklonila přes zábradlí, hrozí ti pěstí se znatelně zbarveným kousancem a huláká: &quot;Ty kryso jedna špinavá! Nevděčnej drzej spratku, parchante plesnivá...!&quot;
To už ti však mizí z dohledu. Ani ses nenadála a už stojíš [[nohama na zemi.]]</tw-passagedata><tw-passagedata pid="202" name="Po schodech do patra" tags="korektura" position="3900,4475" size="100,100">Přistoupila jsi ke schodišti a &lt;&lt;linkreplace &quot;stoupla na první schod.&quot;&gt;&gt;stoupla na první schod.
Schod slaboučce zaskřípal. //Sakriš...//

[[Vyběhnout je]]
[[Našlapovat potichu]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $schodyhospoda to true&gt;&gt;</tw-passagedata><tw-passagedata pid="203" name="Po schodech do patra za tebou" tags="korektura" position="5225,5100" size="100,100">Přistoupila jsi ke schodišti a &lt;&lt;linkreplace &quot;stoupla na první schod.&quot;&gt;&gt;stoupla na první schod.
Schod slaboučce zaskřípal. //Sakriš...//

[[Vyběhnout je|Vyběhnout je 2]]
[[Našlapovat potichu|Našlapovat potichu 2]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $schodyhospoda to true&gt;&gt;</tw-passagedata><tw-passagedata pid="204" name="Po schodech dolů a dveřmi" tags="korektura" position="1675,275" size="100,100">Ne... to vypadá až moc nebezpečně... Vezmeš to osvědčenou cestou. Bleskurychle seběhneš ze schodů dolů, potichu procupitáš ke dveřím, aby jsi nevzbudila rodiče a neslyšně proklouzneš dveřmi ven.
V dálce vidíš pelášícího zloděje. &lt;&lt;linkreplace &quot;Rozběhneš se!&quot;&gt;&gt;Rozběhneš se!
Míjíš dům za domem a bosýma nohama pleskáš o kočičí hlavy, kterými je ulice dlážděná. Tvrdohlavě a naštvaně si opakuješ, //že ho prostě dostaneš!// 
Prchající proběhl přes malou křižovatku rovně. Když však ke křižovatce dobíháš ty, vyjede právě z uličky nalevo velký vůz vrchovatě naložený hnojem. 
To už k němu dobíháš a...

[[Podklouzneš pod ním]] 
[[Počkáš, než projede]] 

&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="205" name="Po střeše" tags="korektura" position="1825,75" size="100,100">Vyškrábeš se na parapet. Tebe a vedlejší střechu dělí jen něco málo přes metr. Pro tebe je to ale vcelku dálka... 
[[Najít v pokoji někde prkno, které jsi pro tyto účely vždy používala]] nebo [[rovnou skočit]]?</tw-passagedata><tw-passagedata pid="206" name="Podklouzneš pod ním" tags="korektura" position="1950,350" size="100,100">... s rozběhem se přikrčíš a vklouzneš pod naložený vůz. Rychle se snažíš dostat na druhou stranu, když tu vůz přeskočil přes kámen a pod tíhou nákladu to už stará konstrukce déle nevydržela. Ozvalo se rupnutí a boky vozu povolily. 
Tyto vypjaté chvíle člověk vnímá, jako by byly mnohokrát zpomalené, a to se ti teď stalo. 
Jsi právě přímo uprostřed pod vozem, chystáš se vylézt, když vidíš, jak shora začíná padat hnůj...

[[Skočit střemhlav vpřed]]
[[Zůstat skrčená na místě]]</tw-passagedata><tw-passagedata pid="207" name="Poděkovat" tags="korektura" position="2175,2125" size="100,100">&quot;Mockrát vám děkuju,&quot; usměješ se na něj. &quot;Ale to vůbec nestojí za řeč, děvče.&quot; Usměje se farmář taky a dramaticky smekne svůj potrhaný klobouk. Zasměješ se, zamáváš mu a [[vstoupíš na tržiště.|vstoupit na tržiště.]]</tw-passagedata><tw-passagedata pid="208" name="Pokračovat do místnosti" tags="korektura" position="4225,125" size="100,100">Udělala jsi pár kroků hlouběji do místnosti a obraz okolí se rozostřuje. Naopak dění před krbem zaostřuje.

[[Postoupit až před krb]]</tw-passagedata><tw-passagedata pid="209" name="Pokračovat k fontáně" tags="korektura" position="3500,2325" size="100,100">//Na to teď není čas.//

[[Omluvit se jí]]
[[Prostě odejít]]</tw-passagedata><tw-passagedata pid="210" name="Pokračovat po zemi" tags="korektura" position="1700,500" size="100,100">//Ne... to by možná nebylo rozumné,// pomyslíš si a rozběhneš se ulicí.
Míjíš dům za domem a bosýma nohama pleskáš o kočičí hlavy, kterými je ulice dlážděná. Tvrdohlavě a naštvaně si opakuješ, //že ho prostě dostaneš!// 
Prchající proběhl přes malou křižovatku rovně. Když však ke křižovatce dobíháš ty, vyjede právě z uličky nalevo velký vůz vrchovatě naložený hnojem. 
To už k němu dobíháš a...

[[Podklouzneš pod ním]] 
[[Počkáš, než projede]]</tw-passagedata><tw-passagedata pid="211" name="Pokračovat v pozorování" tags="korektura" position="4150,800" size="100,100">Teď si pekař tleskáním oprášil ruce, až se kolem něj udělal bílý oblak. V tu chvíli jsi něco zpozorovala! U pasu se mu s pocinkáváním zaleskl svazek klíčů. Už se měl k odchodu, když tu &lt;&lt;linkreplace &quot;zpozoroval...&quot;&gt;&gt;zpozoroval... tvoji hlavu vykukující zpoza pytlů. Zavládlo chvilkové ticho, kdy se ti málem zastavilo srdce. &quot;Co tam děláš?!&quot; Zavrčí pak pekař a rázným krokem k tobě vykročí. 
//Do háje!//

[[Přeskočit pytle a běžet ke schodišti]]
[[Vyčkávat|Vyčkávat2]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="212" name="Pokračovat v pozorování 2" tags="korektura" position="3600,375" size="100,100">Teď si pekař tleskáním oprášil ruce, až se kolem něj udělal bílý oblak. V tu chvíli jsi něco zpozorovala! U pasu se mu s pocinkáváním zaleskl svazek klíčů. Už se měl k odchodu, když tu &lt;&lt;linkreplace &quot;zpozoroval...&quot;&gt;&gt;zpozoroval... tvoji hlavu vykukující zpoza závěsu. Zavládlo chvilkové ticho, kdy se ti málem zastavilo srdce. &quot;Co tam děláš?!&quot; Zavrčí pak pekař a rázným krokem k tobě vykročí. //Do háje!//

[[Vyběhnout]]
[[Vyčkávat]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="213" name="Pokračuješ v pronásledování." tags="korektura" position="1950,200" size="100,100">V dálce vidíš pelášícího zloděje. &lt;&lt;linkreplace &quot;Rozběhla ses!&quot;&gt;&gt;Rozběhla ses!
Míjíš dům za domem a bosýma nohama pleskáš o kočičí hlavy, kterými je ulice dlážděná. Tvrdohlavě a naštvaně si opakuješ, //že ho prostě dostaneš!// 
Prchající proběhl přes malou křižovatku rovně. Když však ke křižovatce dobíháš ty, vyjede právě z uličky nalevo velký vůz vrchovatě naložený hnojem. 
To už k němu dobíháš a...

[[Podklouzneš pod ním]]
[[Počkáš, než projede]]

&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="214" name="Pomaličku jakože projít kolem a pak se zastavit o kousek dál a nenápadně naslouchat" tags="korektura" position="4400,2850" size="100,100">Ledabylým krokem se vydáš větším obloukem kolem a pilně nasloucháš, aby ti neuniklo ani slovo. &lt;&lt;set $proslakolem to true&gt;&gt;
&lt;&lt;if $zpomaleni eq -1&gt;&gt;Díky tomu, že ses během dostihu ani jedinkrát nezpomalila a naopak získala všechny body dostihu, můžeš si teď vyslechnout nejdelší část rozhovoru, jakou jen lze!

„...Jó zatím šecko v klídu.“ Odpovídá právě chraplavě na nějakou otázku ten potetovaný námořník, sedící na druhém sudu. „Ale to sou ryby raky, spíš mi vyklop jeslis pochodil ty?“ Zeptal se muže v černém. Ten se tiše zasmál a hlubokým chladným hlasem mu odpověděl: „To si teda piš. Kapitán bude doopravdy nadšenej ti říkám.“ A uchechtne se. „Počkej to jako dovopravdy? Jako, žes ho fakt vyčmuchal a chmátnul?“ Ptá se s neskrývaným nadšením námořník. „Jak říkám. &lt;&lt;if $ukazalaprsten is true&gt;&gt;Sice sem se dostal do menšího křížku s týpkem, co chrápal v tom baráku, kde sem to našel, ale... však mě znáš. Žádná velká překážka. Pak po mě ještě nějakou dobu šla holka, co to předtím našla, ale rychle sem ji setřásl.“&lt;&lt;/if&gt;&gt;&lt;&lt;if $neukazalaprsten is true&gt;&gt;Sice sem u toho probudil holku, co to měla u sebe, ale rychle sem zmizel. Nějakou dobu mě pronásledovala, ale za chvilku jsem ji setřásl.“&lt;&lt;/if&gt;&gt; Potajmu se ušklíbneš&lt;&lt;if $ukazalaprsten is true&gt;&gt; ale v duchu doufáš, že tátovi moc neublížil&lt;&lt;/if&gt;&gt;. „No jó nó…“ Zakráká námořník „Je jasný, že když pošlou takovýho korzára, jak seš ty, tak to bude znamenat, že tu neztvrdnem na dlouho… Však půlka posádky se ještě ani nepostaví na nohy, jak se jim bude motat škeble.“ Uchechtne se. „Jejich problém. Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ Odpoví muž v černém. Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly.
[[Zavládlo ticho.]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 0&gt;&gt;Díky tomu, že sis během dostihu vedla velmi dobře, stíháš si teď vyslechnout téměř celý rozhovor!

Muž v černém se zrovna tlumeně zasmál nečemu, co mu říkal námořník a hlubokým chladným hlasem mu odpověděl: „To si teda piš. Kapitán bude doopravdy nadšený ti říkám.“ A uchechtne se. „Počkej to jako dovopravdy? Jako, žes ho fakt vyčmuchal a chmátnul?“ Ptá se s neskrývaným nadšením námořník. „Jak říkám. &lt;&lt;if $ukazalaprsten is true&gt;&gt;Sice sem se dostal do menšího křížku s týpkem, co chrápal v tom baráku, kde sem to našel, ale... však mě znáš. Žádná velká překážka. Pak po mě ještě nějakou dobu šla holka, co to předtím našla, ale rychle sem ji setřásl.“&lt;&lt;/if&gt;&gt;&lt;&lt;if $neukazalaprsten is true&gt;&gt;Sice sem u toho probudil holku, co to měla u sebe, ale rychle sem zmizel. Nějakou dobu mě pronásledovala, ale za chvilku sem se ji setřásl.“&lt;&lt;/if&gt;&gt; Potajmu se ušklíbneš&lt;&lt;if $ukazalaprsten is true&gt;&gt; ale v duchu doufáš, že tátovi moc neublížil&lt;&lt;/if&gt;&gt;. „No jó nó…“ Zakráká námořník „Je jasný, že když pošlou takovýho korzára, jak seš ty, tak to bude znamenat, že tu neztvrdnem na dlouho… Však půlka posádky se ještě ani nepostaví na nohy, jak se jim bude motat škeble.“ uchechtne se. „Jejich problém. Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ odpoví muž v černém. Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly. 
[[Zavládlo ticho.]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 1&gt;&gt;Díky tomu, že sis během dostihu vedla dobře, stíháš  teď vyslechnout poměrně velkou část rozhovoru:

„Jak říkám.&quot; Mluví právě muž v černém hlubokým a chladným hlasem. &lt;&lt;if $ukazalaprsten is true&gt;&gt;&quot;Sice sem se dostal do menšího křížku s týpkem, co chrápal v tom baráku, kde sem to našel, ale... však mě znáš. Žádná velká překážka. Pak po mě ještě nějakou dobu šla holka, co to předtím našla, ale rychle sem ji setřásl.“&lt;&lt;/if&gt;&gt;&lt;&lt;if $neukazalaprsten is true&gt;&gt;&quot;Sice sem u toho probudil holku, co to měla u sebe, ale rychle sem zmizel. Nějakou dobu mě pronásledovala, ale za chvilku sem se ji setřásl.“&lt;&lt;/if&gt;&gt; Potajmu se ušklíbneš&lt;&lt;if $ukazalaprsten is true&gt;&gt; ale v duchu doufáš, že tátovi moc neublížil&lt;&lt;/if&gt;&gt;. „No jó nó…“ Zakráká námořník „Je jasný, že když pošlou takovýho korzára, jak seš ty, tak to bude znamenat, že tu neztvrdnem na dlouho… Však půlka posádky se ještě ani nepostaví na nohy, jak se jim bude motat škeble.“ Uchechtne se. „Jejich problém. Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ Odpoví muž v černém. Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly. 
[[Zavládlo ticho.]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 2&gt;&gt;Díky tomu, že sis během dostihu vedla vcelku dobře, stíháš si teď vyslechnout alespoň část rozhovoru:

„No jó nó…“ Zakráká zrovna námořník „Je jasný, že když pošlou takovýho korzára, jak seš ty, tak to bude znamenat, že tu neztvrdnem na dlouho… Však půlka posádky se ještě ani nepostaví na nohy, jak se jim bude motat škeble.“ Uchechtne se. „Jejich problém.&quot; odvětí zloděj hlubokým a chladným hlasem. &quot;Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly. 
[[Zavládlo ticho.]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 3&gt;&gt;Díky tomu, že sis během dostihu nevedla nějak zásadně špatně, stíháš si teď vyslechnout alespoň konec rozhovoru:

„Jejich problém.&quot; Říká zrovna zloděj hlubokým a chladným hlasem. &quot;Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly. 
[[Zavládlo ticho.]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="215" name="Pomalu se plížit k oknu" tags="korektura" position="3375,1400" size="100,100">Potichu se plížíš ke zdi u okna a čekáš na vhodný okamžik... Ten ale stále nenastává, protože se kuchař ještě motá na místě, kam potřebuješ jít... //Ah... trvá to snad věčnost!//

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Když tu se pro něco otočil a loktem nechtěně zavadil o keramickou formu na chleba, která stála na kraji stolu. V příští chvíli se forma roztříštila o zem přímo před tvojí bývalou skrýší... //Díky bohu, že tam teď nejsem...//
Pekař se mezitím otočil a velice neslušně zaklel.
Sehnul se a začal sbírat střepy. Zrak mu sklouzl až pod pult, kde ses ještě před okamžikem choulila. Měl totiž pocit, že tam před chvílí něco viděl, ale asi se mu to jen zdálo. Teď je tvoje příležitost!

[[Vyrazit k oknu]]</tw-passagedata><tw-passagedata pid="216" name="Ponořit se do vzpomínek" tags="" position="1075,50" size="100,100">Hmm... když se teď tak zamyslíš nad obchodními loděmi... Vzpomínáš si, jak tě kdysi máma vzala s sebou do přístavu, aby ses na jednu takovou podívala. &quot;Ta je ale veliká, co?&quot; říkala tehdy maminka. Pak jste se šly podívat, co přivezli, a tehdy ti koupila ty krásné naušnice s perličkami. &quot;Dávej na ně pozor, Ándreo!&quot; řekla ti tehdy a s úsměvem ti je podala. A tak sis je schovala do krabičky pod postel k ostatním pokladům, kde leží dodnes...

[[Zpět do přítomnosti]]</tw-passagedata><tw-passagedata pid="217" name="Ponořit se pro ni" tags="korektura" position="3300,2925" size="100,100">&lt;&lt;if $jablko eq 0 and $money eq 0 and $sušenka eq 0 and $bonbon is false&gt;&gt;
Žádné předměty si z kapes vytahovat nemusíš, takže jsi se jen nadechla a v šatičkách do kašny skočila.&lt;&lt;/if&gt;&gt;&lt;&lt;if $money gte 1&gt;&gt;&lt;&lt;if $jablko eq 1 or $sušenka eq 1 or $bonbon is true&gt;&gt;Vytáhla jsi, co máš po kapsách &lt;&lt;if $money eq 1&gt;&gt;-minci si tam však raději ponecháš-&lt;&lt;/if&gt;&gt;&lt;&lt;if $money eq 2&gt;&gt;-mince si tam však raději ponecháš-&lt;&lt;/if&gt;&gt; a v šatičkách do kašny skočíš.&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $money eq 0&gt;&gt;&lt;&lt;if $jablko eq 1 or $sušenka eq 1 or $bonbon is true&gt;&gt;Vytáhneš, co máš po kapsách a v šatičkách do kašny skočíš.&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;
Malinko jsi zavýskla, protože voda je ještě vcelku studená a potom se ponoříš pod hladinu. Plavat umíš dobře, takže jsi hned na první nádech doplavala ke dnu, sebrala minci a vítězoslavně se s ní vynořila. Vyškrábala ses znovu na okraj,mokrá jako žába,  a oklepala se, až z tebe na všechny strany odlétají kapky. Seskočila jsi na zem&lt;&lt;if $jablko eq 1 or $sušenka eq 1 or $bonbon is true&gt;&gt;, dala si svůj majetek nazpět do kapsy&lt;&lt;/if&gt;&gt; a se samolibým úsměvem muži [[podala minci.]]

&lt;&lt;set $mokresaty to true&gt;&gt;</tw-passagedata><tw-passagedata pid="218" name="Poprosit farmáře, ať přidá na rychlosti" tags="korektura" position="1725,1850" size="100,100">&quot;Prosím, nemohl byste teď jet trochu rychleji?&quot; zeptáš se farmáře naléhavě. Ten pomalu zakroutí hlavou a řekne: &quot;Všechno má svůj čas, děvče...&quot;
&quot;Ahh!&quot; Zavztekáš se potichu a rychle [[vlezeš do sena.|Schovat se do sena]]</tw-passagedata><tw-passagedata pid="219" name="Poprosit ho, aby ti dal alespoň nápovědu" tags="korektura" position="3100,2950" size="100,100">&quot;A nenapověděl byste mi aspoň prosím?&quot; Zeptáš se ho smutně.
Muž roztahal dýmku a vyfoukl aromatický oblak tabákového kouře. Potom pomalu a tiše zdvihne ruku a palcem několikrát zakývá směrem do přístavu. Pak na tebe mrkl a dál si hledí svého. S pootevřenou pusou jsi pokývala hlavou a jelikož by jsi stejně sama sotva věděla kudy se dál vydat, poděkovala jsi a vyrazila kolem fontány směřujíc na [[cestu do přístavu.|Cesta do přístavu]]</tw-passagedata><tw-passagedata pid="220" name="Poprosit ho, aby tě svez zpomalení" tags="korektura" position="1525,1450" size="100,100">&quot;Pane?&quot; Oslovíš ho a snažíš se s vozem držet krok. Zarostlý farmář v lněné košili a potrhaném klobouku se na tebe otočí. &quot;Copak děvenko?&quot; 
&quot;Nesvezl by jste mě prosím dolů na tržiště?&quot;
&quot;Prrrrr!&quot; Zastaví povelem mulu a kývne ti. &quot;Naskoč,&quot; pokyne ti s úsměvem.
S vděčností doběhneš k vozu, chytneš se ho a vyškábeš se na něj.
&quot;Držíš se pevně, dítě moje?&quot; zeptá se farmář. &quot;Ano,&quot; přikývneš mu. Ten pokývá hlavou, švihne otěžemi a zakřičí: &quot;Hijé!&quot;
Vůz se dal znovu kodrcavě do pohybu a ujíždíte spolu [[směřujíce na tržiště.]]

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;rynek&quot; &quot;music/rynek.flac&quot;&gt;&gt;&lt;&lt;audio rynek play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="221" name="Poprosit ho, aby tě svez zpomalení 2" tags="korektura" position="1625,1600" size="100,100">&quot;Pane?&quot; oslovíš ho a snažíš se s vozem držet krok. Zarostlý farmář ve lněné košili a potrhaném klobouku se na tebe otočí. &quot;Copak, děvenko?&quot; 
&quot;Nesvezl byste mě prosím dolů na tržiště?&quot;
&quot;Prrrrr!&quot; Zastaví povelem mulu a kývne ti. &quot;Naskoč.&quot; Pokyne ti s úsměvem.
S vděčností doběhneš k vozu, chytneš se ho a vyškábeš se na něj.
&quot;Držíš se pevně, dítě moje?&quot; zeptá se farmář. &quot;Ano,&quot; přitakáš. Ten pokývá hlavou, švihne otěžemi a zakřičí: &quot;Hijé!&quot;
Vůz se dal znovu kodrcavě do pohybu a ujíždíte spolu, [[směřujíce na tržiště.]]</tw-passagedata><tw-passagedata pid="222" name="Poprosit ho, aby tě svezl" tags="korektura" position="2050,1700" size="100,100">&quot;Pane...&quot; Oslovíš ho udýchaně a snažíš se držet s vozem tempo. &quot;Nesvezl byste mě prosím kousek dolů na tržiště?
Opět za zády uslyšíš spěšně se přibližující kroky. Ohlédneš se a vidíš, že se klukovi nějak podařilo se vymanit paní, která za ním teď ještě něco naštvaně huláká. Ten si jí však už nevšímá a se zlostnou grimasou se k tobě žene. V panice se zahledíš na farmáře. &quot;Prosím, moc prosím!&quot;
Farmář se ohlédne, uvidí jak se na tebe nenávistně žene ten kluk a přikývne: &quot;Jen naskoč, dítě.&quot;
S vděkem doběhneš k vozu, chytneš se ho a vyškrábeš se na něj.
&quot;Držíš se pevně, dítě moje?&quot; Zeptá se farmář. &quot;Ano,&quot; přitakáš. Ten pokývá hlavou, švihne otěžemi a zakřičí &quot;Hijé!&quot;
V tu chvíli už doběhl kluk skoro až k tobě, vidíš, jak se chystá už už chytit vozu, když mula přidala do kroku, vůz mu ujel přímo před nosem a zmizel v dáli, [[[směřuje na tržiště.|směřujíce na tržiště.]]</tw-passagedata><tw-passagedata pid="223" name="Poprosit ho, aby tě svezlPoprosit ho, aby tě svez náskok" tags="korektura" position="2025,1425" size="100,100">&quot;Pane?&quot; Oslovíš ho a snažíš se s vozem držet krok. Zarostlý farmář ve lněné košili a potrhaném klobouku se na tebe otočí. &quot;Copak, děvenko?&quot; 
&quot;Nesvezl byste mě prosím dolů na tržiště?&quot;
&quot;Prrrrr!&quot; Zastaví povelem mulu a kývne ti. &quot;Naskoč.&quot; Pokyne ti s úsměvem.
S vděčností doběhneš k vozu, chytneš se ho a vyškrábeš se na něj.
&quot;Držíš se pevně, dítě moje?&quot; zeptá se farmář. &quot;Ano.&quot; Přikývneš mu. Ten pokývá hlavou, švihne otěžemi a zakřičí: &quot;Hijé!&quot;
Vůz se dal znovu kodrcavě do pohybu a ujíždíte spolu [[směřujíce na tržiště.|směřujíc na tržiště. kolem krabic]]</tw-passagedata><tw-passagedata pid="224" name="Poprosit ji o pomoc" tags="korektura" position="2300,1575" size="100,100">&quot;P-paní!&quot; Zakřičíš na ni a doběhneš k ní. &quot;Prosím, pomozte mi.&quot;
Paní se na tebe pohlédla s ohrnutým nosem a tobě je jasné, že ji jen hluboce obtěžuješ. Ohlédneš se a vidíš, že je kluk už skoro u tebe! &quot;Tak vám teda moc děkuju!&quot; Utrousíš naštvaně a &lt;&lt;linkreplace &quot;znovu se rozběhneš.&quot;&gt;&gt;znovu se rozběhneš.
Teď už je to kritické... slyšíš ho v pár metrech za sebou a pořád se blíží! V tu chvíli kolem tebe právě zleva projíždí vůz naložený senem. Vpředu na něm sedí fousatý farmář a znuděně drží otěže staré muly, která vůz táhne.

[[Poprosit vozku, aby tě svezl]]
[[Prostě na vůz skočit]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="225" name="Poprosit nějakého kolemjdoucího" tags="korektura" position="3450,2850" size="100,100">Kolem kašny je vcelku živo, a tak jsi začala mezi lidmi pobíhat od jednoho k druhému a ptát se jich: &quot;Pane...? Nepomohl...&quot; &quot;Paní prosím zastavte na chvíli....&quot; &quot;Haló pane nemáte chvíli...?&quot; Všichni tě ale ignorují. Už nad tím chceš zlomit hůl. //Tak jo zeptám se posledního člověka a pak na to kašlu!//

[[Zeptat se vysokého fousatého pána s vestičkou a pupkem...]]
[[Zeptat se pohublé ženy s otepí dříví...]]</tw-passagedata><tw-passagedata pid="226" name="Poprosit tátu o pomoc" tags="" position="900,1125" size="100,100">&quot;Tatí!&quot;
Táta se na tebe otočí. &quot;Copak?&quot; 
Silou držíš udici, až jsi v obličeji celá rudá. &quot;P-pomůžeš mi prosíím?!&quot;
Táta se na teb s úsměvem zadívá. &quot;První rybu si musíš ulovit sama, jinak by to nebylo kouzelný.&quot; A mrkne na tebe. Než se však stihneš kouknout zpátky na udičku, naposledy sebou silně škubne &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;
...a ty zklamaně vytáhneš prázdný háček.

[[...|Nabručeně sedíš]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="227" name="Poprosit vozku, aby tě svezl" tags="korektura Posrala-to" position="2275,1700" size="100,100">&quot;Pane...&quot; oslovíš ho udýchaně a snažíš se držet s vozem tempo. &quot;Nesvezl by jste mě prosím kousek dolů na tržiště?“
Kluk už ti takřka dýchá za krk. V panice se zahledíš na farmáře. &quot;Prosím, moc prosím!&quot;
Farmář se ohlédne, uvidí jak se na tebe nenávistně žene ten kluk a přikývne ti. &quot;Jen naskoč, dítě.&quot;
S vděkem doběhneš k vozu, chytneš se ho a vyškrábeš se na něj. V tu chvíli tě však už kluk doběhl a chytil tě za nohu. Zapištěla jsi, svezla se z vozu a bolestivě sebou plácla na dlažbu. 

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&quot;Ták, ty malá špindíro!&quot; Slyšíš za zády. &quot;Teď ti dám co proto!&quot;
V tu chvíli se však ozvalo hlasité &quot;Prrrrr!&quot; A vůz zastavil. Seskočil z něj farmář s bičem v ruce a rozběhl se k vám. &quot;Koukáš ji pustit, kluku jeden!&quot; Křičí na něj a vzduchem práskne bič.
Cítíš, jak tě násilník pustil a dal se na útěk. Farmář k tobě přispěchal a starostlivě ti pomohl na nohy. „Jsi v pořádku, dítě? Neublížil ti?“
&lt;&lt;if $zpomaleni lte 5&gt;&gt;&quot;Jsem celkem v pořádku, moc děkuju,&quot; odvětíš mu lehce otřeseně, ale plná vděčnosti.&quot; Farmář pokýve hlavou. &quot;Ten holomek mi je důvěrně známej. Občas mi na poli krade zelí. No... chceš svízt na trh?&quot;
&quot;To byste byl moc hodný,&quot; odpovíš mu a už si sedáte zpátky na vůz a [[jedete na tržiště.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;&quot;Jsem celkem v pořádku, moc děkuju,&quot; odvětíš mu lehce otřeseně, ale plná vděčnosti. Bohužel jsi však udělala již příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]

&lt;&lt;set $konecvuz2 to true&gt;&gt; 

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="228" name="Poprosit člověka ve dveřích, aby tě pustil" tags="korektura" position="2850,275" size="100,100">Doběhla jsi až ke vchodu a vidíš, jak se tlustá hospodyňka zrovna snaží vecpat dovnitř. Bohužel se ve dveřích střetla se starým pánem a teď se jeden druhému snaží nějak vyhnout. Moc jim to ale nejde. 
Zatahala jsi ji za sukni a ta se na tebe nahněvaně podívala. &quot;Co chceš?!&quot; vypraví ze sebe a konečně se jí podaří vecpat dovnitř. Pán vyletěl ze dveří jak zátka z láhve, div že neupadl.
&quot;Mohla bych vás poprosit, že byste mě pustila napřed? Jen se tam chci podívat...&quot; Žena se před tebou rozkročila, zbrunátněla a zvýšeným tónem ti nakázala, ať si hezky stoupneš na konec fronty a nemyslíš si, že máš na práci něco důležitějšího než dospělí.
To tě pěkně namíchlo a tak...

[[Jí proklouzneš pod sukní...]]
[[Se prosmykneš kolem ní...]]</tw-passagedata><tw-passagedata pid="229" name="Porozhlédnout se kolem" tags="korektura" position="2700,125" size="100,100">Nic jiného neexistuje.

[[Přijít ke dveřím]]</tw-passagedata><tw-passagedata pid="230" name="Porozhlédnout se po alternativě" tags="korektura" position="3350,775" size="100,100">Když se tak koukáš kolem, zpozoruješ, že v kuchyni je otevřené okno, kudy by se dalo na terasu krásně dostat! Problém ale je, že se nachází za pultem a musela by ses tam nějak nepozorovaně proplížit. Díváš se po místnosti dál. Napravo od dveří jsou malé schůdky vedoucí kamsi do horního patra. Ty jsou zahrazené jen řetízkem a nebyl by problém se tam dostat. Otázka je, kam by tě to ale zavedlo...?

[[Zkusit se proplížit k oknu]]
[[Zkusit jít po schůdcích do patra]]

&lt;&lt;set $okno = 1&gt;&gt;
&lt;&lt;set $patro = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="231" name="Posadit se" tags="korektura" position="3075,0" size="100,100">Sešla jsi po třech malých schůdcích do místnosti a rozkoukala jsi se. Čím víc se ale díváš kolem, tím míň je to podstatné, a tak jsi přišla ke křeslu a posadila se do něj. Křeslo je velké kožené a ty se v něm skoro ztrácíš. Upřela jsi svůj zrak teď na postavu. Nedokážeš na ni vůbec zaostřit. Je celá jakoby moc blízko a daleko zároveň. Takže ji jen vnímáš a bolí tě z ní oči. Je však velká... a cítíš, že ona velice bedlivě vnímá a pozoruje tebe. 
Ticho pak nakonec ukončí hlas znějící jako tisíc rezavých želez, brousících se o skálu kdesi v dáli.

&lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Už jsi tam takřka byla.&quot;//
  &lt;&lt;linkreplace &quot;...&quot;&gt;&gt;&quot;Byla...&quot; Vyhrkne z tebe, aniž bys tak úplně chápala, jak tomu rozumíš.
    &lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;To by ale bylo zbytečně unáhlené a větve možností by se nemohly do plna rozkošatět...&quot;//
      &lt;&lt;linkreplace &quot;...&quot;&gt;&gt;Cítíš, jak ti začínají téct slzy.
    &quot;Já... já vím. Bylo to unáhlené...&quot;
        &lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Ano. To bylo... Tento příběh je na zánik až příliš mladý a krátký.&quot;//
          &lt;&lt;linkreplace &quot;...&quot;&gt;&gt;Pokyvuješ hlavou a slzy ti stékají po tváři.
            &lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Tedy je na čase...&quot;// 
          Postava vstane a celý prostor kolem se zahoupá jako hladina studeného jezera, do kterého vhodíš prastarou minci. 
              &lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Jdi žít, co jsi započala. Pokud se však hodláš vracet na toto místo častěji... věz! Tvůj osud se bude deformovat a tvá rozhodnutí omezovat... Kdo se vrací vícekrát, nevrací se pak úplně.&quot;//
                &lt;&lt;linkreplace &quot;...&quot;&gt;&gt;
              A s těmito slovy se ti všechno zamotalo a propadlo do tobě známé tmy za očnímy víčky. 
              
                &lt;&lt;if $padzokna is true&gt;&gt;[[Otevřít oči|Otevřít oči okno]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $padzebrik is true&gt;&gt;[[Otevřít oči|Otevřít oči žebřík]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zlomenykrk is true&gt;&gt;[[Otevřít oči|Otevřít oči balkón]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $probodanibricha is true&gt;&gt;[[Otevřít oči|Otevřít oči okno pekárna]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zlomenykrk2 is true&gt;&gt;[[Otevřít oči|Otevřít oči balkón2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $probodanirozkroku is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $prasklalebka is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zlomenyvaz is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zastrelena2 is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zastrelenadoboku is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zastrelenadoboku2 is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zastrelenavmori is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $utopenivevině is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zastrelena is true&gt;&gt;[[Otevřít Oči]]&lt;&lt;/if&gt;&gt;
              
                &lt;&lt;/linkreplace&gt;&gt;
              &lt;&lt;/linkreplace&gt;&gt;
            &lt;&lt;/linkreplace&gt;&gt;
            
            
          &lt;&lt;/linkreplace&gt;&gt;
      
        
        &lt;&lt;/linkreplace&gt;&gt;
      
      
      &lt;&lt;/linkreplace&gt;&gt;
    
    
    &lt;&lt;/linkreplace&gt;&gt;
  
  
  &lt;&lt;/linkreplace&gt;&gt;
     
     
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="232" name="Poslali mě předat zprávu" tags="korektura" position="4375,3625" size="100,100">&quot;Poslali mě, abych... abych předala tajnou zprávu!&quot; Řekneš a snažíš se působit tajemně a důležitě.
Námořník pozvedne obočí a skenuje tě pohledem. &quot;Jó?&quot; Zeptá se pak chraplavým hlasem. &quot;A komu tu zprávu jako doručuješ? He?&quot;

[[Kapitánovi]]
[[Pánovi, co vlastní hostinec]]
[[To je tajné]]</tw-passagedata><tw-passagedata pid="233" name="Postoupit až před krb" tags="korektura" position="4350,0" size="100,100">Čím víc se blížíš, tím hlouběji se propadá a destrukturalizuje prostor kolem vysoké, hubené postavy, která stojí u stolu před krbem. Oči z té snahy o pochopení, jak na ni pohlédnout, tak rozbolely, že jsi radši sklopila zrak na věc, &lt;&lt;linkreplace &quot;ležící na stole.&quot;&gt;&gt;ležící na stole.
Co to jenom je? Přistupuješ blíž. Potom se ti to konečně podařilo rozeznat a žaludek se ti rozhoupal tak, že kdyby jsi měla co, všechno bys to teď vyzvracela, jak při mořské bouři na lodi.

&lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Dívej se pozorně&quot;//
Promluví postava hlasem tisíců zlomených pil v mlze.

&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;&quot;N-né... to n-né&quot; 
Zasténáš a slzy velké jako perly se ti začnou valit po tváři.

&lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;A dívej se důkladně...&quot;//

&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;&quot;Né... já nechtěla... já... já...jsem...&quot;
Snažíš se ze sebe něco vypravit.

&lt;&lt;linkreplace &quot;, , ,&quot;&gt;&gt;//&quot;Ne, to teď doopravdy Nejsi.&quot;//
Zazní kostnatě plechová odpověď.

[[...|...smrt]]

&lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
    &lt;&lt;/linkreplace&gt;&gt;
      &lt;&lt;/linkreplace&gt;&gt;
        &lt;&lt;/linkreplace&gt;&gt;
          &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="234" name="Použít ji jako páku a shodit hromadu krabic i s klukem" tags="korektura" position="2900,1125" size="100,100">Chytla jsi tyč pevně do ruky a začala jí páčit směrem...

[[Nahoru]]
[[Dolů]]</tw-passagedata><tw-passagedata pid="235" name="Použít ji jako štít" tags="korektura" position="2550,1375" size="100,100">Pozdvihla jsi ji a držíš ji před sebou. &quot;Opovažte se přiblížit!&quot; Kluci se zastavili a evidentně čekají na rozkaz. Vycouvala jsi od krabic za sebou, tak abys měla všechny tři na dohled, a srdce ti tluče jako o závod. &quot;No koukejte na ni!&quot; zvolá kluk na krabicích naoko veselým tónem. &quot;Ze špindíry se stal nebojácný rytíř!&quot; Kluci na cestě se zachechtali, pak je ale ten nahoře rázem utnul: &quot;Dost! Tak už ji chyťte, co tam stojíte!&quot; 
Kluci se rázem přestali smát a vyrazili proti tobě...

[[Rozmáchnout se krabicí proti nim]]
[[Hodit jim ji do obličeje a utíkat...]]</tw-passagedata><tw-passagedata pid="236" name="Pověsit se za něj páčení" tags="korektura" position="3850,2025" size="100,100">Chytla jsi ho a plnou vahou se na něj pověsila. Řetěz zařinčel a spadl ti přímo na hlavu. Vyjekla jsi bolestí, před očima se ti roztančily hvězdičky a v zápětí ses sesunula k zemi. Ještě pěknou chvíli tam ležíš a držíš se za hlavu, kde ti natéká pořádná boule.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Pak se malátně postavíš a snažíš se to rozdýchat. Zamířila jsi nazpět ke dveřím.
Přistoupilas ke klice a protáhla ji větším okem na jedné straně řetězu, které na to akorát tak pasovalo. Co dál?

[[Vzít řetěz na druhém konci do ruky a s rozběhem trhnout]]
[[Přivázat na druhý konec těžký trámek, kterým hodit]]</tw-passagedata><tw-passagedata pid="237" name="Pověsit ze za něj" tags="korektura" position="4625,1325" size="100,100">Chytla jsi ho a plnou vahou se na něj pověsila. Řetěz zařinčel a spadl ti přímo na hlavu. Vyjekla jsi bolestí, před očima se ti roztančily hvězdičky a v zápětí ses sesunula k zemi. Ještě pěknou chvíli tam ležíš a držíš se za hlavu, kde ti natéká pořádná boule.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Pak se malátně postavíš a snažíš se to rozdýchat. //No nic... //Je čas rozbít okno... jak ale na to?

[[Švihnout s ním do okna jako bičem]]
[[Roztočit se a pak řetěz pustit|Roztočit se a pak řetěz pustit (otřes)]]</tw-passagedata><tw-passagedata pid="238" name="Pozorovat moře" tags="" position="625,375" size="100,100">Zaposloucháš se do zvuků vlnek dorážejících na stěny loďky. Pozoruješ, jak se na obloze ženou mraky... Chvilku přemýšlíš na tím, zda se na obzoru moře nepřelévá do nebe a jestli potom mraky nejsou mořská pěna... A když prší, tak moře padá zpátky do toho zemského moře... To je jasný jak facka! 
Pak se nakloníš přes okraj loďky a zadíváš se na sotva zřetelné dno pokryté řasami.

[[Mluvit s tátou]]
&lt;&lt;if $lodka eq 1&gt;&gt;
[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $udička eq 1&gt;&gt; [[Lovit ryby]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $pozorovatmore = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="239" name="Počkat na moment, kdy bude závěs odhrnovat na stranu a vyběhnout z druhé strany" tags="korektura" position="3900,150" size="100,100">Dle hlasitosti kroků je teď přímo před závěsem. Vidíš, jak se závěsy po tvé levici zkrabatily jeho stiskem... Je čas!

[[Vyskočit napravo]]
[[Vyskočit nalevo]]</tw-passagedata><tw-passagedata pid="240" name="Počkat, až budou u tebe a rozmáchnout se s ní" tags="korektura" position="2825,1400" size="100,100">Kluci se k tobě blíží jako dva zuřiví berani. Sklonila jsi krabici do úrovně pasu. Stoupla sis bokem do postoje připraveného k úderu, rozkymácela ji ze strany na stranu a nohy se ti trochu klepou. Ještě chvíli... á... &lt;&lt;linkreplace &quot;teď!&quot;&gt;&gt;teď!
Vší silou, kterou jsi jen byla schopna vyvinout, ses rozmáchla krabicí jako kladivem.
 *PRÁSK!* Krabice se velice přesně trefila prvnímu klukovi přímo do tváře. Ten se ihned po zádech skácel k zemi a nevypadá, že by ještě byl čehokoliv schopen. Nárazem o jeho tvář však krabice svůj let velice zpomalila a vychýlila směr, takže druhému klukovi narazila jen do nohy. Stačilo to na to, aby sebou hodil o zem tobě k nohám, ale vzápětí mu vylítla ruka a rozzuřeně po tobě chňapl.

[[Uskočit]]
[[Kopnout ho do tváře]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="241" name="Počkat, než odejde" tags="korektura" position="3550,1175" size="100,100">//Né... od té už nechci na svou adresu slyšet ani slůvko!// Rozhodneš se a tiše nasloucháš momentu jejího odchodu. Ta se k tomu ale ještě pořád nemá! 
&quot;A vidíte moje drahá, ještě bych málem zapoměla na šest koblih pro synáčka!&quot;
Chvíli tam ještě čekáš a pak se naštvaně odhodláš, že už se nemá smysl déle zdržovat &lt;&lt;linkreplace &quot;a vyrazíš!&quot;&gt;&gt;a vyrazíš!
V ten samý okamžik se ale znovu s vrzáním otevřou dveře a kuchař vejde nazpět do kuchyně. //Do háje!// Zpanikaříš a rychle sebou mrskneš k pytlům s moukou, ležícím v rohu nalevo od okna. Vplazíš se za ně a tiše oddechuješ. //Bába jedna!// Škvírou mezi pytly sleduješ dění.
Pekař se ještě pěknou chvíli motá kolem okna a ty jen tiše vyčkáváš na další příležitost...

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;
[[Vyčkávát]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="242" name="Počkat, než tudy někdo projde." tags="korektura" position="3150,1025" size="100,100">Rozumnější určitě bude chvíli počkat. Pekaři zpoza pultu vychází co chvilku. 
A opravdu! Netrvalo to ani deset vteřin a už se dvířka otevřela. Vyšel tudy obtloustlý pekař&lt;&lt;if $patro eq 1&gt;&gt; s plnou náručí chlebů.&lt;&lt;/if&gt;&gt;&lt;&lt;if $patro eq 0&gt;&gt;, který nese další plnou náruč chlebů.&lt;&lt;/if&gt;&gt; Využila jsi příležitosti a šup dovnitř! Jen to za tebou hlasitě zavrzalo. Teď jsi schovaná pod vnitřním okrajem pultu. Co dál?

[[Setrvat pod pultem a porozhlédnout se.]] 
[[Vyrazit rovnou k oknu]]</tw-passagedata><tw-passagedata pid="243" name="Počkáš, než projede" tags="korektura" position="2075,325" size="100,100">...zprudka zabrzdíš. Vůz se kymácí ze strany na stranua a je div, že ještě drží pohromadě.
Ne však na dlouho... Zadní kolo právě kodrcavě přeskočilo přes kámen, ležící na cestě 
a když dopadlo zpět na dlažbu, ozvalo se hlasité *RUP!*
Bočním stěnám pod náporem hnoje v jednu chvíli uletěly petlice, kterými držel vůz pohromadě a celá ta smradlavá kupa se vyvalila na dlažbu ulice.
Uskočila jsi kousek nazpět. //To bylo celkem těsný...// pomyslíš si, když hromadu míjíš širokým obloukem. //Zajímalo by mě, co bych dělala, kdybych pod ten vůz doopravdy vklouzla...//
//Nu, není času nazbyt.// A [[znovu se rozběhneš ulicí za zlodějem.]]</tw-passagedata><tw-passagedata pid="244" name="Pravidla" tags="korektura" position="1550,150" size="100,100">Ještě než budeš pokračovat v příběhu, věz, že zloděj je hbitý a uniká rychle dál a dál. Pokud tak budeš během jeho stíhání volit špatné cesty a dělat špatná rozhodnutí, budou ti přidělovány 
//Body zpomalení.// Pokud nasbíráš 3 body zpomalení, zloděj ti unikne a budeš s tím muset nadále žít. Nevěš však hlavu! 
Za opravdu dobrá rozhodnutí, lze získat i //Body dostihu.// Bod dostihu ti vymaže bod zpomalení a pokud žádný bod zpomalení zrovna nemáš, jdeš s body do plusu a to určitě nebude na škodu! 
Otázkou však zůstává... Co je rozhodnutí správné a odvážné, a co už nedomyšleně zbrklé...?

[[Jdu do toho!|Jdu do toho Okno]]</tw-passagedata><tw-passagedata pid="245" name="Pravidla 2" tags="korektura" position="1550,0" size="100,100">Ještě než budeš pokračovat v příběhu, věz, že zloděj je hbitý a uniká rychle dál a dál. Pokud tak budeš během jeho stíhání volit špatné cesty a dělat špatná rozhodnutí, budou ti přidělovány 
//Body zpomalení.// Pokud nasbíráš 3 body zpomalení, zloděj ti unikne a budeš s tím muset nadále žít. Nevěš však hlavu! 
Za opravdu dobrá rozhodnutí, lze získat i //Body dostihu.// Bod dostihu ti vymaže bod zpomalení a pokud žádný bod zpomalení zrovna nemáš, jdeš s body do plusu a to určitě nebude na škodu! 
Otázkou však zůstává... Co je rozhodnutí správné a odvážné, a co už nedomyšleně zbrklé...?

[[Jdu do toho!|Jdu do toho Dveře]]</tw-passagedata><tw-passagedata pid="246" name="Prkno" tags="korektura" position="3125,4750" size="100,100">Zdvihla jsi po cestě ze země prkno a došla s ním ke dveřím kadibudky... Srdce ti tluče jako o závod a přemýšlíš teď jednak nad tím, jestli neděláš úplnou kravinu a druhak, jak na něj v tuto chvíli správně zaútočit?

[[Jak se otevřou dveře s rozmachem ho praštit do čela]]
[[Schovat se za stěnu kadibudky a jak zloděj vyleze, trefit ho prknem do zátylku]]


&lt;&lt;set $strelena to false&gt;&gt;</tw-passagedata><tw-passagedata pid="247" name="Prkno plot" tags="" position="5600,3875" size="100,100">Klekla sis k prknu, které od plotu lehce odstává. Rozhlédla ses, jestli tě někdo nepozoruje a když to vypadá, že o tobě nikdo neví, strčila jsi do mezery prsty a začala prkno páčit k sobě. Je mnohem nepoddajnější, než by si bývala řekla... Sedla sis a začala se od plotu odtláčet nohama. V prknu to začíná praskat a díra se zvětšuje. &quot;No-tak-pojď!&quot; supíš a v obličeji už jsi celá rudá. Potom se však ozvalo hlasité *RUP!* a prkno se vylomilo. Stihla jsi ho tak tak zbrzdit, aby neudělalo ještě větší rámus, než doposud a opřela je o plot. Díra je tak akorát velká, aby ses do ní vsoukala a tak jsi nemarnila ani chvýli a [[protáhla se tudy...]]</tw-passagedata><tw-passagedata pid="248" name="Proběhnout kolem ní a plácnout ji po zadku" tags="korektura" position="2175,1575" size="100,100">Probíháš kolem ní a s rozmachem jí plácneš po zadku, až se jí zavlnila sukně.
Žena vykřikla a otočila se akorát v okamžik, kdy k ní přiběhl kluk. Ta mu hned zastoupila cestu a vlepila mu pohlavek, až to plesklo. &quot;Co si o sobě myslíš, ty hulváte?!&quot;
Zahihňáš se a &lt;&lt;linkreplace &quot;dál utíkáš.&quot;&gt;&gt;dál utíkáš.
Právě kolem tebe z levé strany projíždí vůz naložený senem. Vpředu na něm sedí fousatý farmář a znuděně drží otěže staré muly, která vůz táhne.

[[Poprosit ho, aby tě svezl]]
[[Prostě na vůz skočit|Prostě na vůz skočit náskok]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="249" name="Procpat se" tags="korektura" position="2975,275" size="100,100">Doběhla jsi až ke vchodu a vtiskla se do tlačenice, která ve dveřích zrovna vznikla. Snažíš se teď právě procpat škvírou mezi zády starého pána a břichem obtloustlé hospodyňky. Už tam skoro jsi, &lt;&lt;linkreplace &quot;když tu!&quot;&gt;&gt;když tu!
Za límec tě chňapla hospodynčina tučná ruka a vytáhla tě nazpět před pekárnu. Rozkročila se před tebou, dala ruce v bok a začala hulákat, až se na vás obrátily zraky všech přítomných. &quot;Co si to dovoluješ ty malej spratku! Víš ty, co je to slušný vychování?!&quot; 
Tebe to však jen namíchlo. Rozhodně teď nemáš čas ani náladu se s ní vybavovat a proto...

[[Jí proklouzneš pod sukní...]]
[[Se prosmykneš kolem ní...]]

&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="250" name="Procpat se rychle k baru 5 nasr." tags="korektura" position="5300,4250" size="100,100">Rychle jsi se procpala k baru. Srdce ti buší a víš, že máš jen chvíli, než tě uvidí.

[[Schovat se pod nejbližší stůl u baru]]
[[Rozběhnout se kolem baru dál do zadní části lokálu]]</tw-passagedata><tw-passagedata pid="251" name="Prohledat odpadky" tags="korektura" position="3450,3375" size="100,100">&quot;Fůů...&quot; Oddechuješ... //To bylo pěkně nepříjemný.//
Teď si teprv začínáš uvědomovat a prohlížet, kde jsi se to vlastně schovala. Mezi starými krabicemi se povalují slupky od brambor, rybí hlavy, plesnivé hroudy čehosi, co dříve nejspíš bývaly jablka, pak jedna hnijící dýně... Á dýně! 
A už si to s ní pochoduješ nazpět. Zkontrolovala si, že tě prodejce nevidí a hodila jsi ji na zem tak dva metry před prase. To k ní okamžitě vyrazilo. Bylo to rychlejší, než jsi čekala a během chvilky, už jsi proklouzla vzniklým průchodem [[ven z trhu.|bránou ven z trhu.]]</tw-passagedata><tw-passagedata pid="252" name="Prohlédnout si břeh" tags="" position="375,175" size="100,100">Nacházíte se zhruba pět set metrů od přístavu. Za přístavem začínají do kopce domky. 
Čím dál a výš od přístavu, tím víc se domky rozrůstají, přibývají patrové domy, stodoly, až se na vyvýšeném místě nad přístavem rozlévá přímořské městečko se spoustou věžiček. Domy svítí zářivě bílými, vápnem obílenými stěnami, zdobenými mušlemi. Ty sice odtud nejsou vidět, ale ty víš, že tam jsou, protože tohle město je tvůj domov. Napravo od přístavu se táhne řada rybářských chýší. Kousek dál už začíná volná příroda tvořená převážně nízkými keříky, jehličnatými stromky a hlavně bílými skalisky, nahřátými od slunce.

[[Mluvit s tátou]]
&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $more eq 1&gt;&gt;[[Pozorovat moře]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $more eq 0&gt;&gt;[[Pozorovat moře|more]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $breh = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="253" name="Prohrabat se v kupě odpadků" tags="korektura" position="2925,3250" size="100,100">Přiběhla jsi ke kupě zavánějících odpadků. Mezi starými krabicemi se povalují slupky od brambor, rybí hlavy, plesnivé hroudy čehosi, co dříve nejspíš bývaly jablka, pak jedna hnijící dýně... Á dýně! 
A už si to s ní pochoduješ nazpět. Hodila jsi ji na zem tak dva metry před prase a to k ní okamžitě vyrazilo. Bylo to rychlejší, než jsi čekala a během chvilky, už jsi proklouzla vzniklým průchodem [[ven z trhu.|bránou ven z trhu.]]</tw-passagedata><tw-passagedata pid="254" name="Projít se mezi stolky" tags="korektura" position="4700,4500" size="100,100">//Někde by tu přeci jen mohl sedět...// Říkáš si a nenápadně se proplétáš mezi stoly a opilci. Občas schytáš nějaký ten zvláštní pohled, ale snažíš si jich nevšímat. Po nějaké chvíli prozkoumávání lokálu jsi však musela naznat, že tady zloděj asi nebude...
&lt;&lt;if $zpomaleni lte 4&gt;&gt;
Sice už jsi část, kdy tě body zpomalení mohou z této linie příbehu vyautovat překonala, ještě stále však hrají roli... takže tedy:

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

[[Jít dveřmi v zadní části lokálu]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5&gt;&gt;

[[Jít dveřmi v zadní části lokálu]]

&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="255" name="Projít se mezi stolky 2" tags="korektura" position="5275,4525" size="100,100">//Někde by tu přeci jen mohl sedět...// Říkáš si a nenápadně se proplétáš mezi stoly a opilci. Občas schytáš nějaký ten zvláštní pohled, ale snažíš se je nevnímat. Po nějaké chvíli prozkoumávání lokálu jsi však musela naznat, že tady zloděj asi nebude...

[[Jít dveřmi v zadní části lokálu|Jít dveřmi v zadní části lokálu nenasr]]</tw-passagedata><tw-passagedata pid="256" name="Projít se mezi stánky" tags="korektura Posrala-to" position="3250,2025" size="100,100">Vydala ses mezi stánky vedena jen intuicí, kudy by tak asi mohl jít. Míjíš stánek s pletenými košíky, kde sedí babička a právě z proutí plete objemný koš. Několikrát ses vyhnula početnému davu lidí a vzala to kolem stánku s malou kovárnou. Od stropu stánku vysí spousta podkov, na pultu je několik krabic s hřebíky a mladý statný kovář právě usilovně buší do kusu rozžhaveného železa na malé přenosné kovadlině s výhní, až kolem lítají jiskřičky. Ještě chvíli bezcílně bloumáš po okolí a potom musíš uznat, že takhle to bohužel asi nepůjde... a tak ses otočila na patě a &lt;&lt;linkreplace &quot;vracíš se zpátky&quot;&gt;&gt;vracíš se zpátky.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi už udělala příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]&lt;&lt;set $konecmezistanky to true&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 5&gt;&gt;Stojíš teď zpátky tam, kde jsi byla...
&lt;&lt;if $zeptatsepani is true&gt;&gt;Laskavé paní prodavačky na stánku ses už ptala... takže zbývá jen jediné...&lt;&lt;/if&gt;&gt;

[[Jít doprostřed ke kašně]]
&lt;&lt;if $zeptatsepani is false&gt;&gt;[[Zeptat se paní v nejbližším stánku]]&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $projitsemezistanky to true&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="257" name="Projít tunelem ke dveřím" tags="korektura" position="3975,0" size="100,100">Tunel je široký a každý krok se v něm hlasitě rozléhá, jako ozvěna tlukotu &lt;&lt;linkreplace &quot;srdce. . .&quot;&gt;&gt;- - -
Čím víc se blížíš dveřím, tím znatelněji se tunel zmenšuje. Ke konci už se musíš vysloveně plazit. 
Když jsi se dotala až ke dveřím a dotkla se jich, otevřely se s tak ohlušujícím tichem, že se ti na okamžik až zkroutily &lt;&lt;linkreplace &quot;končetiny&quot;&gt;&gt;končetiny...
Končetiny! Koukla jsi se na své ruce. Jsou průhledné, ale né tolik co... m i n u l e ?
Chvíli si je se zájmem prohlížíš. Potom tě zaujalo, co se to děje, když přes sebe napnuté prst obou rukou přeložíš křížem... Ve vzniklých mezerách, mezi zkříženými prsty... jakoby skrz vitráž, lze vidět, jakousi [[místnost...]]

&lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="258" name="Prolézt pod pultem až ke stěně" tags="korektura" position="3225,1525" size="100,100">Začneš se rychle plížit ke zdi. Pekař se mezitím otočil a velice vulgárně zaklel.
Sehnul se a začal sbírat střepy. Zrak mu sklouzl až pod pult, kde jsi se ještě před okamžikem choulila. Měl totiž pocit, že tam něco viděl, ale asi se mu to jen zdálo. Teď je tvoje příležitost!

[[Vyrazit k oknu]]</tw-passagedata><tw-passagedata pid="259" name="Proplížit se ke dveřím" tags="korektura" position="4450,4525" size="100,100">Svižně se proplétáš mezi stoly a ožralými námořníky, směrem ke dveřím.
Ještě okamžik slalomu a už před nimi stojíš.

[[Nejprve nakouknout|Nejprve nakouknout nasr]]
[[Rovnou vejít|Rovnou vejít nasr]]</tw-passagedata><tw-passagedata pid="260" name="Prostě na vůz skočit" tags="korektura Posrala-to" position="2400,1700" size="100,100">Kluk už ti takřka dýchá za krk. Doběhla jsi k vozu a skočila na něj. Farmář se na tebe vyjeveně podívá a rázně řekne: &quot;Ani se nezeptáš a rovnou mi skáčeš na vůz? Tomu říkáš vychování?&quot;
Chceš mu zrovna odpovědět, když tu tě kluk doběhl a chytil tě za nohu. Zapištěla jsi, svezla se z vozu a bolestivě sebou plácla na dlažbu. 

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&quot;Ták, ty malá špindíro!&quot; Slyšíš za zády. &quot;Teď ti dám co proto!&quot;
V tu chvíli se ozvalo hlasité &quot;Prrrrr!&quot; a vůz zastavil. Seskočil z něj farmář s bičem v ruce a rozběhl se k vám. &quot;Koukáš ji pustit, kluku jeden!&quot; křičí na něj a vzduchem práskne bič.
Cítíš, jak tě násilník pustil a dal se na útěk. Farmář k tobě přispěchal a starostlivě ti pomohl na nohy. „Jsi v pořádku, dítě? Neublížil ti?“
&lt;&lt;if $zpomaleni lte 5&gt;&gt;&quot;Jsem celkem v pořádku, moc děkuju,&quot; odvětíš mu lehce otřeseně, ale plná vděčnosti.&quot; Farmář pokýve hlavou. &quot;Ten holomek mi je důvěrně známej. Občas mi na poli krade zelí. No... chceš svízt na trh?&quot;
&quot;To byste byl moc hodný,&quot; odpovíš mu a už si sedáte zpátky na vůz a [[jedete na tržiště.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;&quot;Jsem celkem v pořádku, moc děkuju,&quot; odvětíš mu lehce otřeseně, ale plná vděčnosti. Bohužel jsi však udělala už příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]

&lt;&lt;set $konecvuz3 to true&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="261" name="Prostě na vůz skočit náskok" tags="korektura" position="2150,1700" size="100,100">Doběhla jsi k vozu a skočila na něj. Farmář se na tebe vyjeveně podíval a rázně řekne: &quot;Ani se nezeptáš a rovnou mi skáčeš na vůz? Tomu říkáš vychování?&quot;

[[Říct mu o tom, že jsi pronásledovaná]]
[[Dát mu něco, aby tě svezl]]</tw-passagedata><tw-passagedata pid="262" name="Prostě odejít" tags="korektura" position="3450,2450" size="100,100">Beze slova se otočíš a znovu spěšně pokračuješ k fontáně. &quot;V pohodě. Ani ti nestojím za řeč ty malá nevychovaná holko! Však já se tu třeba sama strhám!&quot; Slyšíš ještě, jak za tebou nahněvaně volá. To už jsi konečně dospěla až k srdci celé tržnice. Fontána má dvě patra mušlemi zdobených cylindrů, po kterých tiše zurčí a stéká voda, která hází do okolí mihotavé odlesky. U jejího úpatí sedí na kruhovém bílém schodku starý bezdomovec s otrhaným černým psem a škrábe se špinavým nehtem mezi nažloutlými zuby. 

[[Vylézt na fontánu a rozhlédnout se]]
[[Zeptat se bezdomovce]]</tw-passagedata><tw-passagedata pid="263" name="Protože mně se dnes spalo ..." tags="" position="300,625" size="100,100">&quot;No protože mně se dnes spalo...&quot; 
[[Zalhat a říct, že se ti spalo taky špatně]]
[[Říct popravdě, že si dnes spala jak do vody hozená]]</tw-passagedata><tw-passagedata pid="264" name="Protože mě zajímá, jestli naši předci taky lovili ryby" tags="" position="425,750" size="100,100">&quot;Protože mě zajímá, jestli naši předci taky lovili ryby.&quot;
Táta se poškrábe pod čepicí. &quot;No... vlastně toho o našich předcích moc nevím... Moji rodiče taky lovili ryby. Ale vlastně...&quot; Zahledí se kamsi do prázdna a přemítá.
&quot;...Vlastně co si tak vzpomínám, tak můj dědeček sem kdysi dávno připlul jako kupec z cizích krajin, a pak už si tu našel babičku a usadil se... Ale odkud připlul, to opravdu nevím.&quot;

[[A dělal jsi ještě něco někdy ještě něco jiného, kromě lovení ryb?]]</tw-passagedata><tw-passagedata pid="265" name="Protože, mě zajímá, jestli jsi někdy dělal i nějakou jinou práci" tags="" position="450,1050" size="100,100">&quot;No... protože mě zajímalo, jestli jsi ještě někdy dělal nějakou jinou práci, kromě rybaření,&quot; řekneš a upřeš na něho zvědavý pohled.
Táta se podrbal ve vousu. &quot;Hmm... vlastně ano dělal. Dřív jsem taky maloval a občas i nějaký obrázek prodal, ale to se nedá úplně počítat, jako práce,&quot; řekne a pousměje se nad tou vzpomínkou. &quot;A pak jsem ještě občas pomáhal vykládat náklad z kupeckých lodí.&quot;
Informace o tom, že tvůj táta kdysi kreslil, tě vyloženě překvapila a snažíš si teď představit, jak by vypadal s velkým slamákem a malířským stojanem někde na nábřeží, a jak maluje racky a západy slunce s loďemi na moři.
Vtipná představa...

[[Máš ještě nějaké obrázky schované?]]
[[Maluješ ještě občas?]]

&lt;&lt;set $malovani = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="266" name="Provazem dolů" tags="korektura" position="1825,200" size="100,100">//Není času nazbyt!// Představíš si, jak v kapitánské uniformě odvážně slaňuješ z výšin lanoví dolů na palubu... Šup! A jsi dole nohama pevně na zemi! Sice máš trochu spálené ruce od provazu, ale bylo to rychlé a dost jsi tím nahnala čas.

__//+1 bod dostihu//__

[[Pokračuješ v pronásledování.]]</tw-passagedata><tw-passagedata pid="267" name="Prozkoumat loďku" tags="" position="850,125" size="100,100">Loďka by se dospělému člověku zdála dost malá. Pro tebe je však skoro jako ty obchodní lodě, co občas připlouvají do přístavu [[Ponořit se do vzpomínek]]
Jsou tu dvě dřevěná prkna k sezení, pár košíků na ryby, hromada sítí, vousatý otec a na zemi... Jé! 
Tvá  udička, kterou ti táta kdysi vyrobil. Necháš pádlo pádlem a už udičku svíráš v ruce.

__//Získala jsi udičku//__

&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $more eq 1&gt;&gt;[[Pozorovat moře]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $more eq 0&gt;&gt;[[Pozorovat moře|more]]&lt;&lt;/if&gt;&gt;
[[Mluvit s tátou]]


&lt;&lt;set $udička = 1&gt;&gt; 
&lt;&lt;set $lodka = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="268" name="Prásknout po hlavě kluka na zemi a rozběhnout se ulicí dolů" tags="korektura" position="2875,1650" size="100,100">Pozdvihla jsi krabici a udeřila kluka na zemi, který se už zrovna chystal vstát, po hlavě. Ozvalo se už druhé prásknutí, krabice se o jeho hlavu rozpadla na kusy a kluk se skácel zpátky na zem. Rychle ses ohlédla a zjistila, že je ten černovlasý kluk pár kroků od tebe a chystá se vystartovat.
Teď už nezbývá, než [[běžet!]]</tw-passagedata><tw-passagedata pid="269" name="Pustit krabici a rozěbhnout se dolů bez dalšího násilí" tags="korektura" position="2625,1650" size="100,100">Krabice dopadla na dlažbu. //Néé, už toho bylo dost,// usoudíš a rozběhneš se kolem kluka ležícího na zemi. To však byla velká chyba... Jeho ruka už tentokrát byla dostatečně rychlá a mířila přesně. Pevným stiskem ti sevřela nohu a tys sebou hodila o zem, až ti ze rtu začala téct krev. &quot;Ták, ty malá kryso!&quot; slyšíš teď nad sebou.

[[Dostali tě.]]</tw-passagedata><tw-passagedata pid="270" name="Pánovi, co vlastní hostinec" tags="korektura" position="4500,3750" size="100,100">&quot;Víte... já tu zprávu musím doručit pánovi, co vlastní tento hostinec.&quot;  Řekneš naléhavě. Námořník se poškrabe ve svém strništi. &quot;Jó? A jak se ten týpek teda menuje?&quot; Zeptá se útočně. Na tuto otázku jsi však byla připravena a pohotově odpověděla, že se je to pan Frederik. Zrovna toto víš, protože je to tátův kamarád.
Námořník pootevřel pusu a pro změnu se poškrábal na hlavě. &quot;Nó... tak... tak běž nó...&quot; A trochu pomateně ti pokyne ke dveřím. &quot;Díky.&quot; Usměješ se na něj a [[rychle vklouzneš dveřmi dovnitř.|rychle vklouzla dovnitř!]]

&lt;&lt;set $namornikovazprava to false&gt;&gt; 
&lt;&lt;set $dalsitabulkavole to false&gt;&gt;</tw-passagedata><tw-passagedata pid="271" name="Páčit ji doleva" tags="korektura" position="4200,2250" size="100,100">Z plna jsi na ni zatlačila od sebe. Sice to je správný směr ale bohužel, jelikož nebyla dostatečně hluboko, vylomila se a spolu s pár třískami ti zůstala v ruce...

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

//Sakra!// Vrazila si ji nazpět do škvíry a teď už se jí rozhodla [[zatlouct něčím hlouběji|Zatlouct jí něčím hlouběji]]</tw-passagedata><tw-passagedata pid="272" name="Páčit ji doprava" tags="korektura" position="3850,2425" size="100,100">&lt;&lt;if $nastudovanidveri is false&gt;&gt;Kdybys dveře před tím podrobněji neprostudovala, shledala bys, že se otevírají dovnitř a tím pádem už chvíli zbytečně páčíš na opačnou stranu... Teď se ještě kvůli tomu, že si nezatloukla naběračku hlouběji, ze škvíry vylomila a spolu s pár třískami ti zůstala v ruce.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;
&lt;&lt;set $dutahlava to true&gt;&gt;
//Sakra!// Vrazila si ji nazpět do škvíry a teď už se jí rozhodla [[zatlouct něčím hlouběji|Zatlouct jí něčím hlouběji]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $nastudovanidveri is true&gt;&gt;Přesto, že jsi dveře podrobněji prostudovala, evidentně ti nedocvaklo, že když se otevírají dovnitř, nemá smysl páčít na opačnou stranu... Teď se ještě kvůli tomu, že si nezatloukla naběračku hlouběji, ze škvíry vylomila a spolu s několika třískami ti zůstala v ruce.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;
&lt;&lt;set $dutahlava to true&gt;&gt;
//Sakra!// Vrazilas ji zpět do škvíry a teď už se jí rozhodla [[zatlouct něčím hlouběji|Zatlouct jí něčím hlouběji]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="273" name="Přeběhnout a schovat se za pytle s moukou" tags="korektura" position="4300,1250" size="100,100">Rychle jsi přeběhla k pytlům s moukou a skočila za ně. V zápětí slyšíš, jak se do nůše vysypala celá hromada bochníků. //Díky bohu, že tam teď nejsem...// pomyslíš si.
Pak se ozvalo zaplácání, jak si pekař očistil ruce od mouky, potom už se otočil a je slyšet, jak zase schází dolů po schodech. //Uf...//
Přelezla jsi přes pytle nazpět do místnosti. Co teď? 

[[Zkusit dveře něčím vypáčit]]
[[Zkusit něčím rozbít okno]]</tw-passagedata><tw-passagedata pid="274" name="Přeběhnout a schovat se za závěs" tags="korektura" position="4300,1125" size="100,100">Rychle jsi přeběhla k shrnutému závěsu a schovala se za něj. V zápětí slyšíš, jak se do nůše vysypala celá hromada bochníků. //Díky bohu, že tam teď nejsem...// pomyslíš si a jsi ráda, že jsi schovaná tam, kde jsi. Pak se ozvalo zaplácání, jak si pekař očistil ruce od mouky, potom už se otočil a je slyšet, jak zase schází dolů po schodech. //Uf...//
Co teď? 

[[Zkusit dveře něčím vypáčit]]
[[Zkusit něčím rozbít okno]]</tw-passagedata><tw-passagedata pid="275" name="Přelézt přes plot" tags="korektura" position="5500,3750" size="100,100">Došla jsi k plotu a pozorně ho zkoumáš pohledem. Je vysoký zhruba něco přes dva metry a desky, ze kterých je vyroben jsou už dosti staré a prorostlé solí z moře. Není tu však nic po čem vylézt... Potom sis však všimla, že na zdi taverny je jen kousíček od plotu přidělaný okap. Přišla jsi k němu a všimla si i toho, že je jedno prkno malinko uvolněné a kdyby jsi za něj zabrala... možná by se dalo vylomit a dírou prolézt...

[[Okap]]
[[Prkno|Prkno plot]]</tw-passagedata><tw-passagedata pid="276" name="Přeskočila na dřevěné zábradlí balkónu" tags="korektura Opět-naživu Změna-hudby" position="4925,825" size="100,100">Přeskočila &lt;&lt;if $zlomenykrk is true&gt;&gt;jsi&lt;&lt;/if&gt;&gt; na dřevěné zábradlí. Zevnitř na tebe kdosi zařval. &quot;Hej! Co tam děláš?!&quot; 
Ohlédneš se a skrz okno uvidíš uprostřed místnosti rozlíceného kuchaře. Srdce se ti šíleně rozbuší. Otočíš se nazpět a zaostříš na terasu pod sebou. K tvému obřímu štěstí hned zprava pod balkónem stojí velký sud s dešťovou vodou. Je to sice celkem výška, ale ty už pěkně dlouho skáčeš do moře z útesů, takže to pro tebe není žádná velká výzva. Nadechneš se - nohy se ti přeci jen malinko třesou - [[a skočíš]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="277" name="Přeskočit na dřevěné zábradlí balkónu" tags="korektura Změna-hudby Opět-naživu" position="5100,1025" size="100,100">Přeskočila jsi na dřevěné zábradlí. Pekař se k tobě rozběhl a tobě se srdce rozbušilo v šíleném rytmu. Otočíš se nazpět a všechno se jakoby zpomalí. Zaostříš na terasu pod sebou. K tvému obřímu štěstí hned zprava pod balkónem stojí velký sud s dešťovou vodou. Je to sice celkem výška, ale ty už pěkně dlouho skáčeš do moře z útesů, takže to pro tebe není žádná velká výzva. Nadechneš se - nohy se ti přeci jen malinko třesou - [[a skočíš]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="278" name="Přeskočit pytle a běžet ke schodišti" tags="korektura" position="4425,550" size="100,100">Plná kuráže jsi vyběhla, přeskočila pytle a běda... pekař má široké a dlouhé ruce, které hned roztáhl jako síť a zavrčel: &quot;Mně neutečeš!&quot; 
Je od tebe sotva tři metry a s dalším krokem už na tebe dosáhne! 

[[Zakřičet a ukázat na něco za jeho zády]]
[[Rozběhnout se a podklouznout mu pod nohama]]</tw-passagedata><tw-passagedata pid="279" name="Přidat do sbírky a pokračovat v příběhu." tags="korektura Změna-hudby" position="4375,1900" size="100,100">Ozvalo se hlasité *ŠPLOUCH!* a do vzduchu vyletěl gejzír vody. S prskáním ses vyškrábala ze sudu, oklepala se a seskočila na dřevěnou podlahu terasy. Když ses ohlédla, vidíš, jak na tebe přes prosklené dveře krámu všichni vyjeveně hledí. Tlustá hospodyňka zbrunátněla v obličeji a přiběhla ke dveřím. Začala jimi cloumat, ty jsou však - jak už dobře víš - zamčené, takže jsi se na ni jen škodolibě zaculila a &lt;&lt;linkreplace &quot;vyplázla na ni jazyk&quot;&gt;&gt;vyplázla na ni jazyk.
Slyšíš, jak na tebe přes sklo tlumeně huláká: &quot;Co tam dělá ten nevychovanej spratek?! Okamžitě někdo otevřete ty dveře!&quot; Otočila ses na patě a vydala se k zábradlí. Na podlahu z tebe kape voda a necháváš za sebou mokré ťapky. Však on tě vítr za chvíli usuší. &lt;&lt;if $klicepekarna is true&gt;&gt;Kličkuješ mezi stolečky a směješ se tomu, jak se za dveřmi hospodyňka hlasitě vzteká. &quot;Kde je klíč?! Kdo tady má klíče od dveří?!&quot; Se zadostiučiněním vytáhneš z kapsy svazek klíčů a zamáváš jím. Žena to málem nezvládla a rozkřičela se tak, až se k ní pohoršeně rozběhly prodavačky a začaly ji vyvádět ven z obchodu. &quot;Jak jen můžete! Nechte mě! Ta malá mrcha si tam tak klidně chodí...&quot; Její hlas pomalu zaniká. S úšklebkem svazek zase rychle schováš do kapsy a konečně se dostaneš až k velkému zábradlí lemujícímu okraj terasy. Naklonila ses přes ně &lt;&lt;if $zpomaleni lte 3&gt;&gt;a málem sletěla, když jsi uviděla, jak dole přímo pod tebou zrovna proběhl zloděj a peláší dál dolů na tržiště. //Však počkej!// zamračíš se. 
Zahleděla ses dolů na [[možnosti sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4&gt;&gt;a málem sletěla, když jsi zpozorovala, jak ti ulicí dolů mizí postava zloděje prchajícího směrem na tržiště. //Však počkej!// zamračíš se. 
Zahleděla ses dolů na [[možnosti sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 5&gt;&gt;a zahleděla se dolů na [[možnosti sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $klicepekarna is false&gt;&gt;Kličkuješ mezi stolečky a směješ se tomu, jak se za dveřmi hospodyňka hlasitě vzteká. &quot;Kde je klíč?! Kdo tady má klíče od dveří?!&quot; Potom ti ale srdce spadne až do žaludku, když uslyšíš spěšné cinkání klíčů. Obrátíš se a vidíš, jak u dveří stojí pekař a strká klíč do dveří. Dveře se se cvaknutím otevřely a v tu ránu ho odstrčila bokem nepříčetná hospodyňka a rozběhla se k tobě! &quot;Pojď sem, ty malá mrcho!&quot; křičí a neúprosně se blíží. Úlekem jsi až vyskočila do vzduchu a slalomem mezi stolky pelášíš k zábradlí na okraji terasy. Vyškrábala ses na ně s rychlostí kočky pronásledované smečkou psů. Rozhlédla ses a &lt;&lt;if $zpomaleni lte 3&gt;&gt;málem sletěla, když jsi uviděla, jak dole přímo pod tebou zrovna proběhl zloděj a peláší dál dolů na tržiště. //Však počkej!// zamračíš se a rychle zkoumáš [[možnost sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4&gt;&gt;málem sletěla, když jsi zpozorovala, jak ti ulicí dolů mizí postava zloděje prchajícího směrem na tržiště. //Však počkej!// zkoumáš [[možnost sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 5&gt;&gt;hledáš  [[možnost sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;terasa&quot; &quot;music/terasa.mp3&quot;&gt;&gt;&lt;&lt;audio terasa play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="280" name="Přijdou námořníci" tags="korektura" position="5775,4300" size="100,100">Už jsi chtěla vyrazit, když tu uslyšíš, jak se dveře hostince otevřely a na dvůr někdo vyšel. Nejspíše to jsou dva námořníci a o něčem se hlasitě baví. Soudě podle toho, jak se hlasy rychle přibližují, máš jen pár vteřin na to se schovat! 

[[Schovat se do sudu|Schovat se do sudu 2]]
[[Schovat se za sudy]]</tw-passagedata><tw-passagedata pid="281" name="Přijít ke dveřím" tags="korektura" position="2700,0" size="100,100">Udělala jsi pár kroků ke dveřím a opravdu cítíš, že ty kroky děláš ty. Sice jakoby skrze clonu hmatatelné mlhy derealizace, ale jsou to kroky patřící tobě a tvému tělu... Cítíš, že máš tělo a tento fakt tě lehce zahřál... Kolem najednou chvilkově probleskla bývalá realita...

[[Jít zpět do reality]]
[[Ještě tu zůstat]]</tw-passagedata><tw-passagedata pid="282" name="Přijít s trámkem k zábradlí a hodit ho na schody" tags="korektura" position="4150,2025" size="100,100">Popadlas trámek, a dotáhla ho až k zábradlí. S heknutím jsi ho nadzvedla a opřela ho o něj. Chvilku ti balancuje v ruce a ty v hlavě zvažuješ, jestli to je vůbec dobrý nápad. Pak tuto myšlenku ale rebelsky zaženeš a &lt;&lt;linkreplace &quot;shodíš ho dolů.&quot;&gt;&gt;shodíš ho dolů.
Sotva si stihla uskočit! Řetěz se s řinčením napnul, trámek zaduněl o schody až zákazníci dole vyplašeně zaječeli a dveře se s řachnutím vylomily ze zámku a hlasitě otevřely dokořán. Ovanul tě čerstvý vzduch a cítíš mimo neskutečného návalu vzrušení i radost ze ztřeštěného dobrodružství! 
Vzápětí se ozval dusot nohou po schodišti nahoru. //Sakra, rychle!// Prolétne ti hlavou a vyběhneš na balkón. Jak se ale teď dostat dolů? 
Za zády slyšíš rychle se přibližující kroky. Každou chvíli už tu někdo bude! Musíš &lt;&lt;linkreplace &quot;jednat rychle!&quot;&gt;&gt;jednat rychle!
Naklonila ses přes okraj dřevěného zábradlí a koukla se na terasu. Jediná varianta, kterou vidíš je velký sud s dešťovou vodou hned vpravo pod balkónem... Je to sice celkem výška, ale ty už pěkně dlouho skáčeš do moře z útesů, takže to pro tebe není žádná velká výzva. Nadechneš se - nohy se ti přeci jen malinko třesou - [[a skočíš]]

&lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="283" name="Přikrčit se a až příjde přímo k závěsu, proklouznout mu zpod něj mezi nohama" tags="korektura" position="3900,250" size="100,100">Dle hlasitosti kroků je teď přímo před závěsem. Vidíš, jak se závěsy po tvé levici zkrabatily jeho stiskem... Je čas! Přikrčila jsi se a v ten okamžik, co závěsy se škubnutím odhrnul, jsi &lt;&lt;linkreplace &quot;skočila střemhlav v před...&quot;&gt;&gt;skočila střemhlav v před...
Přímo do jeho kolenou, protože měl nohy u sebe. Před očima se ti zatmnělo, jak jsi do nich narazila čelem hlavy a kuchař zařval, ztratil rovnováhu a oba jste se natáhli na zaprášenou podlahu. &quot;Ahh ty malá svině!&quot; Slyšíš, jak vedle tebe zaklel a namáhavě se snaží sebrat ze země, ruka se mu ale podlomila a znovu řachl na zem. Tobě už se konečně znovu zaostřilo vidění, a tak jsi: 

[[Ses rozběhla ke schodům]]
[[Chňaplas železnou naběračku a praštila ho po hlavě]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="284" name="Přikrčit se a nastavit mu tyč hrábí" tags="korektura" position="2750,2125" size="100,100">Přechytla sis hrábě a nastavila mu dřevěný konec tyče. Ten ve svém rozběhu už nedokázal zabrzdit a tyč se mu v plné rychlosti zabořila do břicha. Zařval, svalil se na zem a drží se za ně. Na nic jsi už nečekala a vyrazila bleskurychle:

[[Zpátky nahoru k pekárně|Utíkat zpátky nahoru k pekárně náskok]]
[[Dolů směrem na tržiště]]</tw-passagedata><tw-passagedata pid="285" name="Připlížit se za velký sud stojící napravo od dveří" tags="korektura" position="4275,2850" size="100,100">Co nejnenápadněji jsi se doplížila k velkému sudu a zaposlouchala se. &lt;&lt;set $schovanazasudem to true&gt;&gt;
&lt;&lt;if $zpomaleni eq -1&gt;&gt;Díky tomu, že ses během dostihu ani jedinkrát nezpomalila a naopak získala všechny body dostihu, můžeš si teď vyslechnout nejdelší část rozhovoru, jakou jen lze!

„...Jó zatím šecko v klídu.“ Odpovídá právě chraplavě na nějakou otázku ten potetovaný námořník, sedící na druhém sudu. „Ale to sou ryby raky, spíš mi vyklop jeslis pochodil ty?“ Zeptal se muže v černém. Ten se tiše zasmál a hlubokým chladným hlasem mu odpověděl: „To si teda piš. Kapitán bude doopravdy nadšenej ti říkám.“ A uchechtne se. „Počkej to jako dovopravdy? Jako, žes ho fakt vyčmuchal a chmátnul?“ Ptá se s neskrývaným nadšením námořník. „Jak říkám. &lt;&lt;if $ukazalaprsten is true&gt;&gt;Sice sem se dostal do menšího křížku s týpkem, co chrápal v tom baráku, kde sem to našel, ale... však mě znáš. Žádná velká překážka. Pak po mě ještě nějakou dobu šla holka, co to předtím našla, ale rychle sem ji setřásl.“&lt;&lt;/if&gt;&gt;&lt;&lt;if $neukazalaprsten is true&gt;&gt;Sice sem u toho probudil holku, co to měla u sebe, ale rychle sem zmizel. Nějakou dobu mě pronásledovala, ale za chvilku jsem ji setřásl.“&lt;&lt;/if&gt;&gt; Potajmu se ušklíbneš&lt;&lt;if $ukazalaprsten is true&gt;&gt; ale v duchu doufáš, že tátovi moc neublížil&lt;&lt;/if&gt;&gt;. „No jó nó…“ Zakráká námořník „Je jasný, že když pošlou takovýho korzára, jak seš ty, tak to bude znamenat, že tu neztvrdnem na dlouho… Však půlka posádky se ještě ani nepostaví na nohy, jak se jim bude motat škeble.“ Uchechtne se. „Jejich problém. Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ Odpoví muž v černém. Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly.
[[Zavládlo ticho.]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 0&gt;&gt;Díky tomu, že sis během dostihu vedla velmi dobře, stíháš si teď vyslechnout téměř celý rozhovor!

Muž v černém se zrovna tlumeně zasmál nečemu, co mu říkal námořník a hlubokým chladným hlasem mu odpověděl: „To si teda piš. Kapitán bude doopravdy nadšený ti říkám.“ A uchechtne se. „Počkej to jako dovopravdy? Jako, žes ho fakt vyčmuchal a chmátnul?“ Ptá se s neskrývaným nadšením námořník. „Jak říkám. &lt;&lt;if $ukazalaprsten is true&gt;&gt;Sice sem se dostal do menšího křížku s týpkem, co chrápal v tom baráku, kde sem to našel, ale... však mě znáš. Žádná velká překážka. Pak po mě ještě nějakou dobu šla holka, co to předtím našla, ale rychle sem ji setřásl.“&lt;&lt;/if&gt;&gt;&lt;&lt;if $neukazalaprsten is true&gt;&gt;Sice sem u toho probudil holku, co to měla u sebe, ale rychle sem zmizel. Nějakou dobu mě pronásledovala, ale za chvilku sem se ji setřásl.“&lt;&lt;/if&gt;&gt; Potajmu se ušklíbneš&lt;&lt;if $ukazalaprsten is true&gt;&gt; ale v duchu doufáš, že tátovi moc neublížil&lt;&lt;/if&gt;&gt;. „No jó nó…“ Zakráká námořník „Je jasný, že když pošlou takovýho korzára, jak seš ty, tak to bude znamenat, že tu neztvrdnem na dlouho… Však půlka posádky se ještě ani nepostaví na nohy, jak se jim bude motat škeble.“ uchechtne se. „Jejich problém. Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ odpoví muž v černém. Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly. 
[[Zavládlo ticho.]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 1&gt;&gt;Díky tomu, že sis během dostihu vedla dobře, stíháš  teď vyslechnout poměrně velkou část rozhovoru:

„Jak říkám.&quot; Mluví právě muž v černém hlubokým a chladným hlasem. &lt;&lt;if $ukazalaprsten is true&gt;&gt;&quot;Sice sem se dostal do menšího křížku s týpkem, co chrápal v tom baráku, kde sem to našel, ale... však mě znáš. Žádná velká překážka. Pak po mě ještě nějakou dobu šla holka, co to předtím našla, ale rychle sem ji setřásl.“&lt;&lt;/if&gt;&gt;&lt;&lt;if $neukazalaprsten is true&gt;&gt;&quot;Sice sem u toho probudil holku, co to měla u sebe, ale rychle sem zmizel. Nějakou dobu mě pronásledovala, ale za chvilku sem se ji setřásl.“&lt;&lt;/if&gt;&gt; Potajmu se ušklíbneš&lt;&lt;if $ukazalaprsten is true&gt;&gt; ale v duchu doufáš, že tátovi moc neublížil&lt;&lt;/if&gt;&gt;. „No jó nó…“ Zakráká námořník „Je jasný, že když pošlou takovýho korzára, jak seš ty, tak to bude znamenat, že tu neztvrdnem na dlouho… Však půlka posádky se ještě ani nepostaví na nohy, jak se jim bude motat škeble.“ Uchechtne se. „Jejich problém. Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ Odpoví muž v černém. Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly. 
[[Zavládlo ticho.]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 2&gt;&gt;Díky tomu, že sis během dostihu vedla vcelku dobře, stíháš si teď vyslechnout alespoň část rozhovoru:

„No jó nó…“ Zakráká zrovna námořník „Je jasný, že když pošlou takovýho korzára, jak seš ty, tak to bude znamenat, že tu neztvrdnem na dlouho… Však půlka posádky se ještě ani nepostaví na nohy, jak se jim bude motat škeble.“ Uchechtne se. „Jejich problém.&quot; odvětí zloděj hlubokým a chladným hlasem. &quot;Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly. 
[[Zavládlo ticho.]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 3&gt;&gt;Díky tomu, že sis během dostihu nevedla nějak zásadně špatně, stíháš si teď vyslechnout alespoň konec rozhovoru:

„Jejich problém.&quot; Říká zrovna zloděj hlubokým a chladným hlasem. &quot;Jdu za kapitánem, takže počítám, že do půl hodiny bude chtít zvednout kotvu.“ Potom se ozvalo zaskřípání otevíraných dveří, které se v následujícím okamžiku nazpět přibouchly. 
[[Zavládlo ticho.]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="286" name="Přitakat" tags="korektura" position="4250,3475" size="100,100">Souhlasně jsi přitakala a muži zmrzl fingovaný úsměv na tváři. &quot;Tenhlecten kuchař má, abys věděla, kudrnatý háro...&quot; Řekne chladným hlasem. &quot;Takže padej vodsud než tě vykuchám!&quot; Zamává ti nožem přímo před nosem. Bez dalšího slova se otočíš na patě a [[rychle se klidíš pryč.|rychle klidíš pryč.]]</tw-passagedata><tw-passagedata pid="287" name="Přivázat na druhý konec těžký trámek, kterým hodit" tags="korektura" position="4025,2075" size="100,100">Přitáhla jsi od schodů těžký trámek a začala kolem něj omotávat řetěz. &lt;&lt;if $pohmozdenaruka is true&gt;&gt;Jde ti to celkem ztěžka, protože tě ruka ještě bolí. &lt;&lt;/if&gt;&gt;Nějakým záhadným způsobem se ti ale v celku rychle podařilo řetěz kolem zamotat tak, že drží a nerozmotává se. //Tak... jak já to ale teď udělám?//

[[Rozhoupat trámek a hodit jím do místnosti]]
[[Přijít s trámkem k zábradlí a hodit ho na schody]]</tw-passagedata><tw-passagedata pid="288" name="Raději sešplhat zpátky dolů..." tags="korektura" position="1450,750" size="100,100">//Ne... To vypadá až moc nebezpečně.// Řekneš si a šplháš nazpět. Je to trošku zdlouhavé a zloděj jistojistě stihl uprchnout dál, než by sis přála.
Už však zase stojíš nohama pevně na zemi a [[rozbíháš se ulicí dál]]
__//+1 Bod zpomalení//__

&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="289" name="Radši se vrátit na zem" tags="korektura Změna-hudby Smrt-ok" position="1275,600" size="100,100">//Ne... To je až moc nebezpečný,// pomyslíš si, dáš nohu zase dolů a... Tato nerozhodnost tě teď stála všechno. Ozval se hlasitý zvuk a okap se i s tebou utrhl ze střechy.
Ranní ulice prořízl výkřik a pak křupavý náraz, jak malé tělo holčičky dopadlo na dlažbu a na ni řinčivě dopadl urvaný okap.
[[...TMA...]]

&lt;&lt;set $padzebrik to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="290" name="Radši si jí nevšímat a jít na slepo uličkami" tags="korektura" position="2275,675" size="100,100">//Ne... ta vypadá až moc prapodivně...// usoudíš a otočíš se nazpět, kde se ulice dělí na tři cesty. Chvíli tam nerozhodně stojíš a snažíš se odhadnout, kudy by se tak zloděj vydal. Pak ti ale dojde, že bez nápovědy se asi nikam kloudně nedostaneš...

[[Zeptat se ženy sedící s dýmkou na zápraží|Zeptat se jí]]</tw-passagedata><tw-passagedata pid="291" name="Risknout to" tags="" position="900,1375" size="100,100">Po očku nenápadně koukneš na tátu. Ten si spokojeně pobrukuje jakousi námořnickou píseň a vypadá to, že ti nevěnuje pozornost. Nakloníš se nad krabičku a děláš, že si vybíráš, kterého šneka si vezmeš... prstem je odšťoucháváš na strany, aby ses dostala k oslizlé minci. Jakmile je vysvobozená, znovu pokradmu koukneš na tátu &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a... jelikož situace vypadá nadějně, obratně minci skryješ do dlaně a dvěma prsty vytáhneš dalšího šneka.
  
  __//Získala jsi &lt;&lt;print $money&gt;&gt; minci//__
  
  [[Znovu lovit]]
  
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $money =1 &gt;&gt;</tw-passagedata><tw-passagedata pid="292" name="Rovnou do nich vběhnout" tags="korektura" position="4950,4500" size="100,100">Otevřela jsi dveře a zkameněla. V malé chodbě stojí zády k tobě potetovaný námořník a zrovna se chystal vyjít dveřmi na konci. Teď se však ohlédl a uviděl tě tam stát. 

[[Dát se na útěk|Dát se na útěk 3]]
[[Rozběhnout se proti němu a pokusit se mu proklouznout pod nohami]]</tw-passagedata><tw-passagedata pid="293" name="Rovnou vejít" tags="korektura" position="4525,4650" size="100,100">Sebevědomš jsi otevřela dveře a zkameněla. V málé chodbě stojí zády k tobě potetovaný námořník a zrovna se chystal vyjít dveřmi na konci. Teď se však ohlédl a uviděl tě tam stát. 

[[Dát se na útěk|Dát se na útěk 2]]</tw-passagedata><tw-passagedata pid="294" name="Rovnou vejít nasr" tags="korektura" position="5525,4975" size="100,100">Vešla jsi dovnitř.
Objevila jsi se v malé chodbě. Dveře se za tebou se zavřely a zavládlo šero a ticho. Chodba je zakončená dveřmi&lt;&lt;if $zpomaleni lte 3&gt;&gt;, které se právě přibouchly&lt;&lt;/if&gt;&gt;. Po levé straně chodby je vstup na schodiště do patra. Po pravé straně naproti schodišti jsou menší oprýskané dveře a voní to odtamtud jídlem. Kudy dál?

[[Po schodech do patra|Po schodech do patra za tebou]]
[[Oprýskanými dveřmi na pravo|Oprýskanými dveřmi na pravo za tebou]]
[[Dveřmi na konci chodby|Dveřmi na konci chodby za tebou]]

&lt;&lt;set $schodyhospoda to false&gt;&gt;</tw-passagedata><tw-passagedata pid="295" name="Rovně" tags="korektura" position="2400,425" size="100,100">Tak tedy &lt;&lt;if $nalevo eq 0 and $napravo eq 0&gt;&gt;rovně z kopce směrem tržiště!!&lt;&lt;/if&gt;&gt;&lt;&lt;if $nalevo eq 1 and $napravo eq 0&gt;&gt;doleva z kopce směrem tržiště!&lt;&lt;/if&gt;&gt;&lt;&lt;if $nalevo eq 0 and $napravo eq 1&gt;&gt;doprava z kopce směrem tržiště!&lt;&lt;/if&gt;&gt;
Běžíš dolů, co ti síly stačí a nožky ti kmitají, div, že nezakopneš. Ve spodní části ulice už vidíš - a hlavně z daleka cítíš - tu omamnou vůni pekárny. Pokaždé, když jsi šla s mámou ráno na tržiště, čichala jsi jako divá a občas... Ale opravdu jen občas (protože ne vždycky byly peníze) ti tam máma koupila nějaký dobrý koláček. Kdyby tak ta vůně alespoň neprovokovala! &lt;&lt;if $zpomaleni lte 3&gt;&gt;Když v běhu zaměříš pozornost dolů k pekárně, uvidíš zrovna, jak se skrz frontu lidí, kteří tam stáli, procpal zloděj. Nesměřuje však dovnitř pekárny, nýbrž do uličky napravo od ní. 
To je docela dobrá informace, protože je tudíž jasné, že má ze všeho nejspíš namířeno na tržiště. Cesta napravo totiž vede větším obloukem kolem pekárny a pod ní se zase stáčí dolů až na tržiště. Další odbočky tam nejsou a tak jen zbývá [[zvážit cestu...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 4&gt;&gt;Když v běhu zaměříš pozornost dolů k pekárně, uvidíš tam frontu lidí, kteří před ní stojí.
Bohužel kvůli svému zpoždění zloděje nikde nevidíš... Varianty jsou však jen dvě. Buďto se procpal dovnitř, nebo to vzal napravo cestou, která vede obloukem kolem pekárny na tržiště... 
To už dobíháš dolů a je na čase zvolit cestu:

[[Vniknout do pekárny]]
[[Zeptat se někoho ve frontě, jestli zloděje náhodou neviděl]]
[[Vzít to kolem pekárny na tržiště]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="296" name="Rozběhla se ke schodům" tags="korektura" position="4675,575" size="100,100">Obloukem jsi ho obešla a rozběhla ses ke schodům. Pekař se mezitím ztěžka postavil na nohy, protřel si oči a když se zorientoval, rozběhl se za tebou! &quot;Hééj! Ty malá mrcho! Stůj!&quot;
Rychle jsi vběhla na schodiště a dala se po něm dolů. Slyšíš, jak tě za zády pronásleduje dusot jeho nohou. Seběhla jsi až do přízemí a...

[[Vyběhnout ven]]
[[Zkusit prolézt oknem za pultem]]</tw-passagedata><tw-passagedata pid="297" name="Rozběhnout se a podklouznout mu pod nohama" tags="korektura" position="3875,475" size="100,100">Rozběhla ses k němu a &lt;&lt;linkreplace &quot;skočila střemhlav vpřed...&quot;&gt;&gt;skočila střemhlav vpřed...
Přímo do jeho kolen, protože měl nohy u sebe. Před očima se ti zatmnělo, jak jsi do nich narazila čelem hlavy a kuchař zařval, ztratil rovnováhu a oba jste se natáhli na zaprášenou podlahu. &quot;Ahh ty malá svině!&quot; Slyšíš, jak vedle tebe zaklel a namáhave se snaží sednout, ruka se mu ale podlomila a znovu řachl na zem. Tobě už se konečně znovu zaostřilo vidění a tak...

[[Ses rozběhla ke schodům]]
[[[Si vzala železnou naběračku z otevřeného pytle a praštila ho po hlavě|Chňaplas železnou naběračku a praštila ho po hlavě]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="298" name="Rozběhnout se kolem baru dál do zadní části lokálu" tags="korektura" position="5425,4500" size="100,100">Tryskem jsi prokličkovala mezi opilci kolem baru až úplně do zadní části místnosti. Tam už je jen pár stolků a... hele nějaké staré dveře, které svou barvou takřka dokonale splývají se stěnou. //Tady se už schovávat pod stoly nemá smysl.// Usoudíš a přistoupíš ke dveřím.

[[Nejprve nakouknout|Nejprve nakouknout chytl]]
[[Rovnou vejít|Rovnou vejít nasr]]</tw-passagedata><tw-passagedata pid="299" name="Rozběhnout se proti němu a pokusit se mu proklouznout pod nohami" tags="korektura Změna-hudby" position="5075,4625" size="100,100">V naprosté panice a záblesku šíleného adrenalinu jsi se rozběhla proti námořníkovi a skočila mu skluzem mezi rozkročené nohy. Bylo to však až příliš šílené na to, aby to mělo nárok na úspěch. Až teď sis všimla schodiště skrytého v šeru po kterém se dalo krásně utéct nahoru. Je však pozdě. Námořník tě v tvém pokusu o únik surově zarazil chytnutím za vlasy. Vytáhl tě nahoru a než jsi stihla vykřiknout, zacpal ti pusu svou špinavou rukou. V tu chvíli se otevřely dveře a do chodby vstoupila šenkýřka, než se však v šeru rozkoukala, námořník se s tebou v pevném sevření otočil zády k ní. &quot;Neviděl jste tady náhodou běžet takovou holku?&quot; Muž tě pevně sevřel a chraplavým hlasem jí odpověděl: &quot;Jó ta teď běžela jak střelenej zajíc tam po těch schodem navrch!&quot; 
&quot;Děkuji.&quot; Odvětila žena a se vzdechem se vydala po schodech nahoru. Snažíš se vzpouzet, ale drží tě tak pevně, že se nemůžeš hnout ani o píď. Potom si tě hbitě přechytl a drsným provazem začal zavazovat ruce za zády. Chceš začít křičet, ale v tu ránu se ti u krku zaleskl dlouhý zahnutý nůž. &quot;Jen cekni a vykuchám tě jak sele!&quot; Ztuhla jsi děsem. Námořník ti pevně a bolestivě dotáhl uzel na rukou a od někud vytáhl špinavý pytel. Natáhl ti ho přes hlavu a skrz hrubou pytlovinu slyšíš, jak ti zachraplal do ucha: &quot;Ty budeš dobrý zboží! Za tebe dostaneme pěknej balík...&quot; To tě tak vyděsilo, že jsi se začala zmítat, jako divá. V příští vteřině tě uhodilo něco težkého do hlavy a ty jsi [[ztratila vědomí.]] 

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="300" name="Rozběhnout se s krabicí proti nim a narazit do nich" tags="korektura" position="2950,1400" size="100,100">Pevně jsi krabici sevřela a rozběhla se proti nim jak s beranidlem. Problém však je - jak jsi si až trochu pozdě uvědomila - v tom, že jsou kluci docela daleko od sebe, takže nemáš šanci je trefit oba najednou. //Sakra, co teď// prolítne ti hlavou, mezitím co proti nim běžíš.

[[Trefit alespoň jednoho]]
[[Zastavit se a počkat, až doběhnou k tobě, aby byli blíž u sebe]]</tw-passagedata><tw-passagedata pid="301" name="Rozhoupat trámek a hodit jím do místnosti" tags="" position="4150,2125" size="100,100">Popadla jsi trámek, odstoupila s ním dál od dveří, až na vzdálenost, kdy se řetěz malinko nadzvedává ze země, párkrát s ním cvičně zahoupala a pak ho rozhoupala doopravdy a vší silou jím hodila před sebe. &lt;&lt;if $pohmozdenaruka is true&gt;&gt;Díky tomu, že už jsi před tím dveře načala minulým pokusem, s hlasitým rupnutím se rozletěly dokořán a tebe ovanul čerství vánek.&lt;&lt;/if&gt;&gt;&lt;&lt;if $pohmozdenaruka is false&gt;&gt;Řetěz se napnul, dveře hlasitě zaskřípaly, ale neotevřely se...&lt;&lt;/if&gt;&gt; Trámek v doprovodu řinčení řetězu hlasitě zaduněl o zem a dole to ztichlo...
//A kruci...//
Vzápětí se ozval dusot nohou po schodišti nahoru. //Je to v háji...// Prolétne ti hlavou a rozklepou se ti kolena. 

[[Schovat se za pytle]]
[[Schovat se za závěs]]
[[Zůstat na místě a znovu trámkem hodit]]</tw-passagedata><tw-passagedata pid="302" name="Rozkrok" tags="korektura" position="2025,1050" size="100,100">Pěstička ti zamířila přesně na jeho klenoty. Druhý kluk zařval, pustil tě a svalil se na zem vedle prvního. Ten poslední teď zmateně stojí a nechápe co se to právě všechno stalo. Toho jsi využila a...

[[Dala se na útěk|Dál dolů]]
[[S rozmachem kopla i posledního]]

&lt;&lt;set $kopanecRozkrok = 2&gt;&gt;</tw-passagedata><tw-passagedata pid="303" name="Rozloučit se a vrátit se na svou cestu k fontáně" tags="korektura" position="3325,2275" size="100,100">&quot;Tak se mějte hezky, já už opravdu musím&quot; Řekneš jí a máš se k odchodu. &quot;Počkej zlatíčko. Tady máš...&quot; Řekne žena a podá ti stříbrný penízek. &quot;Kup si za to něco dobrého...&quot; Řekne ti s úsměvem. S poděkováním si od ní penízek vezmeš a už [[utíkáš pryč.]]

__//Získala jsi minci//__ &lt;&lt;set $money += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="304" name="Rozmáchnout se hráběmi širokým obloukem před sebe" tags="korektura" position="2625,2050" size="100,100">Hrábě zasvištěly vzduchem tak akorát, aby trefily kluka nalevo železnou částí přímo do ramene. Ten bolestí zařval, chytil se za ně a schoulil se do klubíčka. Ten napravo chvíli stojí s otevřenou pusou a pak se na tebe podíval s naprostou zuřivostí v očích. &quot;Ty mrcho!&quot; Zakřičel a vrhl se k tobě. Máš poslední vteřinu na reakci. 

[[Uskočit na stranu a rozmáchnout se po něm železnou částí]]
[[Přikrčit se a nastavit mu tyč hrábí]]</tw-passagedata><tw-passagedata pid="305" name="Rozmáchnout se krabicí proti nim" tags="korektura" position="2425,1475" size="100,100">Rychle jsi sklonila krabici do úrovně pasu. Stoupla sis bokem do postoje připraveného k úderu, rozkymácela krabici ze strany na stranu a nohy se ti trochu klepou. Ještě chvíli... á... &lt;&lt;linkreplace &quot;teď!&quot;&gt;&gt;teď!
Vší silou, jakou jsi jen byla schopna vyvinout, ses rozmáchla krabicí jako kladivem.
 *PRÁSK* Krabice se velice přesně trefila prvnímu klukovi přímo do tváře. Ten se ihned po zádech skácel k zemi a nevypadá, že by ještě byl čehokoliv schopen. Nárazem o jeho tvář však krabice svůj let velice zpomalila a vychýlila směr, takže druhému klukovi narazila jen do nohy. Stačilo to na to, aby sebou hodil o zem tobě k nohám, ale vzápětí mu vylítla ruka a rozzuřeně po tobě chňapl.

[[Uskočit]]
[[Kopnout ho do tváře]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="306" name="Rozmáchnout se s ní" tags="korektura" position="2675,1375" size="100,100">Kluci na tebe běží jako dva zuřivý berani. Sklonila jsi krabici do úrovně pasu. Stoupla sis bokem do postoje připraveného k úderu, rozkymácela krabici ze strany na stranu a nohy se ti trochu klepou. Ještě chvíli... á... &lt;&lt;linkreplace &quot;teď!&quot;&gt;&gt;teď!
Plnou silou, jakou jsi jen byla schopna vyvinout, ses rozmáchla krabicí jako kladivem.
 *PRÁSK!* Krabice se velice přesně trefila prvnímu klukovi přímo do tváře. Ten se ihned po zádech skácel k zemi a nevypadá, že by ještě byl čehokoliv schopen. Nárazem o jeho tvář však krabice svůj let velice zpomalila a vychýlila směr, takže druhému klukovi narazila jen do nohy. Stačilo to na to, aby sebou hodil o zem tobě k nohám, ale vzápětí mu vylítla ruka a rozzuřeně po tobě chňapl.

[[Uskočit]]
[[Kopnout ho do tváře]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="307" name="Rozmáchnout se s ní za sebe" tags="korektura" position="2750,1650" size="100,100">Pevně jsi krabici sevřela a s otočkou se prudce rozmáchla. Černovlasý kluk, který se k tobě blížil, hbitě uskočil na stranu a krabice naprázdno zasvištěla vzduchem. Její nezbrzděná tíha tě s ní poslala k zemi, kde se roztříštila na kusy. To už cítíš, jak tě zezadu chytly pod paží dvě pevné pracky.

[[Dostali tě.|Dostali tě. 2]]</tw-passagedata><tw-passagedata pid="308" name="Roztočit se a pak řetěz pustit" tags="korektura" position="4500,1450" size="100,100">Chytla jsi řetěz na konci a roztočila se s ním. Všechno se motá a obrátky nabírají na rychlosti. Teď ho jen v pravý čas pustit...
Obraz se ti rozmazaně míhá... [[Okno]], [[pytle s moukou]], [[schodiště]], pak zase okno... V který moment to pustit?</tw-passagedata><tw-passagedata pid="309" name="Roztočit se a pak řetěz pustit (otřes)" tags="korektura" position="4750,1375" size="100,100">Chytila jsi řetěz na konci a roztočila se s ním. Kdybys byla plně při smyslech, tak bys to asi zvládla. Jelikož jsi ale čerstvě po celkem solidní šlupce do hlavy, jediný výsledek tvého úsilí je, že se ti pořádně zamotala šiška, řetěz ti vyklouzl z ruky, zapadl mezi pytle a tys sebou znovu švihla o zem, až ti vytryskly slzy. 

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Ještě notnou chvíli ležíš na zemi a čekáš, než se všechno ustálí. Až už se konečně cítíš jakž takž v pořádku, opět se roztřeseně zvedneš. //Néé. Na ten pitomý řetěz už ani nešáhnu!//

[[Naběračka]]
[[Staré štokrle]]</tw-passagedata><tw-passagedata pid="310" name="Rychle vyběhnout nazpět před pult" tags="korektura" position="3425,1275" size="100,100">Vystrašeně se znovu rychle prosmýkneš dvířky ven. Teď už ti zbývá jen jedna možnost.

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;
[[Vylézt po schůdcích do patra|Zkusit jít po schůdcích do patra]]
&lt;&lt;set $okno = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="311" name="S rozmachem kopla i posledního" tags="korektura" position="1875,1025" size="100,100">Vyrazila jsi proti němu a kopanec míříš přesně tam, kam &lt;&lt;if $kopanecRozkrok eq 2&gt;&gt;ty předešlé.&lt;&lt;/if&gt;&gt;&lt;&lt;if $kopanecRozkrok eq 1&gt;&gt;ten minulý.&lt;&lt;/if&gt;&gt;
Tento klučina byl však hbitější a stihl si před rozkrok dát ruku. Bolestivě jsi do ní narazila prsty nohy, on tě za ni chytil a trhnul k sobě. Svalila ses na zem. &quot;Mě nedostaneš! Ty jedna mrcho!&quot; zavrčí a svírá ti nohu čím dál větší silou. Koukneš před sebe a shledáš, že se oba nacházíte přímo před hromadou krabic, ze které ještě stále trčí &lt;&lt;if $hrabe is false&gt;&gt;tyč.&lt;&lt;/if&gt;&gt;&lt;&lt;if $hrabe is true&gt;&gt;tyč hrábí.&lt;&lt;/if&gt;&gt;
Z posledních sil ses vymrštila vzhůru a chytla se jí. Ta se s vrzáním nahnula k tobě a posloužila jako ideální páka. Celá ta hromada krabic se hrozivě naklonila, překlopila a svalila se přímo na vás... Nebo přesněji, většinu z nich schytal kluk, protože stál. Toho to skolilo k zemi a díky tomu tě pustil. Pár jich dopadlo i na tebe, ale díky bohu ne příliš tvrdě a ne z velké výšky. Rychle ses zpod nich vyplazila a narovnala se. &lt;&lt;linkreplace &quot;Ohlédla ses na paseku za tebou&quot;&gt;&gt;Ohlédla ses na paseku za tebou.
Přes půlku ulice se teď válí hromady krabic a zpod nich občas někde vykukuje tu ruka, tam noha. Vůbec nechápeš, jak jsi to dokázala, ale pak tě naplnila hrdost na sebe samu až jsi z toho štěstím zavýskla! 
Je ale nejvyšší čas běžet dál. A tak jsi na celou scenérii hodila poslední škodolibě radostný pohled a [[rozběhla se dál ulicí.]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="312" name="S rozmachem po nich hrábě hodit a utíkat nahoru" tags="korektura" position="2750,1925" size="100,100">Prudce ses rozmáchla a hrábě zasvištěly vzduchem. Ještě za sebou slyšíš, jak jeden z nich křičí: &quot;Bacha!&quot; To už však pelášíš nahoru. Hrábě zvonivě dopadly na dlažbu, ale kluci jim zřejmě jen uskočili na stranu a pokračují v pronásledování, soudě dle rychle se přibližujících kroků za tvými zády. &quot;Kam si myslíš, že nám zdrhneš, špindíro!&quot; ozvalo ti pak přímo u ucha a pevný stisk ti sevřel límeček noční košilky.
Křičíš a kopeš kolem sebe, už je však pozdě.

[[Dostali tě.|Dostali tě]]</tw-passagedata><tw-passagedata pid="313" name="Schovat se" tags="korektura" position="3625,900" size="100,100">Rychle se kolem sebe rozhlédneš. Dalo by se vlézt do velké prázdné nůše... pak jsou tu pytle s moukou, za které by se dalo skrčit... a nebo závěs před oknem...

[[Vlézt do nůše]]
[[Skrčit se za pytly]]
[[Schovat se za závěsem]]

&lt;&lt;set $patro = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="314" name="Schovat se 2" tags="korektura" position="4150,925" size="100,100">Znovu ses přikrčila. Pekař ještě chvíli stojí na místě, pak si - soudě podle tleskání - oprášil ruce a už je slyšet, jak se dusání nohou vzdaluje, až nakonec zmizelo po schodech dolů a znovu [[zavládlo ticho]]</tw-passagedata><tw-passagedata pid="315" name="Schovat se 3" tags="korektura" position="3725,375" size="100,100">Znovu jsi zalezla za závěsem. Pekař ještě chvíli stojí na místě, pak si - soudě podle tleskání - oprášil ruce a už je slyšet, jak se dusání nohou vzdaluje, až nakonec zmizí po schodech dolů a znovu [[zavládlo ticho|zavládne ticho 2]]</tw-passagedata><tw-passagedata pid="316" name="Schovat se do sena" tags="korektura" position="1850,1850" size="100,100">Na nic jsi nečekala, přelezlas dřevěnou stěnu ze šprušlí, držící seno pohromadě a skočilas do něj. &quot;Co to děláš, devče?&quot; Ptá se udiveně farmář. &quot;Pššt, prosím neprozraďte mě. Ti kluci mě nesmí uvidět. &quot;Á... tak to je jasné,&quot; zabručí už potichu. Projíždíte právě kolem, když je slyšíš zrovna říkat &quot;Kam ta mrcha zmizela? Já ji na mou věru zabiju.&quot; &quot;Hele, běžela nahoru, pojď dostanem ji.&quot; To už se dialog ztratil v dáli a tys s úlevou znovu vylezla ven a posadila se vedle farmáře. Vůz kodrcavě ujíždí a směřuje [[na tržiště.]]</tw-passagedata><tw-passagedata pid="317" name="Schovat se do sudu" tags="korektura" position="3675,5550" size="100,100">Přiběhla jsi k nim. Oba sudy vypadají identicky. Liší se jen tím, že ten na pravo má na sobě křídou načmáraný křížek. Do kterého z nich skočit?

[[Do sudu na pravo]]
[[Do sudu na levo]]</tw-passagedata><tw-passagedata pid="318" name="Schovat se do sudu 2" tags="korektura" position="3950,5550" size="100,100">Otočila ses nazpět k sudům. Dva ze tří jsou otevřené a oba vypadají identicky. Liší se jen tím, že ten na pravo má na sobě křídou načmáraný křížek. Do kterého z nich skočit?

[[Do sudu na pravo]]
[[Do sudu na levo]]</tw-passagedata><tw-passagedata pid="319" name="Schovat se pod nejbližší stůl" tags="korektura" position="4950,4375" size="100,100">Přiběhla jsi k nebližšímu stolu u kterého sedí banda námořníků, co hrají karty a nepozorovaně jim vklouzla pod stůl. Společnost ti teď dělá pět párů smradlavých bot a musíš se choulit do klubíčka, aby jsi o nikoho nezavadila. Vidíš, jak před bar rázným krokem přišly nohy šenkýřky a slyšíš ji říkat: &quot;Ksakru kam se poděla?&quot; Ještě chvíli tam bezradně stojí a potom pomalým krokem odejde zpět za bar...

[[Ještě tu chvíli počkat]]
[[Vylézt|Vylézt 2]]</tw-passagedata><tw-passagedata pid="320" name="Schovat se pod nejbližší stůl 5 nasr." tags="korektura" position="5200,4250" size="100,100">Rychle jsi se skrčila a vklouzla pod stůl, kde ti dělají společnost dva páry smradlavých nohou. Sedíš jak myška a pozoruješ, jak se blíží námořníkovy nohy. Prošel přímo kolem místa, kde jsi ještě před chvílí byla a není pochyb, že by tě tam našel... Takhle ale jen prošel kolem a zamířil kamsi k baru. Sedíš ani nedutáš. Zároveň tě ale zajímá, kam námořník půjde... 

[[Tajně a ostražitě vylézt a podívat se|Tajně a ostražitě vylézt a podívat se námořník]]
[[Ještě počkat|Ještě počkat námořník]]</tw-passagedata><tw-passagedata pid="321" name="Schovat se pod nejbližší stůl u baru" tags="korektura" position="5500,4350" size="100,100">Přiběhla jsi k nebližšímu stolu u kterého sedí banda námořníků, co hrají karty a nepozorovaně jim vklouzla pod stůl. Společnost ti teď dělá pět párů smradlavých bot a musíš se choulit, jako klubíčko, aby jsi o nikoho nezavadila. Vidíš, jak před bar rázným krokem přišly námořníkovy nohy a slyšíš ho zachraplat: &quot;Tak kde se zašíváš ty krysí mládě?&quot; Ještě chvíli tam stojí a potom rázným krokem zamíří dál do zadní části lokálu.

[[Ještě tu chvíli počkat]]
[[Vylézt]]</tw-passagedata><tw-passagedata pid="322" name="Schovat se pod stůl 3/4 nasr." tags="korektura" position="4525,4250" size="100,100">Rychle jsi se skrčila a vklouzla pod stůl, kde ti dělají společnost dva páry smradlavých nohou. Sedíš jak myška a pozoruješ, jak se blíží námořníkovy nohy. Prošel přímo kolem místa, kde jsi ještě před chvílí byla a není pochyb, že by tě tam našel... Takhle ale jen prošel kolem a zamířil kamsi k baru. Sedíš ani nedutáš. Zároveň tě ale strašně zajímá, kam šel zloděj... 

[[Tajně a ostražitě vylézt a podívat se]]
[[Ještě počkat]]</tw-passagedata><tw-passagedata pid="323" name="Schovat se za pytle" tags="korektura" position="5050,1300" size="100,100">V panice ses rozběhla k pytlům s moukou a skočila za ně...
Slyšíš, jak kdosi vydupal až nahoru a pak se rozhostilo ticho. Bojíš se i dýchat. 
&quot;Kdo je tady?!&quot; Ozve se hlas a v tobě by se krve nedořezal. &quot;Vím, že tu někdo je!&quot; Kroky se daly do pohybu. S trhnutím se odhrnul závěs. &quot;Vím, že tady seš!&quot; 
Kroky se teď blíží k tvé skrýši. Srdce ti tluče jako o závod.

[[Vyskočit a dát se na útěk]]
[[Zůstat na místě]]</tw-passagedata><tw-passagedata pid="324" name="Schovat se za stěnu kadibudky a jak zloděj vyleze, trefit ho kamenem do zátylku" tags="korektura Smrt-ok Změna-hudby" position="2950,4875" size="100,100">Schovala ses s kamenem na bok kadibudky, napřáhla se a tiše vyčkáváš. V kadibudce se ozvalo pohyb a v příští chvíli se dveře otevřely dokořán. Jsi &lt;&lt;linkreplace &quot;připravena k útoku...&quot;&gt;&gt;připravena k útoku...
Ze dveří však nikdo nevyšel... Po chvíli napjatého ticha se však ozvalo: &quot;Ty jedna proradná kryso...&quot; A následovalo ohlušující *PRÁSK!*
Tak úplně nechápeš, co se to právě stalo... Zmateně se rozhlížíš kolem a vidíš, že ve zdi kadibudky se objevila díra, ze které stoupá dým... Pohlédneš na svůj bok. V šatičkách máš díru a látka se začíná rychle barvit do sytě rudé. Projde tebou nepopsatelný třas a hlava se ti začíná motat. Kámen ti vypadl z ruky a ty jsi spadla na zem zakoušíc ukrutnou bolest. Po tvářích ti začaly téct slzy a snažíš se v panice nějak rukama zastavit krvácející ránu. &quot;Néé... néé... To né...&quot; vzlykáš a mezi prsty, kterými se snažíš bezmocně ránu zacpat, ti protéká horká krev. Obličej ti zbělal jako vápenná stěna. Všechno kolem se začíná mlžit a už nemáš dost sil na to, abys ruce na ráně udržela. Končetiny ti ochably a občas sebou malátně škubnou. Palčivá bolest v boku pomaličku ustupuje a přichází &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...|...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt;tobě povědomá [[...TMA...|...TMA...3]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 3&gt;&gt;tobě dobře povědomé [[...TMA...|...TMA...4]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 4&gt;&gt;tobě velmi dobře povědomá [[...TMA...|...TMA...5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $zastrelenadoboku2 to true&gt;&gt;

&lt;&lt;set $strelena to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="325" name="Schovat se za stěnu kadibudky a jak zloděj vyleze, trefit ho prknem do zátylku" tags="korektura Smrt-ok Změna-hudby" position="2950,4750" size="100,100">Schovala ses s prknem na bok kadibudky, napřáhla ses a tiše vyčkáváš. V kadibudce se ozvalo pohyb a v příští chvíli se dveře otevřely dokořán. Jsi &lt;&lt;linkreplace &quot;připravena k útoku...&quot;&gt;&gt;připravena k útoku...
Ze dveří však nikdo nevyšel... Po chvíli napjatého ticha se však ozvalo: &quot;I ty jedna proradná kryso...&quot; A následovalo ohlušující *PRÁSK!*
Tak úplně nechápeš, co se to právě stalo... Zmateně se rozhlížíš kolem a vidíš, že ve zdi kadibudky se objevila díra, ze které stoupá dým... Pohlédneš se na svůj bok. V šatičkách máš díru a látka se začíná rychle barvit do sytě rudé. Projde tebou nepopsatelný třas a hlava se ti začíná motat. Prkno ti vypadlo z ruky a ty jsi spadla na zem zakoušíc ukrutnou bolest. Po tvářích ti začaly téct slzy a snažíš se v panice nějak rukama zastavit krvácející ránu. &quot;Néé... néé... To né...&quot; vzlykáš a mezi prsty, kterými se snažíš bezmocně ránu zacpat, ti protéká horká krev. Obličej ti zbělal jako vápenná stěna. Všechno kolem se začíná mlžit a už nemáš dost sil na to, abys ruce na ráně udržela. Končetiny ti ochably a občas sebou malátně škubnou. Palčivá bolest v boku pomaličku ustupuje a přichází &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...|...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt;tobě povědomá [[...TMA...|...TMA...3]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 3&gt;&gt;tobě dobře povědomé [[...TMA...|...TMA...4]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 4&gt;&gt;tobě velmi dobře povědomá [[...TMA...|...TMA...5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $zastrelenadoboku to true&gt;&gt;

&lt;&lt;set $strelena to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="326" name="Schovat se za sudy" tags="korektura" position="3800,5550" size="100,100">Přiskočila jsi k sudům a protáhla se škvírou mezi nimi a plotem. Stihla ses tak akorát přikrčit a už slyšíš, že námořníci prošli branou a... //Sakra!// Zastavili se přímo před sudy.
&quot;Ech... Mě se tak zatraceně nechce!&quot; Slyšíš říkat jednoho. &quot;A mě se snad ksakru chce?&quot; na to ten druhý. &quot;No jó... Tak sebou hejbnem ať už to máme z krku. Jak že byli ty instrukce?&quot; 
&quot;V těch co maj na sobě křížek je zboží na pašování, takže ty jen zavřem a do těch co sou prázdný se ještě doleje víno, ať máme po cestě co chlastat...&quot; A oba se hlasitě zasmáli. &quot;Ták jo... dem na to.&quot; Ozvalo se heknutí a vidíš, jak se nad sudem objevil vousatý muž s šátkem na hlavě, který v rukou drží dřevěnou poklici sudu. Vsadil ji do jednoho sudu a domlátil dřevěným kladívkem. Přikrčila ses k sudům, tak blízko, jak to jenom šlo, aby tě neviděli a srdce ti hlasitě buší. &quot;Ták, teď ještě druhý...&quot; Ozvalo se pak a proces se zopakoval i s druhým sudem. Modlíš se, aby teď odešli, ale to oni ne. Místo toho ses vyděšeně odtáhla k jinému sudu, když z vrchu - na ten, za kterým ses schovávala - přistály dvě velké pracky a sud odkulily stranou. //Prosím, ať s ním teď odejdou!// Opakuješ si v duchu a strachy ani nedýcháš. &quot;Počkej domlátils ten první pořádně?&quot; Ozve se. &quot;Snad jo, ale radši to zkontroluj...&quot;
A v tu chvíli se nad sudem objevila ošlehaná tvář námořníka s neoholeným strništěm a jizvou přes tvář. Šel zkontrolovat sud, avšak pohledem zabloudil až za něj &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a...
Spatřil tě, jak se tam choulíš jak myš v koutě. &quot;Ale ale co to tady mámé?&quot; Vypadlo z něj udiveně. Prostoupila tebou panika. Před tebou je sud, za tebou plot, po pravé straně druhý námořník  a po levé moře. Udělala jsi tedy jedinou věc, která připadala v úvahu... 

[[Vrhnout se do moře]]

&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="327" name="Schovat se za závěs" tags="korektura" position="5050,1725" size="100,100">V panice jsi přiskočila k závěsu a rychle se za něj schovala...
Slyšíš, jak kdosi vydupal až nahoru a pak se rozhostilo ticho. Bojíš se i dýchat. 
&quot;Kdo je tady?!&quot; Ozve se hlas a v tobě by se krve nedořezal. &quot;Vím, že tu někdo je!&quot; Kroky se daly do pohybu a ty slyšíš, jak se k tobě blíží... 

[[Dát se na útěk|Dát se na útěk závěs]]
[[Zůstat schovaná]]</tw-passagedata><tw-passagedata pid="328" name="Schovat se za závěsem" tags="korektura" position="3725,775" size="100,100">Přiskočila jsi k starému závěsu shrnutému na levé straně u okna. Rychle jsi za něj vklouzla a nasloucháš, [[co se bude dít...|co se bude dít...3]]</tw-passagedata><tw-passagedata pid="329" name="Schovat se zpátky do nůše..." tags="korektura" position="4075,1250" size="100,100">//Rychle zpátky!// A rychle se opět schoulíš na proutěném dně. V příští vteřině vidíš, jak pekař přistoupil až k tvému úkrytu &lt;&lt;linkreplace &quot;a pak...&quot;&gt;&gt;a pak...
... tě zasypala hromada bochníků. Tvůj výkřik byl ihned utnut jedním obzvlášť objemným kouskem, který ti spadl přímo do obličeje&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;...
... Malátně ležíš přimáčknutá na dně nůše a cítíš, že ti z nosu teče teplý pramínek krve. Muž si - soudě podle tleskání - oprášil ruce a pak už bylo slyšet vzdalující se dusání nohou, až nakonec zmizelo po schodech dolů a znovu [[zavládlo ticho.]]
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="330" name="Se prosmykneš kolem ní..." tags="korektura" position="2825,400" size="100,100">... jsi vystartovala úskokem na stranu a už to skoro vypadá, žes byla rychlejší, ale bohužel... Její mohutná pracka byla hbitější a za letu tě chytila paží pod krkem. &quot;I ty jedna malá špinavá mrcho!&quot; Zakřičela na tebe. 
V jejím sevření ti až potemnělo v očích a v uších začalo zvonit. Pak už se jen vzpamatováváš, malátně se zvedáš ze země, kam tebou hospodyňka zlostně hodila
se slovy: &quot;Opovaž se vracet!&quot; Odpochodovala nazpět do obchodu a všichni se jí koukali klidit z cesty. [[Roztřeseně se zvedneš ze země|Namáhavě se zvedneš ze země]].

__//+1 Bod zpomalení//__

&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="331" name="Sebrat háček ze země" tags="" position="750,900" size="100,100">//No to se moc nepovedlo...// Střelíš pohledem po tátovi, ten však vypadá, že si toho nevšímá... Nebo tak alespoň vypadá... 
Sebereš háček ze země, napřímíš se a jdeš to zkusit znovu.

[[Znovu nahodit udičku]]</tw-passagedata><tw-passagedata pid="332" name="Sebrat ze země hrst vysypané mouky a jak se nad tebe nakloní, hodit mu ji do obličeje" tags="korektura" position="4550,450" size="100,100">Přikrčila ses až k podlaze a co nejrychleji na ní shrabáváš kopičku spadané mouky a prachu. Kroky se blíží víc a víc! Nabrala jsi hromádku do ruky a v okamžiku, kdy se nad tebou objevila naštvaná tvář pekaře, který už už natahuje ruce, hodila jsi mu mouku přímo do široce otevřených očí! Pekař zařval, chytil se za oči, zapotácel se a spadl na záda. &quot;Ahh ty malá svině!&quot; Slyšíš ho za pytli. Vykoukla jsi a vidíš ho na zemi, jak se namáhavě snaží sednout. Oči má pevně sevřené a celé od mouky. Ruka se mu podlomila a znovu řachl na zem. Přelezla jsi pytle a:

[[Rozběhla se ke schodům]]
[[Vzala železnou naběračku z otevřeného pytle a praštila ho po hlavě|Chňaplas železnou naběračku a praštila ho po hlavě]]</tw-passagedata><tw-passagedata pid="333" name="Seběhnout po schodech a jít dveřmi na dvůr" tags="korektura" position="3600,4650" size="100,100">Seběhla jsi po schodech opět dolů, doběhla ke dveřím na konci chodby a [[nakoukla do nich|Nakoukla do nich- dvůr]]


&lt;&lt;if $zpomaleni lte 4&gt;&gt;&lt;&lt;set $zpomaleni += 1&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="334" name="Sen" tags="Změna-hudby" position="1275,125" size="100,100">&lt;&lt;linkreplace &quot;Široširé moře...&quot;&gt;&gt;Široširé moře...

  Jsi kapitánkou velké obchodní &lt;&lt;linkreplace &quot;lodi...&quot;&gt;&gt;lodi...
    
    Připlouváš k přístavu, který tak dobře &lt;&lt;linkreplace &quot;znáš...&quot;&gt;&gt;znáš...
      
      Na molu stojí máma s tátou. Mávají a pyšní se svou kapitánskou dcerou..!
      &quot;Spusťte kotvu!&quot; &lt;&lt;linkreplace &quot;zavelíš.&quot;&gt;&gt;zavelíš.
        
        &quot;Vysunout můstek!&quot; a [[co to...?]]
        
      &lt;&lt;/linkreplace&gt;&gt;
    &lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;&lt;&lt;cacheaudio &quot;sen&quot; &quot;music/sen.mp3&quot;&gt;&gt;&lt;&lt;audio sen play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="335" name="Sen 2" tags="Změna-hudby" position="1300,275" size="100,100">Nejdřív se ti zdá jen nějká nesourodá blbost, potom se ale sen &lt;&lt;linkreplace &quot;zaostří...&quot;&gt;&gt;zaostří...

  Sedíš na rozvrzané dřevěné stoličce. Naproti tobě sedí jakýsi obtloustlý muž a míchá na stole třemi dřevěnými kelímky. &lt;&lt;linkreplace &quot;Sleduješ ho...&quot;&gt;&gt;Sleduješ ho...
    
    Ty tušíš, že švindluje a žádná kulička pod kelímky není... Ty však svíráš v ruce svou &lt;&lt;linkreplace &quot;kuličku...&quot;&gt;&gt;kuličku...
      
      Táta tě sice mockrát varoval, ať se vyhneš glemblení (nebo jak se to jmenuje), ale táta tu s tebou &lt;&lt;linkreplace &quot;není...&quot;&gt;&gt;není...
        
        &lt;&lt;linkreplace &quot;není...&quot;&gt;&gt;
        
          počkat [[co to...?|co to 2]]
         &lt;&lt;/linkreplace&gt;&gt;
      &lt;&lt;/linkreplace&gt;&gt;
    &lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;&lt;&lt;cacheaudio &quot;sen&quot; &quot;music/sen.mp3&quot;&gt;&gt;&lt;&lt;audio sen play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="336" name="Ses rozběhla ke schodům" tags="korektura" position="4025,325" size="100,100">Rozběhla ses ke schodům, znovu se ti ale zamotala hlava, a tak ses zapotácela a opřela se o zábradlí schodiště, abys to rozdýchala. Pekař se mezitím ztěžka postavil na nohy a rozběhl se za tebou! &quot;Hééj! Ty malá mrcho!&quot;
Okamžitě jsi vběhla na schodiště a dala se po něm dolů. Slyšíš, jak tě za zády pronásleduje dusot jeho nohou. Seběhla jsi až dolů a...

[[Vyběhnout ven]]
[[Zkusit prolézt oknem za pultem]]</tw-passagedata><tw-passagedata pid="337" name="Setrvat na místě" tags="korektura" position="3375,1525" size="100,100">Jsi přikovaná na místě a tiše sleduješ, co se děje. Pekař se otočil a velice vulgárně zaklel. Sehnul se, aby sezbíral střepy a... Zrak mu sklouzl až pod pult, kde se zastavil na tvé choulící se postavičce. &quot;Co tady jako děláš?!&quot;

[[Dát se na útěk]]
&lt;&lt;if $jablko eq 1&gt;&gt;[[Hodit mu do obličeje jablkem]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="338" name="Setrvat pod pultem 2" tags="korektura" position="3425,1025" size="100,100">//Radši si to tu trochu prohlídnu.//
Prodavačka je dobré čtyři metry od tebe po tvé levici. Vidíš její nohy. Pod pultem je prach a... helemese! Na polici pod pultem se kousek od tebe válí stará zapomenutá sušenka. Šup s ní do kapsy.
__//Získala si sušenku//__
Dál tu je ten dlouhý kuchyňský stůl uprostřed místnosti. U něj stojí tři kuchařky a jsou plně ponořeny do práce... Nebo tak alespoň vypadají. Samotné okno je ve výšce asi metru a půl nad zemí. Pod ním stojí poličky (které by mohly posloužit jako dobrý žebřík) a pak malá linka na odkládání horkých plechů, aby vychladly. Teď tam naštěstí žádný není a pekař si tam teď nabírá plnou náruč chlebů. Pak se ještě zaposloucháš a uslyšíš, že před pultem ještě stále stojí ta otřesná ženská a je ti jasné, že bude mít od pultu na okno perfektní výhled... Teď tě trochu zamrazilo, protože se pekař otočil a vyrazil od okna směrem k tobě. Naštěstí v ruce drží velký pekáč, takže tě nemá šanci vidět. Prošel kolem tebe vrátky a teď je cesta k oknu volná!

[[Vyrazit]]

&lt;&lt;set $sušenka = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="339" name="Setrvat pod pultem a porozhlédnout se." tags="korektura" position="3150,1150" size="100,100">//Radši si to tu nejdřív prohlídnu.//
Prodavačka je dobré čtyři metry od tebe po tvé levici. Vidíš její nohy. 
Pod pultem prach a... helemese! Na polici se kousek od tebe válí stará zapomenutá sušenka. Šup s ní do kapsy.

__//Získala jsi sušenku//__

Dál tu je ten dlouhý kuchyňský stůl uprostřed místnosti. U něj stojí tři kuchařky a jsou plně ponořeny do práce... Nebo tak alespoň vypadají. Samotné okno je ve výšce asi metru a půl nad zemí. Před ním stojí poličky (které by mohly posloužit jako dobrý žebřík) a pak malá linka na odkládání horkých plechů, aby vychladly. Teď tam naštěstí žádný není. Pak se zaposloucháš a zjistíš, že před pultem ještě stále stojí ta otřesná ženská. Je ti jasné, že bude mít od pultu na okno perfektní výhled... Už už chceš vyrazit, že by jsi se alespoň posunula o kus dál a schovala se za kuchyňskou linku, když tu si málem učůrneš, když se hned u tebe znovu rozrazí dvířka a pekař vejde nazpět do kuchyně!
Bohužel to, že jsi tu čekala, mělo za následek, že se stihl vrátit.
&lt;&lt;if $patro eq 0&gt;&gt;Kdybys před tím už nevyužila šance jít po schůdcích nahoru, mohla bys teď utéct. Takto ti však zbývá jen jedna možnost...&lt;&lt;/if&gt;&gt;
[[Zůstat schovaná pod pultem]]
&lt;&lt;if $patro eq 1&gt;&gt;[[Rychle vyběhnout nazpět před pult]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $sušenka = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="340" name="Si ho strčíš do kapsy" tags="" position="1125,625" size="100,100">&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;Kapitola I. byla dokončena.&lt;/b&gt;&lt;/span&gt;

Tvá rozhodnutí byla zaznamenána.




Získané předměty:
__//Prstýnek//__
&lt;&lt;if $money eq 1&gt;&gt; __//1 Penízek//__ &lt;&lt;/if&gt;&gt;
&lt;&lt;if $bonbon is true&gt;&gt; __//Sladkost z dalekých krajin//__ &lt;&lt;/if&gt;&gt;
//Udička zůstává na lodi.//
&lt;&lt;set $neukazalaprsten to true&gt;&gt;
&lt;&lt;set $ukazalaprsten to false&gt;&gt;

&lt;b&gt;[[Započít druhou kapitolu]]&lt;/b&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;

&lt;&lt;set $udička = 0&gt;&gt;
&lt;&lt;set $prstýnek to true&gt;&gt;</tw-passagedata><tw-passagedata pid="341" name="Skočila na podlahu balkónu" tags="korektura Smrt-ok Změna-hudby" position="5100,775" size="100,100">Skočila na podlahu balkónu a dopadla bosýma nohama do hromady střepů. Zařvala jsi bolestí. Ve stejnou chvíli na tebe zevnitř zařval i pekař, rozlíceně stojící uprostřed místnosti: &quot;HEJ! Co tam děláš?!&quot;  
V naprosté panice a agónii neskutečné bolesti se potácivě vyšplháš na zábradlí. Všechno máš rozmazané slzami. Snažíš se zaostřit, kam bys mohla skočit a v příští sekundě ztrácíš balanc a padáš dolů. Spadla jsi krkem přesně na hranu velkého sudu s děšťovou vodou a posledním zvukem, cos uslyšela, bylo hlasité rupnutí, když ti praskla krční páteř. &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;, tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt;, tobě povědomá [[...TMA...|...TMA...3]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $zlomenykrk to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="342" name="Skočit do slámy" tags="korektura" position="2125,650" size="100,100">Chvilku váháš. Je to přeci jen velká výška... Nohy se ti trochu klepou a žaludek svírá.
Pak ale přišel ten rozhodný okamžik a ty jsi [[skočila!]]</tw-passagedata><tw-passagedata pid="343" name="Skočit na podlahu balkónu" tags="korektura Smrt-ok Změna-hudby" position="5100,925" size="100,100">Skočila jsi na podlahu balkónu a dopadla bosýma nohama do hromady střepů. Zařvala jsi bolestí. Mezitím už ke dveřím přiběhl pekař a zuřivě strká klíč do zámku.
V naprosté panice a agónii neskutečné bolesti se potácivě vyšplháš na zábradlí. Všechno máš rozmazané slzami. Snažíš se zaostřit, kam bys mohla skočit, v příští sekundě ztrácíš balanc a padáš dolů. Spadla jsi krkem přesně na hranu velkého sudu s dešťovou vodou a posledním zvukem, cos uslyšela, bylo hlasité rupnutí, když ti praskla krční páteř. &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;, tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt;, tobě povědomá [[...TMA...|...TMA...3]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $zlomenykrk2 to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="344" name="Skočit střemhlav vpřed" tags="korektura" position="2075,200" size="100,100">Vystřelila jsi jak šíp z tětivy a střemhlav vyskočila z pod vozu. V další vteřině tě celou zavalila hromada smrdutého hnoje. 
Hrabeš se ven a pliveš všude kolem sebe. &quot;Fůj! Fůůj!&quot; Křičíš a snažíš se ze sebe setřít smradlavý nános. &quot;To néé!&quot; 
Už je však pozdě. Nedá se nic dělat, a tak jsi se naposledy naštvaně oklepala a [[znovu se rozběhla ulicí.]]

__//+1 Bod zpomalení//__

&lt;&lt;set $zpomaleni += 1&gt;&gt;
&lt;&lt;set $hnůj = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="345" name="Skrz pekárnu" tags="korektura Změna-hudby" position="2700,275" size="100,100">//Přes pekárnu to bude rychlejší,// prolítne ti hlavou a zamíříš k jejím dveřím. V nich je však slušná tlačenice...

[[Procpat se]]
[[Zkusit se prosmyknout mezi nohama lidí]]
[[Poprosit člověka ve dveřích, aby tě pustil]]

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;pekarna&quot; &quot;music/pekarna.mp3&quot;&gt;&gt;&lt;&lt;audio pekarna play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="346" name="Skrčit se za pytly" tags="korektura" position="3750,900" size="100,100">Přiskočila jsi k velkým pytlům mouky stojícím u zdi. Je za nimi tak akorát místo, aby ses tam schovala. Přelezlas je a rychle se přikrčila. Tiše setrváváš v očekávání, [[co se bude dít...|co se bude dít...2]]</tw-passagedata><tw-passagedata pid="347" name="Sloup" tags="korektura Změna-hudby Opět-naživu" position="4650,1975" size="100,100">&lt;&lt;if $klicepekarna is false&gt;&gt;Slezení po sloupu zní jako dobrý plán.
Přeběhla jsi k rohu terasy a přelezla zábradlí. Opatrně ses spustila až ke sloupu, obepnula jej nohama a v momentě, kdy už se chystáš zábradlí pustit... tě za tvou ruku chňapla macatá pracka hospodyňky. &quot;A mám tě! Nikam nezdrhneš, ty smrade!&quot; A s čím dál víc brunátnějícím obličejem tě táhne zpátky nahoru! Všechna ta zlost k její osobě v tobě vystoupá do nebes a tak se přitáhneš a:
[[Kousneš ji ruky|Kousneš do ruky sloup]]
[[Plivneš jí obličeje|Plivneš do obličeje sloup]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $klicepekarna is true&gt;&gt;Slezení po sloupu zní jako dobrý plán.
Přešla jsi k rohu terasy a přelezla zábradlí. Opatrně ses spustila až k sloupy, obepnula jej nohama, slezla o trochu níž, pustila se terasy a už se pomalu kloužeš po hladkém dřevě dolů. Jen se brzdíš nohama. Šlo to tak hladce, až jsi to ani nečekala. Ani ses nenadála a v dalším okamžiku už stojíš [[nohama na zemi.]] &lt;&lt;/if&gt;&gt;
&lt;&lt;set $baaba to true&gt;&gt;

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;terasa&quot; &quot;music/terasa.mp3&quot;&gt;&gt;&lt;&lt;audio terasa play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="348" name="Slézt po zdi domu" tags="korektura" position="2000,575" size="100,100">Slezeš k nejnižšímu bodu střechy a svěsíš nohy přes okraj. Ouha... nožkama nedokážeš nahmatat žádný záchytný bod. Chvíli jimi ještě tak bezmocně mácháš ve vzduchu a pak vylezeš nazpět. Tohle bohužel nepůjde... Nezbývá, než skočit do kupky.

__//+1 Bod zpomalení//__

[[Skočit do slámy]]

&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="349" name="Slézt z vozu dolů" tags="korektura" position="1975,2100" size="100,100">&quot;Tady už budeš muset pěšky,&quot; oznámí ti farmář a s heknutím seskočí z vozu dolů, obejde ho a podává ti ruku. Vděčně jsi pomoc přijala a opatrně slezla. 

[[Poděkovat]]
[[Mlčky odejít]]</tw-passagedata><tw-passagedata pid="350" name="Správný klíč" tags="korektura" position="4300,425" size="100,100">Vybrala jsi dlouhý zlatavý klíč a přiložila ho ke klíčové dírce. Je to on! Vítězoslavně jsi jím otočila a v zámku to jemně cvaklo. Dveře na balkón se otevřely. 
Ovanul tě slabý větřík a ty jsi na balkón vkročila. Jak se ale teď dostat dolů? 
Za tebou se ozvalo zasténání... Vyplašeně se ohlédneš a vidíš, jak se pekař díky čerstvému vánku probral a chytil se za čelo. Musíš jednat rychle! Naklonila ses přes okraj dřevěného zábradlí a podívala se na terasu. Jediná varianta, kterou vidíš, je velký sud s dešťovou vodou hned zprava pod balkónem... Je to sice celkem výška, ale ty už pěkně dlouho skáčeš do moře z útesů, takže to pro tebe není žádná velká výzva. Nadechneš se - nohy se ti přeci jen malinko třesou - [[a skočíš]]</tw-passagedata><tw-passagedata pid="351" name="Staré štokrle" tags="korektura" position="4525,875" size="100,100">Přiběhneš ke štokrleti, se zavrzáním ho zdvihneš ze země a doběhneš s ním nazpět k oknu.

[[Hodit ho do okna]]
[[Držet ho a udeřit jím do okna]]</tw-passagedata><tw-passagedata pid="352" name="StoryCaption" tags="" position="0,150" size="100,100">&lt;h1&gt;$kapitola&lt;/h1&gt;\
 &lt;&lt;if $inventar &gt;&gt;
&lt;b&gt;Inventář:&lt;/b&gt;
 &lt;&lt;if $udička eq 1 &gt;&gt;Udička
 &lt;&lt;/if&gt;&gt;\
 &lt;&lt;if $jablko eq 1&gt;&gt;Jablko
 &lt;&lt;/if&gt;&gt;\
 &lt;&lt;if $money eq 1&gt;&gt;Penízek
 &lt;&lt;/if&gt;&gt;\
 &lt;&lt;if $money eq 2&gt;&gt;2 penízky
 &lt;&lt;/if&gt;&gt;\
 &lt;&lt;if $money eq 3&gt;&gt;3 penízky
 &lt;&lt;/if&gt;&gt;\
 &lt;&lt;if $money eq 4&gt;&gt;4 penízky
 &lt;&lt;/if&gt;&gt;\
 &lt;&lt;if $sušenka eq 1&gt;&gt;Sušenka
 &lt;&lt;/if&gt;&gt;\
 &lt;&lt;if $bonbon is true&gt;&gt;Bonbón
 &lt;&lt;/if&gt;&gt;\
 &lt;&lt;if $prstýnek is true&gt;&gt;Prstýnek
 &lt;&lt;/if&gt;&gt;\
 
 
&lt;&lt;button &quot;Restartovat hru&quot;&gt;&gt;&lt;&lt;run Engine.restart()&gt;&gt;&lt;&lt;/button&gt;&gt;
&lt;&lt;/if&gt;&gt;


</tw-passagedata><tw-passagedata pid="353" name="StoryInit" tags="" position="100,0" size="100,100">&lt;&lt;set $vyvoj to true&gt;&gt;&lt;&lt;set $kapitola = &quot;Na vlnách&quot;&gt;&gt;&lt;&lt;set $inventar to false &gt;&gt;\

/*
&lt;center&gt;&lt;h1&gt;Na vlnách&lt;/h1&gt;

  &lt;&lt;button [[Začít hru|Kapitola I.]]&gt;&gt;&lt;&lt;/button&gt;&gt;

  &lt;&lt;button [[Ocenění]]&gt;&gt;&lt;&lt;/button&gt;&gt;&lt;/center&gt;
*/

&lt;&lt;set $musicPlaying to false&gt;&gt;</tw-passagedata><tw-passagedata pid="354" name="Sudy" tags="korektura" position="3200,5125" size="100,100">Přiběhla jsi k řadám sudů a rychle se za jednu přikrčila. &lt;&lt;if $zpomaleni lte 3&gt;&gt;Chvíli tam sedíš a čekáš, když se dveře kadibudky znovu otevřely.&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4&gt;&gt;Čekáš jen malou chvíli, než se dveře kadibudky znovu otevřely.&lt;&lt;/if&gt;&gt; Nenápadně jsi vykoukla a vidíš, jak si to zloděj kráčí skrz bránu na molo. Počkala jsi, než bude bezpečná vzdálenost a potom ses plíživým krokem vydala za ním. Doplížila ses k otevřené, zdobně vyřezávané bráně a zpoza ní &lt;&lt;linkreplace &quot;vykoukla.&quot;&gt;&gt;vykoukla.
Před branou stojí na malém kousku půdy ještě několik sudů a potom už začíná dlouhé molo, po kterém teď zloděj kráčí a míří k té velké lodi. //Co teď udělat?// &lt;&lt;linkreplace &quot;zvažuješ...&quot;&gt;&gt;zvažuješ...
Z úvah tě však vytrhlo hlasité otevření dveří z hospody. Ve vteřině jsi uskočila za bránu, aby tě neviděli. Ven vyšli - nejspíše - dva námořníci a o nečem se hlasitě baví. Soudě dle toho, jak se hlasy rychle blíží, máš jen pár vteřin na to se schovat. Rozhlédneš se a jediné, co tu vidíš jako možnost úkrytu jsou sudy. Dva ze tří jsou dokonce otevřené...


[[Schovat se do sudu]]
[[Schovat se za sudy]]
&lt;&lt;/linkreplace&gt;&gt;
 &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="355" name="Tajně a ostražitě vylézt a podívat se" tags="korektura" position="4475,4375" size="100,100">Potřebuješ to vědět! A tak jsi pomaličku a potichoučku vylezla z pod stolu, proplížila se o kousek dál a vynořila hlavu mezi židlemi. Námořník se právě rozhlíží po místnosti a tvé jediné štěstí, že mu výhled na tebe zastoupil nějaký opilec. Vyhlížíš a potom ho konečně uvidíš! Zloděj právě došel k sotva znatelným dveřím na konci místnosti vzadu a zmizel jimi pryč.

[[Proplížit se ke dveřím]]</tw-passagedata><tw-passagedata pid="356" name="Tajně a ostražitě vylézt a podívat se námořník" tags="korektura" position="5175,4375" size="100,100">Pomaličku a potichoučku jsi vylezla z pod stolu, proplížila se o kousek dál a vynořila hlavu mezi židlemi. Námořník se právě rozhlíží po místnosti a tvé jediné štěstí, že mu výhled na tebe zastoupil nějaký opilec. Ještě chvilku tam stojí a vyhlíží. Potom se zamračil ještě víc a vyrazil kolem baru až do zadní části místnosti. Tam chytil za kliku dveří, kterých by sis bez toho možná ani nevšimla -natolik splývají se stěnou- a zmizel kamsi pryč.
Nu... co teď? 

[[Jít dveřmi v zadní části lokálu]]
[[Projít se mezi stolky|Projít se mezi stolky 2]]</tw-passagedata><tw-passagedata pid="357" name="Takže my jsme někdy byli ryby?" tags="" position="125,1000" size="100,100">&quot;Takže my jsme taky někdy byli ryby?&quot; zeptáš se s grimasou usilovného přemýšlení.
&quot;Bez pochyb,&quot; odvětí táta, zatímco vybírá rybě vnitřnosti a hází je přes palubu.

[[A ty si to pamatuješ?]]
[[A jak dlouho už ty ryby lovíš?|A jak dlouho už rybaříš?]]</tw-passagedata><tw-passagedata pid="358" name="Teď nebo nikdy!" tags="korektura" position="3400,1650" size="100,100">Vyrazíš k oknu. Obloukem jsi minula pekaře, který se malátně zvedá za doprovodu cinkání střepů ze země, a doběhla jsi k oknu.
To je ve výšce asi metr a půl nad zemí. Pod ním stojí poličky (které by mohly posloužit jako dobrý žebřík) a pak malá linka na odkládání horkých plechů, aby vychladly. Teď tam naštěstí žádný není. 
Chytíš se polic a rychle po nich &lt;&lt;linkreplace &quot;šplháš nahoru&quot;&gt;&gt;šplháš nahoru.
Opřela ses lokty o desku nad tebou a přitáhla se. Vylezla jsi na ni. Ještě krásně hřeje, jak na ní před nedávnem stály čerstvé chleby a ruce máš teď až po lokty celé zamazané od mouky. Okno je přímo před tebou, když tu uslyšíš kdesi za zády vřískot: &quot;Co tam dělá ten nevděčný spratek?!&quot; Otočíš se a vidíš, jak na tebe přes pult rozhněvaně shlíží ta tlustá ženská a ukazuje na tebe svým macatým prstem. Všichni přítomní se na tebe otočili. Srdce se ti zběsile rozbušilo a okamžitě jsi oknem [[skočila ven.]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $těsně to true&gt;&gt;</tw-passagedata><tw-passagedata pid="359" name="Tiše ležet" tags="korektura" position="3950,1200" size="100,100">Tiše ležíš na dně nůše a čekáš, co se bude dít. Pak se ti úplně zhoupne žaludek, když uvidíš, že osoba přistoupila až nad tvůj úkryt. Byl to pekař, který tě však přes plnou náruč bochníků vůbec neviděl. &lt;&lt;linkreplace &quot;A pak...&quot;&gt;&gt;A pak...
Tě zasypala hromada bochníků. Tvůj výkřik byl ihned utnut jedním obzvlášť objemným kouskem, který ti spadl přímo do obličeje&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;...
...Malátně ležíš přimáčknutá na dně nůše a cítíš, že ti z nosu teče teplý pramínek krve. Muž si - soudě podle tleskání - oprášil ruce a pak už je slyšet vzdalující se dusání nohou, až nakonec zmizelo po schodech dolů a znovu [[zavládlo ticho.]]
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="360" name="Tiše s ním hledět do dálky." tags="" position="325,1225" size="100,100">Oba dva spolu sedíte a mlčky koukáte do dálky. Mračna se pomalu převalují po nebi a připomínají obrovské koráby... Loďka se ve vlnách jemně pohupuje a je slyšet skřehot racků někde vysoko nad vašimi hlavami. Moc pěkná chvilka. Máš však na jazyku ještě něco...

[[Měl jsi nějaký svůj podpis?]]
&lt;&lt;if $malovani eq 0&gt;&gt;[[A maluješ ještě občas?]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="361" name="Tiše vyčkávat" tags="korektura" position="4000,750" size="100,100">Ležíš u země a modlíš se, aby tě nenašel. Kroky se blíží víc a víc...

[[Dál nehybně ležet]]
[[Vyskočit zpoza pytlů]]
[[Vykouknout|Vykouknout 2]]</tw-passagedata><tw-passagedata pid="362" name="Tiše vyčkávat 2" tags="korektura" position="3700,625" size="100,100">Nehybně stojíš a modlíš se, aby tě nenašel. Kroky se blíží ví a víc...

[[Dál nehybně stát]]
[[Vyskočit zpoza závěsu]]
[[Vykouknout|Vykouknout 3]]</tw-passagedata><tw-passagedata pid="363" name="Tiše čekat" tags="korektura" position="3900,5850" size="100,100">Tiše sedíš, zhluboka oddechuješ a napjatě čekáš, co se bude dít. V příští vteřině se i ten poslední otvor uzavřel masivní zátkou. Všechny zvuky z venčí ztichly a ocitla ses v naprosté tmě...
To tě vystrašilo natolik, že jsi začala pěstmi bušit do stěn, sud je však zjevně velmi pevný a jeho zdi tlusté. Po nějaké chvíli najednou cítíš, jak se sud začal hýbat. Zapřela ses o stěny a snažíš se držet balanc. Sudem to kymácí ze strany na stranu a potom se náhle překlopil na bok. Spadla jsi a válíš se mezi tvrdými balíky. Hned na to však sud někdo začal kutálet po molu a ty teď uvnitř nadskakuješ a motáš se dokolečka. Jeden balík vyjel po stěně nahoru a když se náhle bečka zastavil, plnou vahou ti spadl na hlavu a ty jsi [[ztratila vědomí...]]</tw-passagedata><tw-passagedata pid="364" name="To je tajné" tags="korektura" position="4175,3675" size="100,100">&quot;Omlouvám se, ale to nemůžu říct... je to tajné.&quot;
Námořník se uchechtne &quot;Tak to jó... tak to ať to zůstane klíďo tajný, ale před dveřma! Jesli chceš dovnitř, tak hezky vyklop, komu deš bonzovat, nebo vodpal!&quot;

[[Kapitánovi]]
[[Pánovi, co vlastní hostinec]]</tw-passagedata><tw-passagedata pid="365" name="Trefit alespoň jednoho" tags="korektura" position="3075,1475" size="100,100">//Však já aspoň jednoho dostanu!// 
Kterého?

[[Mohutnějšího napravo]]
[[Čahouna nalevo]]</tw-passagedata><tw-passagedata pid="366" name="Trhni si" tags="korektura" position="2700,850" size="100,100">&quot;Víš co, trhni si!&quot; Křikneš na něj nazpět a otočíš se k odchodu. Teď ti spadlo srdce až do žaludku, protože v uličce teď stojí jeho další dva kamarádíčci, kteří ti s úšklebkm zastoupili cestu. &quot;Jak to se mnou mluvíš, ty špindíro?!&quot; 
Vzduchem cosi zasvištělo a v zápětí se ozvalo: *PLESK!* Shnilé jabko se ti rozprsklo po zátylku. To tě rozzuřilo. Není to poprvé, co ti něco podobného udělal, ale teď je to ta nejnevhodnější chvíle.
Musíš nějak jednat, a to rychle! Obhlédla jsi situaci a vidíš tu několik možností. Z kupy krabic, na kterých kluk stojí, trčí jakási tyč, kterou by se dalo použít k obraně. Taky bys mohla popadnout jednu dřevěnou krabici a rozběhnout se s ní proti klukům v cestě. Pak už se dá jen otočit se na patě a pelášit zpátky nahoru. Co zvolíš?

[[Tyč]]
[[Krabice]]
[[Běžet zpátky]]</tw-passagedata><tw-passagedata pid="367" name="Trámek" tags="korektura" position="3975,2425" size="100,100">Přiběhla jsi k zábradlí schodiště a popadla masivní trámek do rukou. Je opravdu těžký a vcelku špatně se ti s ním chodí. Dotáhla jsi jej až ke dveřím a na chvíli ho položila, aby sis vydechla. &quot;Fůů... To je pěknej macek...&quot; Zabručíš.
Pak ho zdvihneš a plnou silou s ním udeříš do naběračky...

[[Z leva|Z leva trámek]]
[[Z prava|Z prava trámek]]</tw-passagedata><tw-passagedata pid="368" name="Tyč" tags="korektura" position="2825,1000" size="100,100">//Tak jo... buď statečná!// řekneš si a přiskočíš ke kupě krabic. Tyč trčí šikmo nahoru ze spodní krabice ven a shora je přimáčklá dalšími krabicemi. Dá se proto použít jako páka, aby krabice spadly... ale také ji můžeš vytáhnout a rovnou použít. 
&quot;Héj, co si myslíš, že děláš?!&quot; Křičí na tebe mezitím kluk shora.

[[Vytáhnout tyč a bránit se]]
[[Použít ji jako páku a shodit hromadu krabic i s klukem]]</tw-passagedata><tw-passagedata pid="369" name="Udeřit s ní do okna" tags="korektura" position="4800,1100" size="100,100">Přistoupila jsi blíž, pevně ji stiskla a plnou silou, které jsi jen byla schopna, jsi s ní práskla do už naprasklé tabule skla. Ta se s hlasitým tříštěním rozpadla na kusy. Velké střepy dopadly na podlahu a rozpadly se na tisíce kousků, které se rozlétly všude. Takový hluk tě samotnou vyděsil. Kroky zezdola zrychlily a každou chvíli tu někdo bude! Sklepala jsi ze sebe úlomky, co ti utkvěly ve vlasech a na oblečení.
Už bys ráda prolezla oknem, ale ještě hodně střepů trčí přímo z rámu. Zbývá posledních pár vteřin...
Naštěstí máš ještě naběračku v ruce, a tak jsi ji znovu pozdvihla a začala skleněné trny vytloukat. V tu chvíli, kdy už to vypadá nadějně, se za tebou hlasitě ozvalo: &quot;Héj! Co tam sakra děláš?!&quot; Vyplašeně se otočíš a uvidíš rozlíceného pekaře, stojícího v místnosti jen pár metrů od tebe. V panice se chytneš rámu a v mžiku na něj vylezeš...

[[Přeskočit na dřevěné zábradlí balkónu]]
[[Skočit na podlahu balkónu]]</tw-passagedata><tw-passagedata pid="370" name="Udělat z něj kouli a tu hodit" tags="korektura" position="5000,1575" size="100,100">Udělala jsi rychle z řetězu nesourodou kouli, napřáhla se a plnou silou jím do skleněné tabule hodila. Avšak... řetěz se v letu rozmotal a při dopadu už neměl takovou sílu. Okno sice už prasklo doopravdy a na zem teď hlučně padají veliké střepy, avšak výsledná díra není moc velká a je celkem vysoko... Dusání kroků zrychlilo a každou chvíli tu někdo bude!

[[Vzít štokrle a zkusit dírou prolézt]]
[[Ukrýt se]]</tw-passagedata><tw-passagedata pid="371" name="Ukrást něco ze stánku" tags="korektura" position="3175,3250" size="100,100">Máma sice vždycky říkala, že kradou jenom blbci, ale jelikož ty rozhodně blbec nejsi, asi se to jako krádeš ani nedá počítat!
Přišla jsi k nejbližšímu stánku, kde jsou vyskládané hlávky zelí na výstavní polici před pultem a na pultu leží velká hromada řepy. Řepa je blíž prodejci, ale není těžká, naopak zelí jsou tu pořádné hlávky a sice nejsou tak pod dohledem, ale nebudou nejlehčí...

[[Řepa]]
[[Zelí]]

&lt;&lt;set $zlodejicek to true&gt;&gt;</tw-passagedata><tw-passagedata pid="372" name="Ukrýt se" tags="korektura Změna-hudby Opět-naživu" position="5125,1600" size="100,100">//Musím se rychle schovat!// 
Ale kam?

[[Za závěs|Schovat se za závěs]]
[[Za pytle|Schovat se za pytle]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="373" name="Uposlechnout" tags="korektura" position="3625,5275" size="100,100">Vzdor přemohl strach o tvůj holý život a tak ses pomaličku otočila zády k němu a dala ruce za sebe. &quot;Tak je to správně&quot; pochválil tě a pevně ti je svázal až se ti provaz zařezává do kůže. Chvíli se nic neděje a ty jen ustrašeně stojíš a čekáš... A pak ti přistála rukojetí bambitky rána do zátylku až jsi [[padla k zemi v bezvědomí.|ztratila vědomí.]]</tw-passagedata><tw-passagedata pid="374" name="Uposlechnout 2" tags="korektura" position="3075,5400" size="100,100">Vzdor přemohl strach o tvůj holý život a tak jsi vyšla zpoza kadibudky, pomaličku se otočila zády k němu a dala ruce za sebe. &quot;Tak je to správně&quot; pochválil tě a pevně ti je svázal až se ti provaz zařezává do kůže. Chvíli se nic neděje a ty jen ustrašeně stojíš a čekáš... A pak ti přistála rukojetí bambitky rána do zátylku až si v sekundě [[padla k zemi v bezvědomí.|ztratila vědomí.]]</tw-passagedata><tw-passagedata pid="375" name="Uposlechnout 3" tags="korektura" position="3075,4350" size="100,100">Vzdor přemohl strach o tvůj holý život a tak ses pomaličku otočila zády k němu a dala ruce za sebe. Muž došel k tobě a kopnutím tě povalil na zem, až ti vyrazil dech. Lapáš po dechu a nemůžeš se pořádně nadechnout. Násilím ti zalomil ruce za záda a pevně je zavázal provazem, který se ti zařezává do kůže. Svíjíš se jako přišlápnutý had a obličej máš v prachu. Zloděj tě zaklekl a v okamžiku, kdy jsi chraplavě popadla dech a chtěla vykřiknout, zavrčel ti do ucha: &quot;Já ti dám, napadnout pirátského důstojníka!&quot; a v příští vteřině ti přistála rukojetí bambitky taková rána do zátylku že jsi okamžitě [[ztratila vědomí.]]</tw-passagedata><tw-passagedata pid="376" name="Uskočit" tags="korektura" position="2775,1525" size="100,100">Uskočila jsi dozadu a ruka mu naprázdno chňapla do vzduchu. V ten okamžik slyšíš, jak za tebou kdosi seskočil na dlažbu. &quot;Tak ty takhle, špindíro, jó?!&quot; Slyšíš přibližující se hlas.
Žaludek se ti zahoupal... V ruce však ještě stále svíráš krabici.

[[Rozmáchnout se s ní za sebe]]
[[Prásknout po hlavě kluka na zemi a rozběhnout se ulicí dolů]]
[[Pustit krabici a rozěbhnout se dolů bez dalšího násilí]]</tw-passagedata><tw-passagedata pid="377" name="Uskočit na stranu a dát se na útěk" tags="korektura Smrt-ok Změna-hudby" position="3400,5175" size="100,100">Sebralas všechnu odvahu a střemhlav skočila nabok. Vzduchem se ozvalo hlasité *PRÁSK!* a ty jsi dopadla na zem. Tak úplně nechápeš, co se to právě stalo... Zmateně se rozhlížíš kolem... Potom se však podíváš na svou hruď. V šatičkách máš díru a látka se začíná rychle barvit do sytě rudé. Projde tebou nepopsatelný třas a hlava se ti začíná motat. Po tvářích ti začaly téct slzy a snažíš se v panice nějak rukama zastavit krvácející ránu. &quot;Néé... néé... To né...&quot; vzlykáš a mezi prsty, kterými se snažíš bezmocně zacpat ránu, ti protéká horká krev. Obličej ti zbělal jako vápenná stěna. Všechno kolem se začíná mlžit a už nemáš dost sil na to, abys držela ruce na hrudi. Končetiny ti ochably a občas sebou malátně škubnou. Palčivá bolest v hrudníku pomaličku ustupuje a přichází &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...|...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt;tobě povědomá [[...TMA...|...TMA...3]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 3&gt;&gt;tobě dobře povědomé [[...TMA...|...TMA...4]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 4&gt;&gt;tobě velmi dobře povědomá [[...TMA...|...TMA...5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $zastrelena to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="378" name="Uskočit na stranu a dát se na útěk 2" tags="korektura Smrt-ok Změna-hudby" position="2800,4525" size="100,100">Sebralas všechnu odvahu a střemhlav skočila nabok. Vzduchem se ozvalo hlasité *PRÁSK!* a ty jsi dopadla na zem. Tak úplně nechápeš, co se to právě stalo... Zmateně se rozhlížíš kolem... Potom se však podíváš na svou hruď. V šatičkách máš díru a látka se začíná rychle barvit do sytě ruda. Projde tebou nepopsatelný třas a hlava se ti začíná motat. Po tvářích ti stékají slzy a snažíš se v panice nějak rukama zastavit krvácející ránu. &quot;Néé... néé... To né...&quot; vzlykáš a mezi prsty, kterými se snažíš bezmocně zacpat ránu, ti protéká horká krev. Obličej ti zbělal jako vápenná stěna. Všechno kolem se začíná mlžit a už nemáš dost sil na to, abys držela ruce na hrudi. Končetiny ti ochably a občas sebou malátně škubnou. Palčivá bolest v hrudníku pomaličku ustupuje a přichází &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...|...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt;tobě povědomá [[...TMA...|...TMA...3]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 3&gt;&gt;tobě dobře povědomé [[...TMA...|...TMA...4]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 4&gt;&gt;tobě velmi dobře povědomá [[...TMA...|...TMA...5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $zastrelena2 to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="379" name="Uskočit na stranu a dát se na útěk smrt" tags="korektura" position="2725,4400" size="100,100">Už se chystáš k úskoku na stranu, když se svět kolem tebe zavlnil, všechny barvy vybledly a najednou vidíš samu sebe, jak se svíjíš v prachu na zemi s prostřelenou hrudí... Na tu nekonečnou chvíli je ti jasné, že by to znamenalo smrt... a tak jsi

[[Zůstala stát na místně]]</tw-passagedata><tw-passagedata pid="380" name="Uskočit na stranu a rozmáchnout se po něm železnou částí" tags="korektura" position="2575,2175" size="100,100">Uskočila jsi na stranu a zdviháš hrábě k opětovnému útoku, už je však pozdě. Za tu vteřinu, cos na to měla, jsi to bohužel nestihla. Pěst tě srazila k zemi a ty už víš, že tento [[boj jsi prohrála.]]</tw-passagedata><tw-passagedata pid="381" name="Uskočit za kadibudku" tags="korektura" position="3025,5275" size="100,100">Sebralas všechnu odvahu a rychle uskočila zpět za kadibudku. Vzduchem se ozvalo hlasité *PRÁSK!* a v plotě, v místě kde ještě před chvíli byla tvoje hlava je teď prostřelená díra, ze které se kouří. To tě vyděsilo skoro až k smrti a v uších ti zvoní.

[[Dá se na útěk]]
[[Už neutíkat]]</tw-passagedata><tw-passagedata pid="382" name="Utéct do zadních dveří" tags="korektura" position="4800,4375" size="100,100">Tryskem jsi prokličkovala mezi opilci kolem baru až úplně do zadní části místnosti ke dveřím&lt;&lt;if $baaba is true&gt;&gt; a u toho si pomyslíš, že už je to dnes podruhé, co tě nahání nějaká ženská, aby tě pokárala a vyvedla..&lt;&lt;/if&gt;&gt;. 

[[Nejprve do dveří nakouknout]]
[[Rovnou do nich vběhnout]]</tw-passagedata><tw-passagedata pid="383" name="Utíkat zpátky nahoru k pekárně" tags="korektura" position="2650,1125" size="100,100">Otočila ses a rozběhla zpátky do kopce. Bohužel je na to ale už dost pozdě, takže tě po pár sekundách kluci dostihli a surově tě chytli za ruce. &quot;Néé!&quot;
Křičíš a kopeš. Už je však pozdě. 

[[Byla jsi dostižena]]</tw-passagedata><tw-passagedata pid="384" name="Utíkat zpátky nahoru k pekárně náskok" tags="korektura" position="2200,1325" size="100,100">Rozběhla ses zpátky ulicí nahoru. //Že jsem jim ale dala co proto!// říkáš si se zadostiučiněním a blížíš se nazpět k pekárně. Tam ses ale zastavila. Naproti tobě právě ze zatáčky vyjel vůz naložený senem. Vpředu na něm sedí fousatý farmář. Když kolem tebe projíždí, hodil na tebe letmý pohled. Znuděně drží otěže staré muly, která vůz táhne. Ten na tržiště určitě dojede rychleji, než bys tam byla pěšky!

[[Poprosit ho, aby tě svezlPoprosit ho, aby tě svez náskok]]</tw-passagedata><tw-passagedata pid="385" name="Už neutíkat" tags="korektura" position="2975,5525" size="100,100">Stojíš na místě, srdce ti bije jako zvon a s hrůzou v očích sleduješ malý sloup kouře, který ještě stále stoupá z díry v plotě. //Kdybych byla jen o trochu pomalejší, měla bych teď prostřelenou hlavu...// běží ti v hlavě. To už se zpoza rohu vynořil zloděj s bambitkou a pokynul ti, ať jdeš k němu. Neschopna dalšího odporu jsi vyšla z úkrytu k němu.
&quot;Tak je to správně&quot; pochválil tě. &quot;Otoč se a dej ruce za záda.&quot; Učinila jsi tak a on ti je pevně svázal až se ti provaz zařezává do kůže. Chvíli se nic neděje a ty jen ustrašeně stojíš a čekáš... A pak ti přistála rukojetí bambitky rána do zátylku až jsi [[padla k zemi v bezvědomí.|ztratila vědomí.]]</tw-passagedata><tw-passagedata pid="386" name="Už vyrazit" tags="korektura" position="3825,2800" size="100,100">&quot;Já se moc omlouvám, ale už musím jít.&quot; Řekneš mu spěšně a než stihne cokoliv dalšího říct, vyběhneš kolem fontány směrem na [[cestu do přístavu.|Cesta do přístavu]]</tw-passagedata><tw-passagedata pid="387" name="Vejít" tags="korektura" position="4325,4400" size="100,100">Vešla jsi dovnitř.
Ojevila jsi se v malé chodbě. Dveře se za tebou se zavřely a zavládlo šero s ticho. Chodba je zakončená dveřmi&lt;&lt;if $zpomaleni lte 3&gt;&gt;, které se právě přibouchly&lt;&lt;/if&gt;&gt;. Po levé straně chodby je vstup na schodiště do patra. Po pravé straně naproti schodišti jsou menší oprýskané dveře a voní to odtamtud jídlem. Kudy dál?

[[Po schodech do patra]]
[[Oprýskanými dveřmi na pravo]]
[[Dveřmi na konci chodby]]

&lt;&lt;set $schodyhospoda to false&gt;&gt;</tw-passagedata><tw-passagedata pid="388" name="Vlastně ještě možná chvíli počkám..." tags="" position="875,650" size="100,100">[[Mluvit s tátou]]
&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="389" name="Vlézt do nůše" tags="korektura" position="3750,1025" size="100,100">Přiskočilas k velké prázdné nůši, vyškrábala se na ni a žuchla na dno. Kolem tebe se zvedl malý oblak rozvířené mouky. Schoulila ses na dně, jako velký bochník a tiše čekáš, [[co se bude dít...]]</tw-passagedata><tw-passagedata pid="390" name="Vniknout do pekárny" tags="korektura Změna-hudby" position="2825,575" size="100,100">Když nad tím teď tak přemýšlíš... Můžeš tam vlézt, zjistit jestli se tam někde neschovává a pokud ne, znamená to, že běžel kolem. Dalo by se teoreticky prolézt skrz až na teras, která je na druhé straně... A tam, když by ses vynasnažila a nějak by se ti podařilo slézt dolů... bys mohla získat pěkný náskok! Zní to ale docela ztřeštěně... Dá se určitě běžet i okolo pekárny v zlodějových šlépějích... //Jó, přes pekárnu to bude lepší.// Prolítne ti hlavou a zamíříš k jejím dveřím. V nich je však slušná tlačenice...

[[Procpat se]]
[[Zkusit se prosmyknout mezi nohama lidí]]
[[Poprosit člověka ve dveřích, aby tě pustil]]

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;pekarna&quot; &quot;music/pekarna.mp3&quot;&gt;&gt;&lt;&lt;audio pekarna play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="391" name="Vrhnout se do moře" tags="korektura" position="3900,5700" size="100,100">Střemhlav ses vrhla k okraji břehu připravená skočit do moře. Bohužel však má námořník až příliš rychlé reflexy a tak se hbitě nahnul přes bečku a stihl tě v poslední chvíli chytit za nohu. Dopadla si na zem a odřela si kolena. &quot;Ale kampak, kampak?&quot; ptá se námořník vysmívavě a táhne tě nazpět. &quot;Né! Pusťte mě! Hned mě pusťte!&quot; křičíš na celé kolo. V dalším křiku ti však naráz zabránila jeho mozolovitá ruka, která ti hrubě zavřela pusu, tak že skoro nemůžeš ani dýchat. Muž tě zvedl a dotáhl k druhému námořníkovi. &quot;Koukej co mám za úlovek!&quot; chlubí se mu. Kopeš a škrábeš.
&quot;Hej tak dost ty mrcho au! Hej pomoz mi s ní!&quot; Muž v šátku z kapsy pohotově vytáhl lano a s velkým úsilím ti vypáčil ruce za záda, kde ti je pevně svázal. &quot;Ták... Za tebe dostanem celej majlant!&quot; Zasměje se pak. &quot;Hele ale udělej s ní něco, vona se strašně cuká!&quot; A tak námořník v šátku vytáhl rezavý nůž a dal ti ho ke krku. &quot;A vopovaž se ještě škubnout nebo ceknout!&quot; Pohrozil ti a špička nože se ti dotkla kůže. Ztuhla si děsem neschopna pohybu. &quot;Ták je to správně&quot; Řekl a od někud vytáhl pytel, který ti přetáhl přes hlavu. V naprosté panice jsi hlasitě zakřičela a v tom tě udeřilo něco tvrdého do hlavy a ty jsi [[ztratila vědomí.]]</tw-passagedata><tw-passagedata pid="392" name="Vstoupit jim do řeči" tags="korektura" position="3125,2150" size="100,100">&quot;Takže se dneska zadařilo říkáte?&quot; Ptá se právě prodavačka a zkoumavě pohlédne na ručičku vah, která je ještě stále vychýlená. Muž se jí zrovna chystá odpovědět, když jsi jim do toho skočila. &quot;Paní prosím můžu se vás na něco zeptat?&quot; Muž i prodavačka se na tebe udiveně otočí. &quot;Pokud si něco přeješ, bež si laskavě stoupnout na konec fronty.&quot; Řekne prodavačka lehce popuzeným tónem.&quot;Nené já se jen chtěla zeptat, jestli jste tudy před chvílí někoho neviděla utíkat sem na trh a kam potom šel?&quot; Řekneš naléhavě. &quot;Já tu vídám lidí a lidí, bež prosímtě, nezdržuj.&quot; Odsekne ti a znovu se s úsměvem obrátí na pána. &quot;Takže co jste říkal? Jak že se vám dařilo?&quot;
Naštvaně se otočíš a vrátíš se k hlavní ulici. &quot;Bába jedna.&quot; Zakleješ si potichu a &lt;&lt;if $projitsemezistanky is true&gt;&gt;jelikož mezi stánky už jsi se prošla, zbývá jen jediné...&lt;&lt;/if&gt;&gt;

[[Vyrazíš ke kašně|Jít doprostřed ke kašně]]
&lt;&lt;if $projitsemezistanky is false&gt;&gt;[[Jdeš se projít mezi stánky|Projít se mezi stánky]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="393" name="Vstoupit na dvůr vyleze zloděj" tags="korektura" position="3500,5025" size="100,100">Otevřela jsi dveře dokořán a vstoupila na dvůr. V ten samý okamžik se otevřely dveře kadibudky naproti tobě. Stojí v nich zloděj, který si zrovna zapínal pásek. Teď ale zvedl oči a pohled mu utkvěl přímo na tobě. Ve vteřině hmátl k pasu a už na tebe míří bambitkou. „Ani se nehni, nebo tě prostřelím jak zajíce.“ řekne klidně, avšak velmi zvučně a kráčí k tobě. Srdce ti buší jako o závod a myslí ti prostupuje panika.

[[Uskočit na stranu a dát se na útěk]]
[[Zůstat stát na místě.]]</tw-passagedata><tw-passagedata pid="394" name="Vyběhnout" tags="korektura" position="3650,250" size="100,100">Vystartovala jsi zpoza závěsu a běda... pekař má široké a dlouhé ruce, které hned roztáhl jako síť a zavrčel: &quot;Mně neutečeš!&quot; 
Je od tebe sotva tři metry a s dalším krokem už na tebe dosáhne! 

[[Zakřičet a ukázat na něco za jeho zády]]
[[Rozběhnout se a podklouznout mu pod nohama]]</tw-passagedata><tw-passagedata pid="395" name="Vyběhnout je" tags="korektura" position="3700,4400" size="100,100">Vyběhla jsi po schodech nahoru a každý tvůj krok doprovází hlasité vrzání. Ocitla ses teď v druhém patře. Je tu chodba s několika dveřmi do hostinských pokojů a hned u schodů je po tvé levici velké okno, kterým dovnitř jednak proniká světlo a druhak zviditelňuje to množství prachu v ovzduší. Smrdí tu plíseň a staroba. Okno tě zaujalo, protože skrze něj jde vidět na soukromý dvorek za hospodou, kde jsi nikdy nebyla. Přistoupila jsi k němu tedy a [[zahleděla se do něj.]]</tw-passagedata><tw-passagedata pid="396" name="Vyběhnout je 2" tags="korektura" position="5175,5225" size="100,100">Vyběhla jsi po schodech nahoru a každý tvůj krok doprovází hlasité vrzání. Když už jsi v mezi patře, slyšíš, jak se dole rázně rozrazily dveře lokálu a kdosi vešel do chodby. Rychle jsi uskočila na druhou část schodiště, tak aby tě nebylo vidno a jen pokradmu jsi nakoukla, co se dole děje. Chodbou rázně prošel potetovaný námořník od vchodu a zmizel druhými dveřmi na konci. //Uf... to bylo o fous!// říkáš si a jsi si plně vědoma toho, že kdyby jsi schody nevyběhla, už by tě měl.
Zhluboka se nadechneš a vyběhneš do druhého patra. Je tu chodba s několika dveřmi do hostinských pokojů a hned u schodů je po tvé levici velké okno, kterým dovnitř jednak proniká světlo a druhak zviditelňuje to množství prachu v ovzduší. Smrdí tu plíseň a staroba. Okno tě zaujalo, protože skrze něj jde vidět na soukromý dvorek za hospodou, kde jsi nikdy nebyla. Přistoupila jsi k němu tedy a [[zahleděla se do něj.]]</tw-passagedata><tw-passagedata pid="397" name="Vyběhnout ven" tags="korektura" position="4775,1725" size="100,100">&lt;&lt;if $tramek is false&gt;&gt;rychle se mezi lidmi začala cpát ven. &quot;Chyťte ji někdo!&quot; slyšíš, jak za tebou křičí pekař. 
V zápětí tě za ruku chytila čísi macatá pracka. Otočila ses a zjistila, že tě s vítězoslavným výrazem svírá ona tlustá hospodyňka. &quot;Pojď sem, ty malá mrcho! Cos provedla?!&quot;

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Zuřivost v tobě vystoupala kamsi do nebes a ty jsi [[ji kousla do ruky|kousla do ruky]]/[[jí plivla do tváře|plivla do tváře]]!
&lt;&lt;/if&gt;&gt;&lt;&lt;if $tramek is true&gt;&gt;rychle se mezi lidmi začala cpát ven. &quot;Chyťte ji někdo!&quot; slyšíš, jak za tebou křičí pekař. 
V zápětí tě za ruku chytla čísi macatá pracka. Otočila ses a zjistila, že tě s vítězoslavným výrazem svírá ona tlustá hospodyňka. &quot;Pojď sem, ty malá mrcho! Cos provedla?!&quot;

Zuřivost v tobě vystoupala kamsi do nebes a ty jsi [[ji kousla do ruky|kousla do ruky]]/[[jí plivla do tváře|plivla do tváře]]!
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="398" name="Vydala jsi se za světlem" tags="korektura" position="2325,0" size="100,100">Tvoje kroky zní slaboučkou ozvěnou a éter kolem se zlehka tetelí...
Tvůj dech už není dechem... Bezprostor se chvěje. 
Světlo jakoby pulzuje v rytmu nádechu a výdechu, avšak mimo existenci a beze zvuku. Tvůj pohyb směřuje do centra tohoto světla a jeho zář sílí. Z šedé se stává jasně bílá a všechno začíná neslyšně hlasitě hučet... &lt;&lt;linkreplace &quot;Cítš, že chceš jít dál...&quot;&gt;&gt;Cítš, že chceš jít dál...
  
                                           [[Do hloubky...]]
                                           
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="399" name="Vydat se cestou vypáčení dveří" tags="korektura" position="3925,1825" size="100,100">Rozhlédla jsi se kolem a snažíš se určit, co by se tak mohlo na takové vypáčení dveří hodit...
Kousek od tebe stojí otevřený pytel mouky a v něm leží těžká železná naběračka. Teoreticky by se dala použít její dlouhá rukojeť jako páka do škvíry mezi dveřmi a rámem. Pak u schodů zpozoruješ těžký kulatý trámek opřený o zábradlí. Kdyby ses jím silou trefilala někam k zámku, mohlo by to teoreticky dveře vyrazit. V zadní části místnosti visí ze stropu řetěz. Kdybys ho přidělala ke klice a pak za něj pořádně škubla... mohlo by to zámek vylomit. Kterou variantu si vybrat?

[[Vypáčit naběračkou]]
[[Vyrazit trámkem]]
[[Vyrvat řetězem]]
[[Znovu si prohlédnout dveře]]

&lt;&lt;set $nastudovanidveri to false&gt;&gt;</tw-passagedata><tw-passagedata pid="400" name="Vydat se dál uličkou za kašnou" tags="korektura" position="2775,2825" size="100,100">Jediná varianta, co tě napadá, je vzít to kolem kašny dál do přístavu... Je to sice výstřel na slepo, ale něco ti říká, že by to mohlo být ono...  A tak jsi vyrazila kolem kašny a za ní se dala uličkou směrem do přístavu. Spěcháš mezi stánky směrem k východu z tržiště. Už ti zbývá jen poslední řada stánků, když najednou ti uličku zastoupí obrovské prase. Je tak velké, že se kolem něj nedá ani prosmyknout a jeho výraz mluví o tom, že nemá v plánu ještě kamkoliv jít.
//Sakra co s ní?! Tu odlákám jedině nějakým jídlem...//

[[Ukrást něco ze stánku]]
[[Prohrabat se v kupě odpadků]]
&lt;&lt;if $jablko eq 1&gt;&gt;[[Odlákat jí jablkem z kapsy]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="401" name="Vykouknout" tags="korektura" position="4050,1100" size="100,100">Potichounku se nadzvedneš a vykoukneš z nůše. Blíží se k tobě velká postava pekaře. Nevidí tě však, protože má plnou náruč bochníků chleba.

[[Vylézt z nůše...]]
[[Schovat se zpátky do nůše...]]</tw-passagedata><tw-passagedata pid="402" name="Vykouknout 2" tags="korektura" position="4000,925" size="100,100">Potichounku vykoukneš zpoza pytle. Místností se blíží velká postava pekaře. Nevidí tě však, protože má plnou náruč bochníků chleba. Došel až k prázdné nůši - kam ses původně zvažovala schovat - a všechny chleby do ní vysypal. 
//Jaj... to by asi bolelo.//

[[Schovat se|Schovat se 2]]
[[Pokračovat v pozorování]]</tw-passagedata><tw-passagedata pid="403" name="Vykouknout 3" tags="korektura" position="3600,500" size="100,100">Potichounku vykoukneš zpoza závěsu. Místností se blíží velká postava pekaře. Nevidí tě však, protože má plnou náruč bochníků chleba. Došel až k prázdné nůši - kam jsi se původně zvažovala schovat - a všechny chleby do ní vysypal. //Jaj... to by asi bolelo.//

[[Schovat se|Schovat se 3]]
[[Pokračovat v pozorování|Pokračovat v pozorování 2]]</tw-passagedata><tw-passagedata pid="404" name="Vylézt" tags="korektura" position="5600,4825" size="100,100">Vylezla jsi opatrně z pod stolu a &lt;&lt;linkreplace &quot;rozhlédla se.&quot;&gt;&gt;rozhlédla se.
Pohledem najdeš námořníka, který právě došel do zadní části lokálu. Tam chytil za kliku dveří, kterých by jsi si bez toho možná ani nevšimla -natolik splývají se stěnou- a zmizel kamsi pryč.
Nu... co teď? 

[[Jít dveřmi v zadní části lokálu]]
[[Projít se mezi stolky|Projít se mezi stolky 2]]</tw-passagedata><tw-passagedata pid="405" name="Vylézt 2" tags="korektura" position="5225,4625" size="100,100">Vylezla jsi opatrně z pod stolu a vidíš, že šenkýřku zrovna někdo zavolal ke stolu aby si objednal, takže tě nevidí.

[[Projít se mezi stolky| Projít se mezi stolky 5 nenasr]]
[[Jít k zadním dveřím|Nechat ji tam ležet a jít ke dveřím 5 nenasr.]]</tw-passagedata><tw-passagedata pid="406" name="Vylézt na fontánu a rozhlédnout se" tags="korektura" position="3375,2575" size="100,100">Vystoupila jsi na bílý stupínek a chytla se okraje fontány. &lt;&lt;if $pohmozdenaruka is true&gt;&gt; Dala jsi ruce na okraj a chystáš se přitáhnout, když tu ti&lt;&lt;if $rozbitehrnky is true&gt;&gt; znovu&lt;&lt;/if&gt;&gt; projela pohmožděným zápěstím pichlavá bolest a ty jsi toho rychle nechala... Co teď? 

[[Zeptat se bezdomovce]]
[[Vydat se dál uličkou za kašnou]]
&lt;&lt;set $uzjednoulezla to true&gt;&gt;&lt;&lt;set $jestenelezla to false&gt;&gt;

&lt;&lt;/if&gt;&gt;&lt;&lt;if $pohmozdenaruka is false&gt;&gt;Položila jsi ruce na její chladný kamenný okraj a přitáhla se. Vylezla jsi nahoru, stoupla si a rozhlédla se. Moře pestrobarevných stánků a mezi nimi jak mravenci chodí davy lidí... &quot;Kde ho mám asi tak hledat...&quot; Říkáš si utrápeně a otáčíš hlavou na všechny strany. Bezdomovec tě začal se zájmem pozorovat. &quot;Hledáš někoho, děvčátko?&quot; Zeptá se pak s úšklebkem a podrbe se v zašedlém strništi. Koukneš se na něj nedůvěřivě a přemýšlíš... //Mám s ním vůbec mluvit?//

[[Ano|Ano bezdomovec]]
[[Ne|Ne bezdomovec]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="407" name="Vylézt na fontánu a rozhlédnout se informace" tags="korektura" position="3050,2675" size="100,100">Vystoupila jsi na bílý stupínek a chytla se okraje fontány. &lt;&lt;if $pohmozdenaruka is true&gt;&gt; Dala jsi ruce na okraj a chystáš se přitáhnout, když ti v zápěstí &lt;&lt;if $rozbitehrnky is true&gt;&gt;znovu &lt;&lt;/if&gt;&gt;projela pohmožděným zápěstím pichlavá bolest a ty jsi toho rychle nechala... Co teď? 

[[Zeptat se bezdomovce]]
[[Vydat se dál uličkou za kašnou]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $pohmozdenaruka is false&gt;&gt;Položila jsi ruce na její okraj a přitáhla se. Vyškrabala ses nahoru, stoupla si a rozhlédla se. Moře pestrobarevných stánků a mezi nimi jak mravenci chodí davy lidí... &quot;Kde ho mám asi tak hledat...&quot; Říkáš si utrápeně a otáčíš hlavou na všechny strany. Bezdomovec tě začal se zájmem pozorovat. &quot;Hledáš někoho, děvčátko?&quot; Zeptá se pak s úšklebkem a podrbe se v zašedlém strništi. Koukneš se na něj nedůvěřivě a přemýšlíš... //Mám s ním vůbec mluvit?//

[[Ano|Ano bezdomovec]]
[[Ne|Ne bezdomovec]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="408" name="Vylézt na poslední příčku" tags="korektura" position="1825,675" size="100,100">Dala jsi nohu na poslední příčku a pomalu na ni přesunula váhu. Příčka strašlivě zaskřípala. Pevně jsi stiskla rty a položila na ni i druhou nohu a rychle ses přitáhla. Příčka drží. &lt;&lt;linkreplace &quot;Uff...&quot;&gt;&gt;Uff...
Chytíš se okraje okapu a rychle přelezeš na střechu a pak už jak opice vyběhneš až na vrchol. Malinko se zakymácíš, než chytneš balanc a pak se [[už rozběhneš po hřebeni dál.]]</tw-passagedata><tw-passagedata pid="409" name="Vylézt na střechu" tags="korektura" position="1575,500" size="100,100">Inu, co by to bylo za dobrodružství bez nebezpečí!
A už se sápeš po žebříku vzhůru. Jsi teď poměrně vysoko, když míjíš okno, na jehož parapetu leží jablko. Hmm...

[[Vzít ho do kapsy]]
[[Nechat ho tam]]</tw-passagedata><tw-passagedata pid="410" name="Vylézt opatrně rámem" tags="korektura Změna-hudby Opět-naživu" position="4775,825" size="100,100">Dáváš opatrně ruce mezi trčící střepy v rámu a přitáhneš se. Dusání kroků je slyšet blíž a blíž! Soustředila ses, abys dala i nohy opatně na místa, kde nejsou střepy, a pak jsi hbitě...

[[Přeskočila na dřevěné zábradlí balkónu]]
[[Skočila na podlahu balkónu]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="411" name="Vylézt opatrně rámem mezi střepy" tags="korektura" position="4925,1150" size="100,100">Dáváš opatrně ruce mezi trčící střepy v rámu a přitáhneš se. Dusání kroků je slyšet blíž a blíž! Soustředila ses, abys dala i nohy opatně na místa, kde je to bezpečné, a pak jsi hbitě...

[[Přeskočila na dřevěné zábradlí balkónu]]
[[Skočila na podlahu balkónu]]</tw-passagedata><tw-passagedata pid="412" name="Vylézt po něm" tags="korektura" position="5400,4000" size="100,100">&quot;Tak mě hlavně udrž&quot; řekneš okapu malinko pochybovačným tónem.
Chytila ses ho a šplháš po něm, jako po kmenu vzhůru. Okap vrže a kymácí se ze strany na stranu, až to pěkné není. Došplhala jsi až na úroveň konce plotu a opatrně se přechytla. Okap vydal ošklivý táhlý zvuk. Ty se ho v tu chvíli už naštěstí pouštíš a přitahuješ se k hraně plotu. Trochu si úsilím zasupěla a potom už vítězoslavně [[přeskočila na druhou stranu]]</tw-passagedata><tw-passagedata pid="413" name="Vylézt z koše" tags="korektura Posrala-to" position="1650,1100" size="100,100">Namáhavě ses vyškrábala ze smrdutého koše a z toho nahnilého odéru ti je na zvracení. 
&lt;&lt;if $zpomaleni lte 5&gt;&gt;Musíš však pokračovat v cestě, dokud je čas, a tak ses znovu [[rozběhla ulicí směrem na tržiště]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Už teď je ti jasné, že jsi při svém konání na cestě učinila příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]
&lt;&lt;set $konecvkosi to true&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $dalsibod eq 1&gt;&gt;&lt;&lt;set $zpomaleni += 1&gt;&gt;&lt;&lt;set $dalsibod = 0&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="414" name="Vylézt z nůše..." tags="korektura" position="4175,1050" size="100,100">Rychle se vyškrábeš ven a tiše přeběhneš...

[[Za závěs|Přeběhnout a schovat se za závěs]]
[[Za pytle s moukou|Přeběhnout a schovat se za pytle s moukou]]</tw-passagedata><tw-passagedata pid="415" name="Vymrštit se z nůše" tags="korektura" position="3775,1150" size="100,100">Vymrštíš se z nůše, připravená buď čelit útoku, nebo se dát na útěk! Blíží se k tobě velká postava pekaře. Nevidí tě však, protože má plnou náruč bochníků chleba.

[[Zalézt rychle zpátky do nůše]]
[[Přeběhnout a schovat se za závěs]]
[[Přeběhnout a schovat se za pytle s moukou]]</tw-passagedata><tw-passagedata pid="416" name="Vymyslet si šifru, co mu řekneš" tags="korektura" position="4350,3875" size="100,100">Rukou mu pokyneš, aby šel blíž. Snažíš se tvářit tajemně, ale uvnitř jsi vystrašená až za hrob. Muž seskočil z bečky a přikrčil se k tobě. Hrozně smrdí alkoholem.
&quot;Tak dělej, mluv.&quot; Zachraplá ti skoro do ucha. //Teď si musím něco rychle vymyslet!//
A tak jsi řekla první, co tě napadlo a znělo ti to alespoň trochu jako šifra: &quot;Vzkažte, že sudy už jsou připraveny á... a že krysy čekají na rozkaz... Ú... chaluhového útesu.&quot; Dopovíš a důležitě zakýváš hlavou. Námořník se ti nechápavě zahleděl do očí a řekl &quot;Co?&quot;
&quot;No to je tajná šifra, tak doufám, že jste si ji zapamatoval, protože to hodně spěchá.&quot;
Muž se podrbal na hlavě a evidentně přemýšlí, jestli ti má věřit... Potom nakonec usoudil, že nejspíš jo a tak tě poprosil, ať mu to znovu zopakuješ, že mu to půjde vyřídit.
Nakonec jsi mu to musela zopakovat ještě čtyřikrát, než se svraštěným čelem vztal a řekl: &quot;Jo... snad to mám...&quot;  A s grimasou neuvěřitelného soustředění odešel do hostince. Šibalsky se ušklíbneš, chvilku počkáš a potom do hostince [[nenápadně vklouzneš taky.|rychle vklouzla dovnitř!]]

&lt;&lt;set $namornikovazprava to true&gt;&gt;
&lt;&lt;set $dalsitabulkavole to true&gt;&gt;</tw-passagedata><tw-passagedata pid="417" name="Vypadáš, že ses nevyspal" tags="" position="425,625" size="100,100">&quot;No... Protože vypadáš, že ses moc nevyspal...&quot; Řekneš a prohlížíš si jeho lehce znavenou, zarostlou tvář.
Táta pokrčí rameny a soustředí se na vyproštění rybky, která sebou mrská v síti.

[[Říct, jak se spalo tobě]]
[[Zeptat se ho, jak dlouho už rybaří|A jak dlouho už rybaříš?]]</tw-passagedata><tw-passagedata pid="418" name="Vypáčit naběračkou" tags="korektura" position="3925,2175" size="100,100">Přiběhneš k pytli s moukou, vytáhneš z něj těžkou krásně kovanou naběračku a doběhneš s ní nazpět ke dveřím. Vrazilas jí do škvíry mezi dveřmi. Není zaražená moc hluboko, ale možná to bude stačit... 

[[Zatlouct jí něčím hlouběji]]
[[Začít páčit]]

&lt;&lt;set $dutahlava to false&gt;&gt;</tw-passagedata><tw-passagedata pid="419" name="Vyrazit" tags="korektura" position="3550,1050" size="100,100">Vyběhla jsi přikrčeně a rychle se schovala z dohledu zákazníků za krajem kuchyňské linky. Přímo před tebou jsou poličky, po kterých se dá krásně vylézt až nahoru. Od pultu se ozve. &quot;A ještě bych vás drahoušku poprosila o pár tamtěch koláčků s ořechy...&quot;
Zamrazí tě. Ještě pořád tam ta ženská je a existuje opodstatněná hrozba, že tě může uvidět...

[[Počkat, než odejde]]
[[Vyrazit hned]]</tw-passagedata><tw-passagedata pid="420" name="Vyrazit hned" tags="korektura" position="3675,1250" size="100,100">Kašleš na ni, na bábu! A vyběhneš k policím. 
Chytíš se jich a rychle &lt;&lt;linkreplace &quot;lezeš nahoru&quot;&gt;&gt;lezeš nahoru.
Opřela ses lokty o desku nad tebou a přitáhla se. Vylezla jsi na ni. Ještě krásně hřeje, jak na ní před nedávnem stály čerstvé chleby a ruce máš teď až po lokty celé zamazané od mouky. Okno je přímo před tebou, když tu uslyšíš kdesi za zády vřískot: &quot;Co tam dělá ten nevděčný spratek?!&quot; Otočíš se a vidíš, jak na tebe přes pult rozhněvaně shlíží ta tlustá ženská a ukazuje svým macatým prstem. Všichni přítomní se na tebe otočili. Srdce se ti zběsile rozbušilo a okamžitě jsi oknem [[skočila ven.]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $těsně to false&gt;&gt;</tw-passagedata><tw-passagedata pid="421" name="Vyrazit k oknu" tags="korektura" position="3550,1425" size="100,100">Teď je tvá příležitost! Vykradeš se ze své skrýše a připlížíš se k policím. Kuchař je teď sotva metr od tebe a vidíš z něj jen nohy a zadek, jak je sehnutý a sbírá střepy. //Tak jo!// Chytíš se polic a rychle po nich &lt;&lt;linkreplace &quot;lezeš nahoru&quot;&gt;&gt;lezeš nahoru.
Opřela jsi se lokty o desku nad tebou a přitáhla se. Vylezla jsi na ni. Ještě trochu hřeje, jak na ní před nedávnem stály čerstvé chleby a ruce máš teď až po lokty celé zamazané od mouky. Okno je přímo před tebou, když tu uslyšíš kdesi za zády vřískot: &quot;Co tam dělá ten nevděčný spratek?!&quot; Otočíš se a vidíš, jak na tebe přes pult rozhněvaně kouká ta tlustá ženská a ukazuje na tebe svým macatým prstem. Všichni přítomní se na tebe otočili a kuchař, který do teď sbíral střepy se teď hbitě narovnal, a chňapl po tobě!
Srdce se ti zběsile rozbušilo a okamžitě jsi oknem [[skočila ven.]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $těsně to true&gt;&gt;</tw-passagedata><tw-passagedata pid="422" name="Vyrazit rovnou k oknu" tags="korektura" position="3300,1275" size="100,100">Přikrčená vyrazíš odhodlaně přímo k němu. Okno je ve výšce asi metru a půl nad zemí. Pod ním stojí poličky (které by mohly posloužit jako dobrý žebřík) a pak malá linka na odkládání horkých plechů, aby vychladly. Teď tam naštěstí žádný není. 
Chytíš se polic a rychle po nich &lt;&lt;linkreplace &quot;lezeš nahoru&quot;&gt;&gt;lezeš nahoru.
Opřela jsi se lokty o desku nad tebou a přitáhla se. Vylezla jsi na ni. Ještě krásně hřeje, jak na ní před nedávnem stály čerstvé chleby a ruce máš teď až po lokty celé zamazané od mouky. Okno je přímo před tebou, když tu uslyšíš kdesi za zády vřískot: &quot;Co tam dělá ten nevděčný spratek?!&quot; Otočíš se a vidíš, jak na tebe přes pult rozhněvaně shlíží ta tlustá ženská a ukazuje na tebe svým macatým prstem. Všichni přítomní se na tebe otočili. Srdce se ti zběsile rozbušilo a okamžitě jsi oknem [[skočila ven.]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $těsně to false&gt;&gt;</tw-passagedata><tw-passagedata pid="423" name="Vyrazit trámkem" tags="korektura" position="4025,1950" size="100,100">Tak tedy vyrazit. 
Přiběhlas k zábradlí schodiště a popadla masivní trámek do rukou. Je opravdu těžký a vcelku špatně se ti s ním chodí. Dotáhla jsi jej až ke dveřím a na chvíli ho položila, aby sis vydechla. &quot;Fůů... To je pěknej macek...&quot; Zabručíš a díváš se na něj lehce skepticky.
//No nic, jde se na to!// Popadla jsi trámek do náruče, přistoupila ke dveřím, párkrát s ním cvičně zahoupala a pak ho rozhoupala doopravdy silně a vší silou jím praštila těsně pod klíčovou dírku. &lt;&lt;linkreplace &quot;*PRÁSK!*&quot;&gt;&gt; *PRÁSK* 
V rukách ti bolestivě zabrnělo, trámek odskočil a s hlasitým zadunění spadl na podlahu. 
Dveře zadrnčely... Ale neotevřely se.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $nastudovanidveri is false&gt;&gt;Kdyby sis dveře před tím podrobněji prostudovala, shledala bys, že se otevírají dovnitř a tím pádem nemá smysl se je snažit zevnitř vyrazit...&lt;&lt;/if&gt;&gt;&lt;&lt;if $nastudovanidveri is true&gt;&gt;Přesto, že jsi dveře podrobněji prostudovala, evidentně ti nedocvaklo, že když se otevírají dovnitř, nemá smysl se je snažit zevnitř vyrazit...&lt;&lt;/if&gt;&gt; Teď už je to ale jedno. Dole to ztichlo.
//Kruci...//
V zápětí se ozval dusot nohou po schodišti nahoru. //Je to v háji...// Prolétne ti hlavou a rozklepou se ti kolena. 

[[Schovat se za pytle]]
[[Schovat se za závěs]]
[[Zůstat stát na místě]]

&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="424" name="Vyrazíš získat prstýnek" tags="korektura" position="4950,2925" size="100,100">Vyrazila jsi nazpět k pevnině a rázně dupeš, aby jsi sama sobě nahnala důvěru.&lt;&lt;if $dedecek is true&gt;&gt; Obraz starého rybáře ti ještě chvíli zůstal obtištěn v paměti a jen pozvolna se rozplývá v přítomnosti aktuálního dění.&lt;&lt;/if&gt;&gt; Když jsi znovu vstoupila na vydlážděnou cestu nábřeží, začala jsi studovat, kudy by se tak dalo na soukromé molo ,patřící Taverně u Černé Krakatice, dostat... Vidíš tu dvě možnosti. 
Buďto se tam dostat skrz lokál, kde - jak tušíš - musí být nějaké dveře na druhou stranu, kudy se tam námořníci dostávají a nebo... Nějak přelézt dřevěný plot, který se od taverny táhne až na okraj nábřežní cesty. 

[[Jít přes tavernu]]
[[Přelézt přes plot]]
[[Ještě hledat alternativu]]

&lt;&lt;set $variantalodka to false&gt;&gt;</tw-passagedata><tw-passagedata pid="425" name="Vyrušit ho z přemýšlení" tags="" position="0,625" size="100,100">&quot;Ee... Tati?&quot;
Táta sebou škubne. Pak potřese hlavou a vrátí se k práci. Nevypadá to, že by mu ještě bylo do řeči. I tak to však byl delší rozhovor než obvykle.

&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $jaksemas = 0&gt;&gt;
&lt;&lt;set $jakjsisevyspal = 0&gt;&gt;
&lt;&lt;set $jakdlouhorybaris = 0&gt;&gt; 
&lt;&lt;set $lhani = 0&gt;&gt;
&lt;&lt;set $bonbon to false&gt;&gt;</tw-passagedata><tw-passagedata pid="426" name="Vyrvat řetězem" tags="korektura" position="3800,1900" size="100,100">Přiběhla jsi k řetězu visícímu v rohu místnosti. Je v celku dlouhý a s velkým okem na konci. Koukneš nahoru jakým způsobem tam drží a k tvému štěstí zjistíš, že visí jen za poslední očko, zaháklé na rezavém hřebíku.

[[Škubnout za něj|Škubnout za něj páčení]]
[[Pověsit ze za něj|Pověsit se za něj páčení]]</tw-passagedata><tw-passagedata pid="427" name="Vyskočit a dát se na útěk" tags="korektura" position="5200,1325" size="100,100">//Teď, nebo nikdy!// Vyskočila jsi jak zajíc. Pekař, který se právě chystal nakouknout za pytle, úlekem vykřikl a uskočil. Této chvíle jsi okamžitě využila a tryskem kolem něj proběhla. &quot;Hééj! Ty malá mrcho!&quot; zahulákal za tebou. 
Dala ses po schodech dolů a slyšíš, jak tě pronásledují jeho rychlé kroky. Seběhla jsi dolů a...

[[Vyběhnout ven]]
[[Zkusit prolézt oknem za pultem]]</tw-passagedata><tw-passagedata pid="428" name="Vyskočit nalevo" tags="korektura" position="4025,125" size="100,100">Závěs se s trhnutím odhrnuje z levé strany na pravou. Ty jsi ale zároveň vyskočila doleva, což znamená, že jsi mu skočila přímo do náruče. &quot;Áá!&quot; Zařval a pevně tě sevřel. Snažíš se kopat, ale je to marný boj. 
Pak už si jen pamatuješ, jak tě chytl za ruku a vláčel po schodech a přes celý obchod. Po cestě na tebe ještě řvala ta tlustá paní něco o vychování a spratcích bez dozoru... Nakonec tě pekař hodil na chodník před pekárnu, ještě jednou ti vynadal a naštvaně odešel.
[[S námahou se zvedneš ze země...|Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="429" name="Vyskočit napravo" tags="korektura" position="4025,225" size="100,100">Závěs se s trhnutím odhrnuje z levé strany na pravou. Ty jsi zároveň vyskočila ven doprava. Jako ve zpomaleném záběru vidíš, jak se pekařova grimasa křiví udivením, že tě tam nevidí. Z jeho pohledu jsi mu na sekundu zmizela za odhrnutou částí látky. Tato sekunda však stačila k tomu, aby ses rozběhla ke schodům a dala se po nich směrem do přízemí. 
&quot;Hééj! Ty malá mrcho!&quot; zahulákal za tebou. 
Slyšíš, jak tě za zády pronásleduje dusání jeho nohou. Seběhla jsi dolů a...

[[Vyběhnout ven]]
[[Zkusit prolézt oknem za pultem]]</tw-passagedata><tw-passagedata pid="430" name="Vyskočit zpoza pytlů" tags="korektura" position="4000,600" size="100,100">Vymrštíš se zpoza pytlů připravená buď čelit útoku, nebo se dát na útěk! Místností se blíží velká postava pekaře. Nevidí tě však, protože má plnou náruč bochníků chleba a evidentně míří k prázdné nůši.

[[Zalézt rychle zpátky]]</tw-passagedata><tw-passagedata pid="431" name="Vyskočit zpoza závěsu" tags="korektura" position="3475,500" size="100,100">Vyskočila jsi zpoza závěsu připravena buďto čelit útoku, nebo se dát na útěk. Vidíš, jak se místností blíží velká postava pekaře. Nevidí tě však, protože má plnou náruč bochníků chleba. S tímto zjištěním jsi usoudila, že bude nejrozumnější se opět [[schovat za závěs.|schovala za závěs.]]</tw-passagedata><tw-passagedata pid="432" name="Vyslechnout rozhovor a počkat než si dopovídají" tags="korektura" position="2975,2150" size="100,100">&quot;Takže se dneska zadařilo, říkáte?&quot; Ptá se právě prodavačka a zkoumavě pohlédne na ručičku vah, která je ještě stále vychýlená. &quot;Ano jak říkám, dnes to byl báječný lov! Takové ryby co dnes jsem nevylovil už ani nepamatuju.&quot; Odvětil jí muž a pročísl si na krátko střižené zrzavé vlasy. &quot;No a co vlastně říkáte na tu obří loď co nám v noci zakotvila v přístavu? Co myslíte, jsou to obchodníci?&quot; Zeptá se prodavačka dychtivě a hodí na váhy poslední závaží. Váhy se zakymácely a vyrovnaly. &quot;Vidíte taky mě to zarazilo... takhle velkou loď jsem tu naposledy viděl tak před půl rokem, co přijeli kupci ze Špičatých ostrovů. Ta byla asi tak podobně velká.&quot; Řekne zamyšleně muž a vezme si od prodavačky okurky, které složí do svého proutěného koše. &quot;Bude to všechno nebo byste přál ještě něco?&quot; Zeptá se prodavačka a hodí na něj laškovný pohled. &quot;Vidíte... málem bych zapomněl!&quot; To už víš, že bys čekala věčnost a tak jim [[vstoupíš do rozhovoru.]]</tw-passagedata><tw-passagedata pid="433" name="Vytáhnout tyč a bránit se" tags="korektura" position="2775,1125" size="100,100">Chytla jsi tyč pevně do ruky a začala ji vytahovat. Slyšíš, jak se kluci za tebou rozběhli, aby tě zastavili. Táhneš, táhneš a potom... //Néé!// Vyděšeně zjistíš, že tyč jsou ve skutečnosti hrábě, které skrz tak malou mezírku nemáš šanci vytáhnout. Otočíš se a vidíš, že oba kluci už jsou pár kroků od tebe!

[[Utíkat zpátky nahoru k pekárně]]
[[Chytit dřevěnou krabici vedle tebe na zemi a použít ji k sebeobraně]]

&lt;&lt;set $hrabe to true&gt;&gt;</tw-passagedata><tw-passagedata pid="434" name="Vytáhnout z kapsy nenápadně bonbón" tags="korektura" position="3100,525" size="100,100">Nenápadně a hbitě jsi z kapsy vytáhla bonbón od táty a zdvihla jej k jejím nedůvěřivým očím. V mžiku se její výraz změnil k nepoznání a v očích se jí zalesklo. Usmála se, pustila tě a řekla: &quot;No vidíš! A já si zrovinka říkala, kam sem ho jen zašantročila.&quot; Hbitě ti ho vezme z ruky, rozbalí a rovnou stčí do pusy. Spokojeně se přisune k pultu a už o tebe nejeví žádný zájem. Sice tě to stálo bonbón, ale jsi volná a [[uvnitř pekárny!]]

&lt;&lt;set $bonbon to false&gt;&gt;</tw-passagedata><tw-passagedata pid="435" name="Vytáhnout z kapsy nenápadně jablko" tags="korektura" position="3225,525" size="100,100">Nenápadně a hbitě jsi z kapsy vytáhla jablko, které jsi ukořistila z parapetu po cestě a natáhla je k jejím nedůvěřivým očím. Zdvihla obočí do výšky a s údivem tě pustila.
&quot;Cože? Jablko? Kde by se u mě vzalo jablko?&quot; Ptá se zmateně. 
Této chvíle jsi využila [[vrazila jí ho do ruky]]/[[schovala ho nazpět do kapsy]], otočila se a...</tw-passagedata><tw-passagedata pid="436" name="Vytáhnout z kapsy nenápadně minci" tags="korektura" position="3350,525" size="100,100">Nenápadně a hbitě jsi z kapsy vytáhla minci, kterou jsi ukořistila z krabičky, a zdvihla ji k jejím nedůvěřivým očím. V mžiku se její výraz změnil k nepoznání a v očích se jí zalesklo. Usmála se, pustila tě a řekla: &quot;Jejdanánku a já měla zrovinka nákup vypočítaný přesně do posledního penízku. To bych se dnes nedoplatila!&quot; Hbitě ti ji vezme z ruky a hodí do koženého váčku u pasu, ve kterém to zacinká. Pak se přisune k pultu a už o tebe nejeví žádný zájem. Sice tě to stálo minci, ale jsi volná a [[uvnitř pekárny!]]

&lt;&lt;set $money -= 1&gt;&gt;</tw-passagedata><tw-passagedata pid="437" name="Vyčkávat" tags="korektura" position="3775,250" size="100,100">Schovala jsi hlavu a strnule vyčkáváš. Slyšíš, jak se blíží víc a víc... 

[[Počkat na moment, kdy bude závěs odhrnovat na stranu a vyběhnout z druhé strany]]
[[Přikrčit se a až příjde přímo k závěsu, proklouznout mu zpod něj mezi nohama]]</tw-passagedata><tw-passagedata pid="438" name="Vyčkávat na příležitost" tags="korektura" position="3225,1400" size="100,100">Setrváváš na místě a mlčky sleduješ co se děje. Pekař se pořád motá kolem okna a stále  něco dělá! Trvá to snad věčnost... 

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Když tu se pro něco otočil a loktem nechtěně zavadil o keramickou formu na chleba, která stála na kraji stolu. V příští chvíli se forma roztříštila o zem přímo před tebou... Vyjekla jsi a přitiskla se k stěně pultu. 


[[Prolézt pod pultem až ke stěně]]
[[Setrvat na místě]]</tw-passagedata><tw-passagedata pid="439" name="Vyčkávat2" tags="korektura" position="4425,700" size="100,100">Skrčila ses a strnule vyčkáváš. Slyšíš, jak se blíží víc a víc... 

[[Sebrat ze země hrst vysypané mouky a jak se nad tebe nakloní, hodit mu ji do obličeje]]
[[Plazit se za pytli až na konec jejich řady a tam se dát na útěk]]
&lt;&lt;if $jablko eq 1&gt;&gt;[[Hodit mu do obličeje jablko z kapsy]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="440" name="Vyčkávát" tags="korektura" position="3550,1300" size="100,100">Ležíš tam a tvůj dech víří vrstvu prachu a mouky na zemi. A pak se najednou pekař neobratně otočil a loktem shodil na zem hliněnou formu na chleba. &quot;Ale do pochcaný krysí mouky!&quot; Zakleje a sehne se zády k oknu, aby střepy posbíral.

[[Vyrazit k oknu]]</tw-passagedata><tw-passagedata pid="441" name="Vyšplhat" tags="korektura" position="1575,875" size="100,100">Když už jsi v tom, tak to dotáhneš...
Zachytíš tam nohu pevně, jak to jen dokážeš a přitáhneš se až k okraji střechy. V okapu to strašlivě zaskřípalo a cítíš, jak povoluje. Rychle jsi vyšvihla nahoru i druhou nohu a v poslední chvíli ses překulila na střechu. Část okapu se vzápětí oddělila od střechy a hlasitě řachla na ulici hluboko pod tebou. //Uf... To bylo dost o fous,// řekneš si s tlukoucím srdcem. Chytíš se pevně střešních tašek a pomalu se narovnáš. Vyškrábeš se po nich až na vrchol střechy. Malinko se zakymácíš, než chytneš balanc a pak se [[už rozběhneš po hřebeni dál.]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="442" name="Vzhůru na tržiště!" tags="korektura Změna-hudby" position="4900,2425" size="100,100">Slunce vystoupalo až nad střechy a začíná pražit do čela. Po modravé obloze se pozvolna převalují poloprůhledné mráčky a ulicí se jen zřídka prožene slabý závan větříku. Jak se tržiště blíží, už je z dálky slyšíš a cítíš. Posledních pár spěšných kroků a už se za zatáčkou vynořilo v plné své kráse. Desítky stánků s barevnými plátěnými střechami stojí v několika prstencových řadách na kruhovém náměstí s kašnou uprostřed. Trhem vede jedna hlavní přímá ulička mezi stánky, kolem kašny až na druhou stranu, kde cesta pokračuje do přístavu. Okraje náměstí jsou lemovány řadou vysokých domů a po pravé straně se tyčí stará budova městské radnice s věžičkou. Na věžičce ze všech čtyř stran vlají fábory se znakem vašeho ostrova - bleděmodrá plocha moře s jednoduše vyobrazenou plachetnicí a za ní zelený kopec symbolizující váš ostrov s věží majáku, který ostrovu dominuje. Ještě o kus výš jsou do zdi vsazeny velké železné hodiny, které zrovna ukazují za pět sedm. A úplně nahoře se pod špičatou taškovou stříškou se zlatou korouhvičkou pohupuje velký mosazný zvon. 
Vzduchem se line směs vůní koření, rybiny a kouře. Všude se ozývají hlasy překřikujících se prodejců a mezi stánky kličkují nakupující zdejší i cizinci, kteří sem z mořských dálav zavítali. Zloděje tu však nikde nevidíš...
Nejpravděpodobnější varianty jsou však dvě... buď je teď někde mezi stánky, nebo směřuje do přístavu. 
Tak či onak je čas [[vstoupit na tržiště.]]

&lt;&lt;cacheaudio &quot;rynek&quot; &quot;music/rynek.mp3&quot;&gt;&gt;&lt;&lt;audio rynek play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="443" name="Vzít ho do kapsy" tags="korektura" position="1450,600" size="100,100">//Takové jablko, to se může vždycky hodit!// A šup s ním do kapsy.
__//Získala jsi jablko//__
Lezeš dál a jablko tě teď tlačí v kapse. Vylezla jsi až skoro k okraji střechy. Tady ale nastává problém. Poslední dvě příčky vypadají trochu nalomeně... Pokud na ně však nestoupat, zbývá jen chytit se okapu a vyškrábat se tam... 

[[Chytit se okapu]]
[[Důvěřovat tomu, že jsi dost lehká na to, aby tě příčky udržely]]
[[Raději sešplhat zpátky dolů...]]

&lt;&lt;set $jablko = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="444" name="Vzít minci 3/4 nenasr." tags="korektura" position="4175,4250" size="100,100">Rozhlédla ses kolem, ujišťuješ se, že tě nikdo nesleduje. Když to vypadá, že o tebe zatím nikdo nejeví zájem, stouplasis na špičky a natáhla se pro ni. Tady sehrálo velkou roli to, že ses před tím tolik nezdržela a šenkýřka se má v plánu otočit až v dalším okamžiku, takže jsi minci úspěšně stihla schovat do kapsy.

__//Získala jsi minci//__ &lt;&lt;set $money += 1&gt;&gt;

V další chvíli se už šenkýřka otočila nazpět a zadívá se na prázdné místo, kde byl ještě před chvílí ten muž s pivem. Zůstal po něm jen prázdný korbel a peníze nikdy. Naštvaně zakroutila hlavou, sebrala korbel z pultu a odešla zadními dvířky, které nejspíše vedou někam do kuchyně.
//Tak a teď už musím doopravdy jít!// 

[[Vyrazit k zadním dveřím|Nechat ji tam ležet a jít ke dveřím 3/4 nenasr.]]</tw-passagedata><tw-passagedata pid="445" name="Vzít minci 3/4 zpráva." tags="korektura" position="4750,4250" size="100,100">Rozhlédla jsi se kolem, aby jsi se ujistila, že tě nikdo nesleduje. Když to vypadá, že o tebe zatím nikdo nejeví zájem, stoupla jsi si na špičky a natáhla se pro ni. Tady sehrálo velkou roli to, že jsi se před tím toliko nezdržela a šenkýřka se má v plánu otočit až v dalším okamžiku, takže jsi minci úspěšně stihla schovat do kapsy.

__//Získala jsi minci//__ &lt;&lt;set $money += 1&gt;&gt;

V další chvíli se už šenkýřka otočila nazpět a zadívá se na prázdné místo, kde byl ještě před chvílí ten muž s pivem. Zůstal po něm jen prázdný korbel a peníze nikde. Naštvaně zakroutila hlavou, sebrala korbel z pultu a odešla zadními dvířky, které nejspíše vedou někam do kuchyně.
//Tak a teď už musím doopravdy jít!// 

[[Vyrazit k zadním dveřím|Nechat ji tam ležet a jít ke dveřím 3/4 nenasr.]]</tw-passagedata><tw-passagedata pid="446" name="Vzít minci 5 nenasr." tags="korektura" position="4875,4250" size="100,100">Rozhlédla ses kolem, aby jsi se ujistila, že tě nikdo nesleduje. Když to vypadá, že o tebe zatím nikdo nejeví zájem, stoupla sis na špičky a natáhla se pro ni. Kdyby jsi sem přišla jen o trošku dřív, minci bys získala, jelikož jsi se ale v minulosti zdržela, mělo to pro teď za následek, že se šenkýřka otočila zrovna v moment, kdy jsi po minci chňapla. &quot;Jedeš ty spratku?!&quot; Okřikne tě, plácne po natahujících se prstech a sebere minci z baru. &quot;A vůbec, co tady děláš? Tady je dnes uzavřená společnost!&quot; A jde zpoza baru, aby tě vyvedla.

[[Utéct do zadních dveří]]
[[Schovat se pod nejbližší stůl]]</tw-passagedata><tw-passagedata pid="447" name="Vzít to kolem pekárny na tržiště" tags="korektura Kolem-pekarny Změna-hudby" position="2750,725" size="100,100">//Nu, není času nazbyt!// A rozběhneš se po ulici vedoucí velkým obloukem kolem pekárny.
Míjíš domy a ranní slunce ti svítí do obličeje. Běžíš a běžíš, když tu tě někdo okřikne: &quot;Hej, špindíro!&quot; 
Zastavíš se a rozhlédneš se kolem sebe. Ten hlas i to oslovení je ti důvěrně známé... A ano, je tomu tak. Na hromadě dřevěných krabic před řeznictvím sedí dvanáctiletý kluk s rozčepýřenými černými vlasy a škodolibým úsměvem. Tváře ti zčervenaly zlostí. &quot;Kam tak spěcháš, co, špindíro?&quot; Zavolal na tebe zas a v ruce si pohrává se shnilým jablkem. &quot;Víš ty co?&quot; Nadechneš se...

[[Trhni si]]
[[Zalez, než tě uvidí můj táta]]
[[Nemám na tebe čas]]

&lt;&lt;set $hrabe to false&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;sigri&quot; &quot;music/sigri.mp3&quot;&gt;&gt;&lt;&lt;audio sigri play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="448" name="Vzít řetěz na druhém konci do ruky a s rozběhem trhnout" tags="korektura" position="3775,2150" size="100,100">Chytla jsi druhý konec řetězu, a omotala si jej kolem ruky. //Fů... to dám!//
Nádech, výdech... A rozběhla ses co nejrychleji směrem od dveří. Řetěz se se zařinčením napnul, dveře se lehce pohnuly a s tebou to ošklivě škublo nejdřív nazpět a pak na zem. S bolestivým zasyčením se podíváš nejdřív na neotevřené dveře a pak na tvou ruku. Řetěz ti z ní vyklouzl a ty ji máš celou bolavě zarudlou... &quot;Jááu...&quot; Pofoukáš si ji a postavíš se zpátky na nohy.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Nezbývá než [[přivázat na druhý konec řetězu těžký trámek, kterým pak hodit|Přivázat na druhý konec těžký trámek, kterým hodit]]

&lt;&lt;set $pohmozdenaruka to true&gt;&gt;</tw-passagedata><tw-passagedata pid="449" name="Vzít štokrle a zkusit dírou prolézt" tags="korektura Smrt-ok Změna-hudby" position="5225,1075" size="100,100">Přiběhla jsi k štokrleti, popadla ho a doběhla nazpět k oknu. Kroky už jsou skoro tu!
Vylezla jsi na ně a právě dáváš nohu skrz zubatý otvor, když se za tebou ozve hlasité: &quot;Héj! Co tam sakra děláš?!&quot; Vyplašeně se otočíš a uvidíš rozlíceného pekaře, stojícího v místnosti. Tím, že ses tak prudce otočila, jsi ale ztratila balanc a v příští sekundě jsi řachla rozkročmo přímo na hranu skla. Na třísla vystříkla tvá horká krev. Střepy ti odspodu zajely hluboko do těla. Zařvala jsi v agónii bolesti a snažíš se s brekem něčeho chytit. Sklo prasklo ještě víc a ty ses propadla až na dřevěný rám. Ten zaduněl a z vrchu se na tebe zřítil zbytek skleněných hrotů, které se jako oštěpy zabodaly do tvých zad a rukou. Všude teče tvoje krev a celý obraz ti pulzuje v nepředstavitelném utrpení. Ztrácíš vědomí a padáš na zem do lesklé kupy střepů. Chvíli tam sebou škubeš a potom už nastoupila&lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;, tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $probodanirozkroku to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="450" name="Vůz dokázala" tags="korektura Změna-hudby" position="4725,2350" size="100,100">//Tak jo... To zvládnu.//
Vyčkala jsi, než vůz dojel přímo pod tebe, a s neochvějným odhodláním jsi skočila! Vzduch ti zasvištěl v uších a v další sekundě už tě &lt;&lt;if $skokslama is true&gt;&gt;opět &lt;&lt;/if&gt;&gt;obklopila voňavá sláma. &quot;Fůů...&quot; Vydechneš a vyhrabeš se z ní, abys viděla cestu. Vůz jede vcelku rychle a určitě má namířeno na tržiště! Navíc jsi ještě díky tomu, žes dokázala proběhnout skrz pekárnu, pěkně nahnala čas.

__//+2 Body dostihu //__&lt;&lt;set $zpomaleni -= 2&gt;&gt;

Farmář sedící vpředu na voze si tě evidentně nevšiml, takže snad vůbec nebude vadit, když se [[trochu svezeš...]]

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="451" name="Vůz nedokázala" tags="korektura" position="4475,2225" size="100,100">//Tak jo... To zvládnu.//
Vyčkala jsi, než vůz dojel přímo pod tebe a s neochvějným odhodláním jsi skočila! Nohy se ti už odlepily od zábradlí, když tě ze zadu za límeček chňapla macatá ruka. Ozvalo se rupnutí, jak se ti košilka natrhla a tys se zapištěním zůstala viset ve vzduchu. &quot;Nikam nezdrhneš, ty malej hajzle!&quot; 
Se zlostí v očích se otočíš na čím dál víc brunátnějcí hospodyňku, která se tě úporně snaží vytáhnout zpátky. Zlost v tobě vystoupala až do nebes a tak jsi:

[[Kousla ji do ruky|Kousla do ruky]] 
[[Plivla jí do tváře|Plivla do tváře]]

&lt;&lt;set $baaba to true&gt;&gt;</tw-passagedata><tw-passagedata pid="452" name="Z leva trámek" tags="korektura" position="3975,2550" size="100,100">&lt;&lt;if $nastudovanidveri is true and $dutahlava is true&gt;&gt;Evidentně máš buďto velký problém s prostorovým viděním a nebo jsi trochu hloupá, protože jsi opět praštila z plna na opačnou stranu, než jsi měla. Naběračka se pod náporem ohnula a už nepůjde použít. V rukách ti zabrnělo, trámek ti vyskočil a s hlasitým zaduněním spadl na podlahu. 
Dole to ztichlo.
//Kruci...//
V zápětí se ozval dusot nohou po schodišti nahoru. //Je to v háji...// Prolétne ti hlavou a rozklepou se ti kolena.
&lt;&lt;set $tramek to true&gt;&gt;
[[Schovat se za pytle]]
[[Schovat se za závěs]]
[[Zůstat stát na místě]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $nastudovanidveri is true and $dutahlava is false&gt;&gt;Přestože jsi dveře podrobněji prostudovala, evidentně ti nedocvaklo, že když se otevírají dovnitř, nemá smysl páčit na opačnou stranu... Naběračka se pod náporem ohnula a už nepůjde použít. V rukách ti zabrnělo, trámek ti vyskočil a s hlasitým zaduněním spadl na podlahu. 
Dole to ztichlo.
//Kruci...//
V zápětí se ozval dusot nohou po schodišti nahoru. //Je to v háji...// Prolétne ti hlavou a rozklepou se ti kolena.

[[Schovat se za pytle]]
[[Schovat se za závěs]]
[[Zůstat stát na místě]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $nastudovanidveri is false and $dutahlava is true&gt;&gt;Kdyby sis dveře předtím podrobněji prostudovala, shledala bys, že se otevírají dovnitř. Ty ses ale už jednou spálila a přesto se nepoučila. Proto, když jsi teď nárazem páčila opět na opačnou stranu, není divu, že se naběračka pod náporem ohnula a už nepůjde použít. V rukách ti zabrnělo, trámek ti vyskočil a s hlasitým zaduněním spadl na podlahu. 
Dole to ztichlo.
//Kruci...//
V zápětí se ozval dusot nohou po schodišti nahoru. //Je to v háji...// Prolétne ti hlavou a rozklepou se ti kolena.

[[Schovat se za pytle]]
[[Schovat se za závěs]]
[[Zůstat stát na místě]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $nastudovanidveri is false and $dutahlava is false&gt;&gt;Kdyby sis dveře před tím podrobněji prostudovala, shledala bys, že se otevírají dovnitř. Proto, když jsi teď nárazem páčila na opačnou stranu, není divu, že se naběračka pod náporem ohnula a už nepůjde použít. V rukách ti zabrnělo, trámek ti vyskočil a s hlasitým zaduněním spadl na podlahu. 
Dole to ztichlo.
//Kruci...//
V zápětí se ozval dusot nohou po schodišti nahoru. //Je to v háji...// Prolétne ti hlavou a rozklepou se ti kolena. 

[[Schovat se za pytle]]
[[Schovat se za závěs]]
[[Zůstat stát na místě]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="453" name="Z prava trámek" tags="korektura" position="3850,2550" size="100,100">Rozmáchla ses a plnou silou trámkem narazila z prava do zaseknuté naběračky. Rána to byla na tvůj věk velmi slušná a jelikož byla i mířená na správnou stranu, v zámku to ruplo a dveře se hlasitě rozletěly dokořán. Trám už jsi ale déle neudržela a tak řachl na podlahu. Dole to ztichlo.
Ovanul tě čerstvý vánek a cítíš mimo neskutečného návalu vzrušení i radost ze ztřeštěného dobrodružství! 
V zápětí se ozval dusot nohou po schodišti nahoru. //Saka, rychle!// Prolétne ti hlavou a vyběhneš na balkón. Jak se ale teď dostat dolů? 
Za zády slyšíš rychle se přibližující kroky. Každou chvíli už tu někdo bude! Musíš &lt;&lt;linkreplace &quot;jednat rychle!&quot;&gt;&gt;jednat rychle!
Naklonila ses přes okraj dřevěného zábradlí a koukla se na terasu. Jediná varianta, kterou vidíš je velký sud s děšťovou vodou hned vpravo pod balkónem... Je to sice celkem výška, ale ty už pěkně dlouho skáčeš do moře z útesů, takže to pro tebe není žádná velká výzva. Nadechneš se, nohy se ti přeci jen malinko třesou [[a skočíš]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="454" name="Zaklepat" tags="korektura" position="2950,0" size="100,100">Když jsi přiblížila ruku ke klepadlu, zjistila jsi, že je ještě napůl průhledná... Dveře se  samy otevřely a tys vešla. Dlouhá předsíň s těžkým kobercem a sešlými zdmi byla zaplněna aromatickým dýmem. Cítíš, jak se ti nohy boří do koberce. Snažíš se dostat ke dveřím na protější straně chodby. Některý krok jde velice lehce a jiný je zas jak se železnou botou. Všechno se to ustálilo až v momentě, kdy ses dotkla kliky na tmavých dveřích na konci chodby. &lt;&lt;linkreplace &quot;Dveře tichounce zavrzaly a odkryly novou podívanou...&quot;&gt;&gt;Dveře tichounce zavrzaly a odkryly novou podívanou...
Místnost je kulatá a všechny zdi jsou zaoblené tak, že to skoro vypadá jako vnitřek nějakého velkého vejce. Naproti dveřím je krb, ve kterém plápolá našedlý oheň. U něj stojí dvě křesla. V tom po pravé straně někdo sedí. To po levici je prázdné a čeká na tebe.

[[Posadit se]]
[[Zůstat stát]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="455" name="Zakroutit hlavou" tags="korektura" position="4575,3575" size="100,100">Zakroutila jsi nesouhlasně hlavou. Muž tě skenuje pohledem. &quot;No dóbře... sem tě zkoušel...&quot; Pokynul ti &quot;Tak šup běž!&quot; 
Chytla jsi vděčně za kliku a už otevíráš dveře, když ti je v půli námořník rukou zastaví. &quot;Á jakou že má barvu vousů?&quot;

[[Černou|Nedokončená odpověď]]
[[Hnědou|Nedokončená odpověď]]
[[Zrzavou|Nedokončená odpověď]]
[[Nemá vousy|Nedokončená odpověď]]</tw-passagedata><tw-passagedata pid="456" name="Zakřičet a ukázat na něco za jeho zády" tags="korektura" position="3875,350" size="100,100">Trik je to sice starý jak lidstvo samo, ale občas se mu zadaří i v dnešních nedůvěřivých dobách... Sebrala jsi celé své herectví do hrsti, zatvářila se vyloženě vyděšeně, ukázala prstem kamsi za něj a hlasitě zapištěla.
Muž to evidentně vůbec nečekal. Zmateně se zarazil a s nechápavým výrazem se ohlédl. Tato chvíle nepozornosti bohatě stačila na to, aby ses kolem něho prosmykla a už pádíš po schodech dolů. &quot;Hééj! Ty malá mrcho!&quot; zahulákal za tebou. 
Slyšíš, jak tě za zády pronásleduje dusání jeho nohou. Seběhla jsi dolů a...

[[Vyběhnout ven]]
[[Zkusit prolézt oknem za pultem]]</tw-passagedata><tw-passagedata pid="457" name="Zalez, než tě uvidí můj táta" tags="korektura" position="2950,850" size="100,100">&quot;Koukej zalízt, než tě uvidí můj táta!&quot; Zakřičíš na něj nazpátek. 
&quot;Ale ale, takže se budeš schovávat za tatínka, co, špindíro?&quot; Kluk se zvedne a rozhlédne se kolem. &quot;Ale já ho tu nikde nevidím! To se mě fakt tak bojíš, že si musíš vymýšlet, špindíro?&quot;
&quot;Ahh... na tohle nemám čas!&quot; Zavrčíš a otočíš se k odchodu. Teď ti však spadlo srdce až do žaludku, protože v uličce teď stojí jeho další dva kamarádíčci, kteří ti s úšklebkem zastoupili cestu. &quot;Co se ke mě otáčíš zády, když s tebou mluvím, špindíro?!&quot; 
Vzduchem cosi zasvištělo a v zápětí se ozvalo: *PLESK!* Shnilé jabko se ti rozprsklo po zátylku. To tě rozzuřilo. Není to poprvé, co ti něco podobného udělal, ale teď je to ta nejnevhodnější chvíle.
Musíš nějak jednat, a to rychle! Obhlédla jsi situaci a vidíš tu několik možností. Z kupy krabic, na kterých kluk stojí, trčí jakási tyč, kterou by se dalo použít k obraně. Taky bys mohla popadnout jednu dřevěnou krabici a rozběhnout se s ní proti klukům v cestě. Pak už se dá jen otočit se na patě a pelášit zpátky nahoru. Co zvolíš?

[[Tyč]]
[[Krabice]]
[[Běžet zpátky]]</tw-passagedata><tw-passagedata pid="458" name="Zalhat a říct, že se ti spalo taky špatně" tags="" position="0,500" size="100,100">&quot;Nó...&quot;
Trošku zašoupáš nohama.
&quot;Mně... mně se dnes taky hrozně špatně spalo!&quot;
Táta se na tebe jen letmo podívá a řekne: &quot;Nevymýšlej si, spalas jak dudek.&quot;
Tón, kterým to řekl, zcela jasně naznačuje, že debata je u konce - pozná, když lžeš.

&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $jaksemas = 0&gt;&gt;
&lt;&lt;set $jakjsisevyspal = 0&gt;&gt;
&lt;&lt;set $jakdlouhorybaris = 0&gt;&gt; 
&lt;&lt;set $dobranalada = 0&gt;&gt;
&lt;&lt;set $lhani = 1&gt;&gt;
&lt;&lt;set $bonbon to false&gt;&gt;</tw-passagedata><tw-passagedata pid="459" name="Zalhat, že jsi to bohužel nenašla" tags="korektura" position="3350,400" size="100,100">&quot;Já jen zahlédla, jak vám něco vypadlo, ale když jsem se pro to sehnula, tak jsem to nenašla...&quot; Odpovíš a hraješ smutnou a vystrašenou. &quot;Tak to určitě ty malej parchante!&quot; štěkne na tebe hospodyňka. Vyleze ze dveří ven před pekárnu, táhne tě za sebou jak pytel brambor a hodí tě na chodník. &quot;Příště si hezky stoupneš do fronty, spratku!&quot; Otočí se na patě a vkráčí nazpět do obchodu. Lidi se jí rychle klidí z cesty.
[[Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="460" name="Zalézt rychle zpátky" tags="korektura" position="4125,675" size="100,100">Znovu jsi tiše skočila za pytle a vyčkáváš. Slyšíš, jak došel až k nůši - kam ses původně zvažovala schovat - a všechny chleby do ní vysypal. //Jaj... to by asi bolelo,// pomyslíš si a jsi ráda, že jsi schovaná tam, kde jsi. Pak se ozvalo zaplácání, jak si pekař očistil ruce od mouky, potom už se otočil a je slyšet, jak zase schází dolů po schodech. //Uf...//
Přelezla jsi přes pytle nazpět do místnosti. Co teď? 

[[Zkusit dveře něčím vypáčit]]
[[Zkusit něčím rozbít okno]]</tw-passagedata><tw-passagedata pid="461" name="Zalézt rychle zpátky do nůše" tags="korektura" position="3825,1325" size="100,100">//V nůši to bylo bezpečný...// Usoudíš a střelhbitě vlezeš nazpět do nůše. V příští vteřině vidíš, jak pekař přišel až k tvému úkrytu &lt;&lt;linkreplace &quot;a pak...&quot;&gt;&gt;a pak...
Tě zasypala hromada bochníků. Tvůj výkřik byl ihned utnut jedním obzvlášť objemným kouskem, který ti spadl přímo do obličeje&lt;&lt;linkreplace &quot;...&quot;&gt;&gt;...
...Malátně ležíš přimáčknutá na dně nůše a cítíš, že ti z nosu teče teplý pramínek krve. Muž si - soudě podle tleskání - oprášil ruce a pak už je slyšet vzdalující se dusání nohou, až nakonec zmizelo po schodech dolů a znovu [[zavládlo ticho.]]
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="462" name="Započít druhou kapitolu" tags="Kapitola" position="1150,275" size="100,100">&lt;span style=&quot;font-size: 30px;&quot;&gt;&lt;b&gt;Kapitola II. &lt;/b&gt;&lt;/span&gt;&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;
&lt;span style=&quot;font-size: 22px;&quot;&gt;&lt;b&gt;Zloděj&lt;/b&gt;&lt;/span&gt;

Ten večer byl krásný. U večeřě trůnila na tvém talíři tebou ulovená ryba. To ti jídlo hned chutná jinak!
Po večeři tě rodiče ještě dlouho zaháněli do postele, protože jsi jim pořád  znovu a znovu vykládala, jaký boj se mezi tebou a rybou udál! 
&quot;Ano! My už to víme, zlatíčko,&quot; řekla pak s unaveným úsměvem máma. Dala ti pusu na čelo a zavřela dveře do tvého pokoje. Máš pokoj v druhém patře s výhledem na město a za ním moře. 
Ach, jak krásně se ti tu noc leželo v posteli... 
&lt;&lt;if $ukazalaprsten is true || $neukazalaprsten is true&gt;&gt;&lt;&lt;if $ukazalaprsten is true&gt;&gt;Ležíš a mimo úlovku máš teď na mysli i ten prstýnek... Táta byl tak překvapený, když jsi mu ho ukázala. &quot;Já ti říkal, že první úlovek je kouzelný!&quot; Večer jste ho ukázali mámě a ta ti ho s tvým svolením schovala k sobě: &quot;Abys ho neztratila.&quot;
Se vzpomínkou na mámin a tátův překvapený výraz a úsměv se hned lépe usíná...

[[Sen|Sen 2]]
&lt;&lt;elseif $neukazalaprsten is true&gt;&gt;Ležíš a mimo úlovku máš teď na mysli i ten krásný prstýnek, který ještě pořád leží v kapse tvých kalhot na židli u postele. Bylas tak unavená, že jsi ho zapoměla schovat do své tajné krabičky pod postelí.
Nu což... to počká do rána...

[[Sen]]
&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt; 

&lt;&lt;cacheaudio &quot;teplokratsi&quot; &quot;music/teplokratsi.mp3&quot;&gt;&gt;&lt;&lt;audio teplokratsi play&gt;&gt;</tw-passagedata><tw-passagedata pid="463" name="Zastavit se a počkat, až doběhnou k tobě, aby byli blíž u sebe" tags="korektura" position="2950,1525" size="100,100">Zabrzdila jsi a čekáš. Kluci se k tobě ženou jako dva rozzření berani. Tady už má cenu jen se krabicí ve správný okamžik rozmáchnout. Sklonila jsi krabici do úrovně pasu. Stoupla sis bokem do postoje připraveného k úderu, rozkymácela ji ze strany na stranu a nohy se ti trochu klepou. Ještě chvíli... á... &lt;&lt;linkreplace &quot;teď!&quot;&gt;&gt;teď!
Vší silou, jakou jsi jen byla schopna vyvinout, ses rozmáchla krabicí jako kladivem.
 *PRÁSK!* Krabice se velice přesně trefila prvnímu klukovi přímo do tváře. Ten se ihned po zádech skácel k zemi a nevypadá, že by ještě byl čehokoliv schopen. Nárazem o jeho tvář však krabice svůj let velice zpomalila a vychýlila směr, takže druhému klukovi narazila jen do nohy. Stačilo to na to, aby sebou hodil o zem tobě k nohám, ale v zápětí mu vylíta ruka a rozzuřeně po tobě chňapl.

[[Uskočit]]
[[Kopnout ho do tváře]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="464" name="Zatlouct jí něčím hlouběji" tags="korektura" position="4000,2300" size="100,100">Rozhlédla ses kolem a jediné, co by mohlo připadat v úvahu, je ten těžký trámek u schodiště nebo staré štokrle na druhé straně místnosti u zdi.

[[Trámek]]
[[Štokrle|Štokrle2]]</tw-passagedata><tw-passagedata pid="465" name="Zavládlo ticho." tags="korektura" position="4250,3000" size="100,100">&lt;&lt;if $proslakolem is true&gt;&gt;Pomaličku ses otočila a vidíš, že u vchodu do hospody už zůstal jen onen potetovaný námořník, který teď cosi vyřezává dlouhým zahnutým nožem do sudu, na kterém sedí. //Jiné cesty není... musím kolem něho projít.//
A tak jsi sesbírala veškerou odvahu a [[vyrazila ke dveřím.|Jít do hospody na pravo]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $schovanazasudem&gt;&gt;Pomaličku jsi se odplížila do větší vzdálenosti, aby to nebylo tolik nápadné a narovnala ses. U vchodu do hospody už zůstal jen onen potetovaný námořník, který teďka cosi vyřezává dlouhým zahnutým nožem do sudu, na kterém sedí. //Jiné cesty asi není... musím kolem něho projít.//
A tak jsi sesbírala veškerou odvahu a [[vyrazila ke dveřím.|Jít do hospody na pravo]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="466" name="Začátek" tags="" position="575,0" size="100,100">Loďka se kymácí a v poskakujících vlnkách se odráží ranní vycházející slunce. Hrdě svíráš pádlo v ruce, protože už ti je celých 8 let a to znamená, že už si mohla s tátou jet rybařit!
A tak teď sedíš s tátou ve veslici a pozoruješ ho, jak svižně vytahuje sítě.
Sice jsi už velká holka, ale síť je moc těžká a pádlování náročné, takže pádlem alespoň kýváš ze strany na stranu a občas s ním pleskneš o hladinu.
&quot;Vyplašíš ryby,&quot; zamumlá otec a nahodí udici.
&lt;&lt;if setup.oceneni(&quot;achievemen3&quot;)&gt;&gt; OCENěno&lt;&lt;/if&gt;&gt;\

[[Prohlédnout si břeh]]
[[Mluvit s tátou]]
[[Prozkoumat loďku]]

&lt;&lt;set $jaksemas = 1&gt;&gt;
&lt;&lt;set $jakjsisevyspal = 1&gt;&gt;
&lt;&lt;set $jakdlouhorybaris = 1&gt;&gt; 

&lt;&lt;set $lodka = 1&gt;&gt;
&lt;&lt;set $breh = 1&gt;&gt;
&lt;&lt;set $more = 1&gt;&gt;
&lt;&lt;set $Umrtí = 0&gt;&gt;

&lt;&lt;set $jablko = 0&gt;&gt;
&lt;&lt;set $money = 0&gt;&gt;
&lt;&lt;set $sušenka = 0&gt;&gt;
&lt;&lt;set $bonbon to false&gt;&gt;
&lt;&lt;set $hnůj = 0&gt;&gt;
&lt;&lt;set $pohmozdenaruka to false&gt;&gt;
&lt;&lt;set $klicepekarna to false&gt;&gt;
&lt;&lt;set $bonbon to false&gt;&gt;
&lt;&lt;set $dobranalada = 0&gt;&gt;
&lt;&lt;set $jaksemas = 1&gt;&gt;
&lt;&lt;set $jakjsisevyspal = 8&gt;&gt;
&lt;&lt;set $jakdlouhorybaris = 8&gt;&gt; 
&lt;&lt;set $lhani = 8&gt;&gt;
&lt;&lt;set $malovani = 8&gt;&gt;
&lt;&lt;set $dobranalada = 8&gt;&gt;
&lt;&lt;set $lhani = 8&gt;&gt;
&lt;&lt;set $pristav to false&gt;&gt;
&lt;&lt;set $heslo to false&gt;&gt;
&lt;&lt;set $baaba to false&gt;&gt;
&lt;&lt;set $ukazalaprsten to false&gt;&gt;
&lt;&lt;set $neukazalaprsten to false&gt;&gt;
&lt;&lt;set $vyrazenyzubporucika to false&gt;&gt;
&lt;&lt;set $variantalodka to false&gt;&gt;
&lt;&lt;set $bába to false&gt;&gt;
&lt;&lt;set $hospodalevo to false&gt;&gt;
&lt;&lt;set $zkusitprojit to false&gt;&gt;
&lt;&lt;set $pristav to true&gt;&gt;
&lt;&lt;set $zkusitprojit to true&gt;&gt;
&lt;&lt;set $hrabe to false&gt;&gt;
&lt;&lt;set $pohmozdenaruka to true&gt;&gt;
&lt;&lt;set $koberec = 8&gt;&gt;
&lt;&lt;set $postel = 8&gt;&gt;
&lt;&lt;set $strelena to false&gt;&gt;
&lt;&lt;set $neuctivost to false&gt;&gt;
&lt;&lt;set $podpis = 8&gt;&gt;
&lt;&lt;set $schodyhospoda to false&gt;&gt;
&lt;&lt;set $nalevo = 8&gt;&gt;
&lt;&lt;set $napravo = 8&gt;&gt;
&lt;&lt;set $nasranynamornik to false&gt;&gt;
&lt;&lt;set $namornikovazprava to false&gt;&gt; 
&lt;&lt;set $dalsitabulkavole to false&gt;&gt;
&lt;&lt;set $konecvuz to false&gt;&gt;
&lt;&lt;set $kopanecRozkrok = 8&gt;&gt;
&lt;&lt;set $dedecek to false&gt;&gt;
&lt;&lt;set $kuchyne to false&gt;&gt;
&lt;&lt;set $mokresaty to false&gt;&gt;
&lt;&lt;set $okno = 8&gt;&gt;
&lt;&lt;set $patro = 8&gt;&gt;
&lt;&lt;set $pozorovatmore = 8&gt;&gt;
&lt;&lt;set $strelena to false&gt;&gt;
&lt;&lt;set $projitsemezistanky to false&gt;&gt;
&lt;&lt;set $udička = 8&gt;&gt; 
&lt;&lt;set $dutahlava to false&gt;&gt;
&lt;&lt;set $schovanazasudem to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $kopanecRozkrok = 8&gt;&gt;
&lt;&lt;set $patro = 8&gt;&gt;
&lt;&lt;set $sušenka = 8&gt;&gt;
&lt;&lt;set $těsně to false&gt;&gt;
&lt;&lt;set $zlodejicek to false&gt;&gt;
&lt;&lt;set $nastudovanidveri to false&gt;&gt;
&lt;&lt;set $uzjednoulezla to false&gt;&gt;
&lt;&lt;set $jestenelezla to false&gt;&gt;
&lt;&lt;set $konecvkosi to false&gt;&gt;
&lt;&lt;set $těsně to false&gt;&gt;
&lt;&lt;set $variantalodka to false&gt;&gt;
&lt;&lt;set $hrabe to false&gt;&gt;
&lt;&lt;set $tramek to false&gt;&gt;
&lt;&lt;set $klicepekarna to false&gt;&gt;
&lt;&lt;set $bolavyzadek to false&gt;&gt;
&lt;&lt;set $zeptatsepani to trfalseue&gt;&gt;
&lt;&lt;set $opet to false&gt;&gt;
&lt;&lt;set $těsně to false&gt;&gt;
&lt;&lt;set $fousy to false&gt;&gt;
&lt;&lt;set $okno = 8&gt;&gt;
&lt;&lt;set $zkusitprojit to false&gt;&gt;
&lt;&lt;set $hospodalevo to false&gt;&gt;
&lt;&lt;set $pristav to false&gt;&gt;
&lt;&lt;set $mokra to false&gt;&gt;
&lt;&lt;set $padzokna to false&gt;&gt;
&lt;&lt;set $smrad to false&gt;&gt;
&lt;&lt;set $rozbitehrnky to false&gt;&gt;
&lt;&lt;set $kuchyne to false&gt;&gt;
&lt;&lt;set $spatnyklic = 8&gt;&gt;
&lt;&lt;set $skokslama to false&gt;&gt;
&lt;&lt;set $zeptatsepani to false&gt;&gt;
&lt;&lt;set $projitsemezistanky to false&gt;&gt;
&lt;&lt;set $jestenelezla to false&gt;&gt;
&lt;&lt;set $acivmenttvrdohlavazvedavost to false&gt;&gt;
&lt;&lt;set $jaksemas = 1&gt;&gt;
&lt;&lt;set $jakjsisevyspal = 1&gt;&gt;
&lt;&lt;set $jakdlouhorybaris = 1&gt;&gt;
&lt;&lt;set $dalsibod = 0&gt;&gt;
&lt;&lt;set $Umrtí = 0&gt;&gt;
&lt;&lt;set $prstýnek to false&gt;&gt;

&lt;&lt;cacheaudio &quot;kapitola1&quot; &quot;music/kapitola1.mp3&quot;&gt;&gt;
&lt;&lt;audio kapitola1 play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="467" name="Začít křičet, aby tě vytáhli" tags="korektura" position="3750,5850" size="100,100">&quot;Haló! Pomoc! Zavřeli jste mě tu!&quot; Začneš hulákat a v tom malém prostoru tě ze sebe samotné bolí uši. V příští vteřině se však i ten poslední otvor uzavřel masivní zátkou. Všechny zvuky z venčí zmizely a ocitla ses v naprosté tmě...
Chvíli se snažíš pěstmi bušit do stěn, sud je však zjevně velmi pevný a jeho zdi jsou tlusté. Po chvíli najednou cítíš, jak se sud začal hýbat. Zapřela ses o stěny a snažíš se držet balanc. Sudem to kymácí ze strany na stranu a potom se náhle překlopil na bok. Spadla jsi a válíš se mezi tvrdými balíky. Hned na to však sud někdo začal kutálet po molu a ty teď uvnitř nadskakuješ a motáš se dokolečka. Jeden balík vyjel po stěně nahoru a když se náhle bečka zastavil, plnou vahou ti spadl na hlavu až jsi [[ztratila vědomí...]]</tw-passagedata><tw-passagedata pid="468" name="Začít páčit" tags="korektura" position="3875,2300" size="100,100">Vzala jsi za naběračku a začala:

[[Páčit ji doleva]]
[[Páčit ji doprava]]</tw-passagedata><tw-passagedata pid="469" name="Zelí" tags="korektura" position="3325,3400" size="100,100">Přistoupila jsi ke stánku a jakoby nic, se nenápadně natahuješ po nejbližší hlávce zelí.
Prodejce si zrovna přes pult s někým povídá, takže dívenka balancující s - na její vzrůst - až příliš velkou hlávkou zelí, unikla jeho pozornosti. Asi by to ani nikdy nezjistil, nebýt toho, že v příští chvíli děvčátko zakoplo a zelím praštilo prase v uličce přímo po rypáku. Prase hlasitě zakvičelo, nabralo dívenku čumákem, ta udělala poloviční přemet a skončila na jeho hřbetu. Ona zapištěla, prase zakvičelo a s ní na zádech se rozběhlo uličkou mezi stánky. Děvčátko pak po hřbetu zklouzlo a dopadlo zadkem na nakřáplou hlávku, která se pod ní rozletěla na kousky.
&quot;Jááu!&quot; Mneš si bolavý zadek a zvedáš se ze země. &quot;Co tam provádíš?!&quot; Okřikne tě prodejce a vylézá zpoza stánku. Vylekaně jsi vyskočila, a než se stihl nadát, zmizela jsi [[bránou pryč z tržiště.|bránou ven z trhu.]]

&lt;&lt;set $bolavyzadek to true&gt;&gt;</tw-passagedata><tw-passagedata pid="470" name="Zeptat se bezdomovce" tags="korektura" position="3525,2575" size="100,100">Koukneš na bezdomovce, z hluboka se nadechneš, přemůžeš v sobě tu trochu strachu z neznámých lidí, se kterými se nemáš bavit a promluvíš na něj.
&quot;P-pane?&quot; Oslovíš ho zdráhavě. Muž tě už chvilku potutelně sleduje a jen čekal, než ho oslovíš. &quot;Copak, holčičko?&quot; Ušklíbne se na tebe
&quot;Asi bys taky chtěla vědět, kam ten týpek běžel a co je zač, co?&quot; Ušklíbne se na tebe. To tě úplně zarazilo. Pohlédlas na něj a nevěřícně zablekotala: &quot;Vy-vy ho-ó znáte?&quot; Muž se rozchechtal až z toho začal kašlat. Pak si utřel rukávem slinu, která mu začala stékat po bradě a šibalsky se na tebe zahleděl svýma pronikavě černýma očima. &quot;Všechno se dozvíš...&quot; Protáhne k tobě nataženou ruku. &quot;Když mi dáš minci...&quot; Řekne s rozšklebeným úsměvem a znovu zachrmlá.

[[Zkusit nějakou minci vylovit z kašny]]
[[Odmítnout a odejít]]
&lt;&lt;if $money gte 1&gt;&gt;[[Dát mu svou minci|Dát mu svou minci z kapsy]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="471" name="Zeptat se bezdomovce informace" tags="korektura" position="2975,2475" size="100,100">Koukneš na bezdomovce, z hluboka se nadechneš, přemůžeš v sobě tu trochu strachu z neznámých lidí, se kterými se nemáš bavit a promluvíš na něj.
&quot;P-pane?&quot; Oslovíš ho zdráhavě. Muž tě už chvilku potutelně sleduje a jen čekal, než ho oslovíš. &quot;Copak holčičko?&quot; Ušklíbne se na tebe
&quot;Asi bys taky chtěla vědět, kam ten týpek běžel a co je zač, co?&quot; Ušklíbne se na tebe. To tě úplně zarazilo. Pohlédla jsi na něj a nevěřícně zablekotala: &quot;Vy-vy ho-ó znáte?&quot; Muž se rochcechtal až z toho začal kašlat. Pak si utřel rukávem slinu, která mu začala stékat po bradě a šibalsky se na tebe zahleděl svýma pronikavě černýma očima. &quot;Všechno se dozvíš...&quot; Protáhne k tobě nataženou ruku. &quot;Když mi dáš minci...&quot; Řekne s rozšklebeným úsměvem a znovu zachrmlá.

[[Zkusit nějakou minci vylovit z kašny]]
[[Odmítnout a odejít]]
&lt;&lt;if $money gte 1&gt;&gt;[[Dát mu svou minci|Dát mu svou minci z kapsy]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="472" name="Zeptat se jí" tags="korektura" position="2400,675" size="100,100">&quot;Ehmm... P-paní?&quot; 
Žena tě mlčky pozoruje.
&quot;Neběžel tudy před chvílí někdo?&quot; zeptáš se naléhavě.
Žena na tebe dlouze kouká... Na tvůj vkus až příliš dlouze! Pak nakonec důkladně pobafá z dýmky a napůl zahalená v štiplavém kouři zavrtí hlavou. Rozladěně zabručíš něco jako &quot;Mm... díky&quot; A vyrazíš [[nazpět k rozcestí]]</tw-passagedata><tw-passagedata pid="473" name="Zeptat se někoho jiného" tags="korektura" position="2650,550" size="100,100">Ošklivě se na ženu zakaboníš a obrátiš se na pána, který stojí hned vedle a vypadá mnohem vlídněji. &quot;Prosím pane...&quot; Nestihneš doříct.
&quot;Ale to víš že jsem ho viděl, děvčátko,&quot; Skočil ti postarší pán pohotově do řeči. Žena se na něj otočí a nesouhlasně zakroutí hlavou. 
&quot;Způsobil tu pěkný povyk. Procpal se skrz celou frontu a utekl tam tou uličkou dolů. Víš, tou co vede na tržiště.&quot;
&quot;Ahá... moc děkuju.&quot; V hlavě se ti to rozjelo na plné obrátky. Vybavila ssi mapu města a něco si uvědomila.
Teoreticky by se dalo prolézt skrz pekárnu až na její terasu... A tam, kdyby ses vynasnažila a nějak by se ti podařilo slézt dolů... bys mohla získat pěkný náskok! Zní to ale malinko ztřeštěně... Dá se určitě běžet i okolo pekárny v zlodějových šlépějích... tak kudy?

[[Skrz pekárnu]]
[[Kolem pekárny]]</tw-passagedata><tw-passagedata pid="474" name="Zeptat se někoho ve frontě, jestli zloděje náhodou neviděl" tags="korektura" position="2700,425" size="100,100">Doběhla jsi k frontě lidí a zprudka zabrzdila. Pár lidí se na tebe udiveně podívalo.
&quot;Paní mohla bych se vás zeptat?&quot; Oslovíš udýchaně nějakou ženu v prostých hnědých šatech, s šátkem na hlavě a košíkem v ruce. &lt;&lt;if $hnůj eq 1&gt;&gt;Žena se na tebe podívá a ohrne nos. &quot;Než na mě budeš mluvit, běž se radši vykoupat. Smrdíš jak malí čuník.&quot; A odvrátila se.
Sakra... ten hnůj budeš muset co nejdřív nějak smýt...

[[Vniknout do pekárny]]
[[Zeptat se někoho jiného]]
[[Vzít to kolem pekárny na tržiště]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $hnůj eq 0&gt;&gt;Žena se na tebe vlídně podívala a odvětila: &quot;Copak holčičko?&quot;
&quot;Neběžel tudy před chvilkou někdo?&quot;
&quot;Ale to víš že jo, děvčátko. Způsobil tu pěkný povyk. Procpal se skrz celou frontu a utekl tam tou uličkou dolů. Víš, tou co vede na tržiště.&quot;
&quot;Ahá... moc děkuju.&quot; V hlavě se ti to rozjelo na plné obrátky. Vybavila sis mapu města a něco si uvědomila.
Teoreticky by se dalo prolézt skrz pekárnu až na její terasu... A tam, kdyby ses vynasnažila a nějak by se ti podařilo slézt dolů... bys mohla získat pěkný náskok! Zní to ale malinko ztřeštěně... Dá se určitě běžet i okolo pekárny v zlodějových šlépějích... tak kudy?

[[Skrz pekárnu]]
[[Kolem pekárny]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="475" name="Zeptat se paní v nejbližším stánku" tags="korektura" position="3125,2025" size="100,100">Přistoupila jsi k nebližšímu stánku po tvé pravici. Pod rozviklanou konstrukcí s bledě modrou plachtou na dřevěném pultě leží několik velkých kup mrkví, okurek a cibulí. Před pultem stojí na zemi velké obouchané krabice s bramborami, na kterých zasychá hlína - byly zjevně vykopány teprve dnes ráno -. U stánku je slušný mumraj a prodavačka mohutnějších proporcí v ušpiněné zástěře s bílým šátkem na hlavě právě na mosazných vahách odvažuje kupu okurek. U toho si hlasitě povídá s nějakým mladým pánem před pultem a přihazuje na druhou stranu vah drobná závaží.

[[Vyslechnout rozhovor a počkat než si dopovídají]]
[[Vstoupit jim do řeči]]

&lt;&lt;set $zeptatsepani to true&gt;&gt;</tw-passagedata><tw-passagedata pid="476" name="Zeptat se pohublé ženy s otepí dříví..." tags="korektura" position="3650,2975" size="100,100">Zkusila jsi to už spíš jen tak, než že by jsi od toho něco čekala, když tu najednou.
&quot;Copak děvečko?&quot; Zeptá se paní s úsměvem a odloží otep dříví na zem. &quot;Víte paní...&quot; zašoupeš nohama &quot;Já bych potřebovala pomoct vytáhnout penízek z kašny...&quot;

[[&quot;On mi tam spadl&quot;|On mi tam spadl paní]]
[[&quot;On by se mi teď moc hodil&quot;|On by se mi teď moc hodil paní]]</tw-passagedata><tw-passagedata pid="477" name="Zeptat se rybáře na svoz" tags="korektura" position="5125,3075" size="100,100">Vyběhla jsi na molo, máváš rukama a voláš na ně: &quot;Pana, pane! Počkejte chvíli!&quot; Muž, který už zrovna odvázal lano a chystá se odrazit pádlem od mola se na tebe podíval a zvedl obočí. Doběhla jsi udýchaně až k němu a teď se snažíš popadnout dech. &quot;Co potřebuješ?&quot; ptá se tónem, naznačujícím, že na tebe nemá čas.&quot; 
&quot;Prosím nesvezl byste mě kousíček? Jen úplně malinkej kousek tam k tomu molu.&quot; A ukážeš tím směrem. Muž se ohlédne: &quot;Tam k tomu soukromýmu u kterýho kotví ta velká loď?&quot; Zakýváš hlavou. &quot;Přesně tam.&quot;
&quot;No a proč tam jako chceš?&quot; Ptá se podezřívavě...

[[Mám tam otce]]
[[Chci se tam podívat]]</tw-passagedata><tw-passagedata pid="478" name="Zeptat se rybáře na svoz 2" tags="korektura" position="5025,3475" size="100,100">Vyběhla jsi na molo, máváš rukama a voláš na ně: &quot;Pana, pane! Počkejte chvíli!&quot; Muž, který už lano odvázal a chystá se odrazit pádlem od mola se na tebe podíval a zvedl obočí. Doběhla jsi udýchaně až k němu a teď se snažíš popadnout dech. &quot;Co potřebuješ?&quot; ptá se tónem, naznačujícím, že na tebe nemá čas.&quot; 
&quot;Prosím nesvezl byste mě kousíček? Jen úplně malinkej kousek tam k tomu molu.&quot; A ukážeš tím směrem. Muž se ohlédne: &quot;Tam k tomu soukromýmu u kterýho kotví ta velká loď?&quot; Zakýváš hlavou. &quot;Přesně tam.&quot;
&quot;No a proč tam jako chceš?&quot; Ptá se podezřívavě...

[[Mám tam otce]]
[[Chci se tam podívat]]</tw-passagedata><tw-passagedata pid="479" name="Zeptat se vysokého fousatého pána s vestičkou a pupkem..." tags="korektura" position="3500,2975" size="100,100">Zkusila jsi to už spíš jen tak, než že by jsi od toho něco čekala, když tu najednou.
&quot;Copak si přeješ holčičko?&quot; Zeptá se tě pán s úsměvem. &quot;Víte pane... &quot;zašoupeš nohama &quot;Já bych potřebovala pomoct vytáhnout penízek z kašny.&quot;

[[&quot;On mi tam spadl&quot;]]
[[&quot;On by se mi teď moc hodil&quot;]]</tw-passagedata><tw-passagedata pid="480" name="Zklamaně jsi vyšla ven" tags="Posrala-to korektura" position="4700,3000" size="100,100">&lt;&lt;if $zpomaleni lte 5&gt;&gt;&lt;&lt;if $zkusitprojit is false&gt;&gt;Tak... kudy tedy?

[[Jít do hospody naproti|Jít do hospody na pravo]]
[[Jít do přístavu]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zkusitprojit is true&gt;&gt;Zbývá tedy jen jedno...

[[Jít do přístavu]]

&lt;&lt;/if&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi však udělala již příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]

&lt;&lt;set $konechospoda to true&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;set $opet to true&gt;&gt;

&lt;&lt;if $dalsibod eq 1&gt;&gt;&lt;&lt;set $zpomaleni += 1&gt;&gt;&lt;&lt;set $dalsibod = 0&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="481" name="Zkusit dveře něčím vypáčit" tags="korektura" position="3925,1700" size="100,100">Přistoupíš ke dveřím a pořádě si je prohlédneš. Nejsou tak těžké a masivní, jako dveře vchodové, ale ani příliš tenké. Jsou z tmavě hnědého dubu a klika se zámkem má ošoupaně zlatavou barvu. Soudě dle četných škrábanců a usazené špíny, mají už něco za sebou...No, vypáčit je každopádně nebude nic jednoduchého...

[[Rozmyslet si to a jít rozbít okno|Zkusit něčím rozbít okno]]
[[Vydat se cestou vypáčení dveří]]</tw-passagedata><tw-passagedata pid="482" name="Zkusit jít po schůdcích do patra" tags="korektura Změna-hudby" position="3500,775" size="100,100">Přistoupila jsi k řetízku a jakoby nic se rozhlížíš kolem, jestli tě nikdo nesleduje. Když už jsi si jistá, nahneš se a... šup! Rychle ho podlezeš a co nejnenápadněji vycupitáš nahoru. Všeobecný mumraj se rázem ztišil, když jsi ho nechala dole za sebou a vstoupila na dřevěnou podlahu v patře. Je tu celkem přítmí a rozeznáváš jen obrysy pytlů s moukou, nůší s čerstvýmy chleby a štosy bedýnek. Hlavním zdrojem světla je okno a dveře vedoucí na balkón nad terasou. To je ono! Přiběhneš k dveřím... //Ale ne!// procedíš mezi zuby. Je zase zamčeno. Tím ale ještě trable nekončí, protože se zespod právě ozvalo zacinkání řetízku a těžké kroky někoho, kdo jde nahoru!

[[Schovat se]]

&lt;&lt;set $tramek to false&gt;&gt;
&lt;&lt;set $klicepekarna to false&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="483" name="Zkusit nějakou minci vylovit z kašny" tags="korektura" position="3500,2725" size="100,100">&lt;&lt;if $pohmozdenaruka is false&gt;&gt;Otočila jsi se nazpět ke kašně, přitáhla se a nahnula  přes její kamenný okraj. Čeříš teď hladinu svým dechem  a zahledíš se skrze ni zkoumavě na na dno. //Áá! Je tam!// Na dně se chabě leskne jedna jediná mince. Jak ji odtamtud ale získat?

[[Ponořit se pro ni]]
[[Poprosit nějakého kolemjdoucího]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $uzjednoulezla is true&gt;&gt;Otočila jsi se nazpět ke kašně. Kvůli své bolavé ruce se však bohužel nemůžeš přitáhnout a nahnout se přes její okraj. Alespoň jsi však párkrát vyskočila a na několikátý pokus uvidíš, že na dně se chabě leskne jedna jediná mince. Jak ji odtamtud ale dostat... rozhlédneš se kolem a vidíš jen jedno východisko...

[[Poprosit nějakého kolemjdoucího, aby ti ji pomohl vylovit|Poprosit nějakého kolemjdoucího]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $pohmozdenaruka is true and $jestenelezla is true&gt;&gt;Otočila jsi se nazpět ke kašně. Dala jsi ruce na okraj a chystáš se přitáhnout, když tu ti &lt;&lt;if $rozbitehrnky is true&gt;&gt;znovu &lt;&lt;/if&gt;&gt;projela pohmožděným zápěstím pichlavá bolest a ty jsi toho rychle nechala... //Co teď?//
Alespoň jsi párkrát vyskočila a na několikátý pokus uvidíš, že na dně se chabě leskne jedna jediná mince. Jak ji od tamtud ale dostat... rozhlédneš se kolem a vidíš jen jedno východisko...

[[Poprosit nějakého kolemjdoucího, aby ti ji pomohl vylovit|Poprosit nějakého kolemjdoucího]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="484" name="Zkusit něčím rozbít okno" tags="korektura" position="4400,1000" size="100,100">&quot;Tak a dost! já tě prostě něčím rozmlátím!&quot; Procedíš mezi zuby, naštvaně oknu pohrozíš prstem a rozhlédneš se kolem. Moc tu toho na rozbíjení oken není, ale ty si poradíš.
V dálním rohu místnosti stojí staré štokrle, v jednom z otevřených pytlů se leskne masivní železná naběračka a ze stropu visí řetěz. To je všechno, co přichází v úvahu...

[[Staré štokrle]]
[[Naběračka]]
[[Řetěz]]</tw-passagedata><tw-passagedata pid="485" name="Zkusit nůši rozkymácet, aby spadla" tags="korektura" position="3950,1450" size="100,100">Začneš vyprošťovat ruce. Nikdy bys neřekla, že vyprošťování zpod hory bochníků bude tak těžké... Vlastně... bys ani nikdy nečekala, že se budeš někdy v životě zpod hory bochníků hrabat... Zní to až absurdně, ale fantastická představa, jak se tou hromadou prokoušeš naráží na tvrdou realitu, kdy máš pocit, že se odsud snad nedostaneš. Je to opravdu namáhavé. Po dlouhém boji se ti konečně podařilo dostat končetiny k tělu. Ležíš tam teď jak vajíčko v chlebovém vězení a začneš se rytmicky &lt;&lt;linkreplace &quot;pohupovat ze strany na stranu.&quot;&gt;&gt;pohupovat ze strany na stranu.
Cítíš, jak se nůše postupně začíná houpat s tebou, až se pomaličku odlepuje ze země. Ještě pár zhoupnutí &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a... 
Žuch! Nůše se převrátila a všude po zemi se rozlétly bochníky. Vyškrábeš se ven, bolavě se narovnáš a když shledáš, že &lt;&lt;if $hnůj eq 1&gt;&gt;jsi od hlavy až k patě celá od mouky, která se ti ještě nalepila na hnůj. Zděsíš se a zapřísaháš se, že jakmile bude příležitost, okamžitě se umyješ!&lt;&lt;/if&gt;&gt;&lt;&lt;if $hnůj eq 0&gt;&gt;jsi od hlavy až k patě celá bílá od mouky rychle se oprášíš a utřeš pramínek krve pod nosem.&lt;&lt;/if&gt;&gt;
Tak... co teď? 
&lt;&lt;if $okno eq 0&gt;&gt;Dole už jsi šanci měla,takže ti zbývá:&lt;&lt;/if&gt;&gt;
[[Zkusit dveře něčím vypáčit]]
[[Zkusit něčím rozbít okno]]
&lt;&lt;if $okno eq 1&gt;&gt;[[Jít dolů zkusit vylézt oknem]]&lt;&lt;/if&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="486" name="Zkusit prolézt oknem za pultem" tags="korektura" position="4950,1850" size="100,100">... zamířilas k pultu. //Teď to jen nepokazit...//
Přiběhla jsi k dvířkům na konci pultu a zprudka jimi proběhla. Paní v zástěře, která zrovna nesla tác plný sušenek, zaječela a tác jí s rachotem spadl na zem. Sušenky se rozlétly všude kolem. &lt;&lt;if $sušenka eq 0&gt;&gt;Jednu jsi za letu chytila a strčila jí do kapsy. Ještě hřeje.&lt;&lt;set $sušenka = 1&gt;&gt;&lt;&lt;/if&gt;&gt;&quot;Chyťte ji někdo!&quot; Slyšíš, jak za tebou křičí pekař.
Doběhla jsi až k oknu. Jsou pod ním poličky, které parádně poslouží jako žebřík. Šplháš po nich a když ses vydrápala až na desku přímo před oknem, vrazil kuchař do kuchyně a rozběhl se k tobě. Na nic jsi nečekala a rychle [[skočila ven.]]

&lt;&lt;set $těsně to true&gt;&gt;</tw-passagedata><tw-passagedata pid="487" name="Zkusit přemluvit paní za pultem" tags="korektura" position="3100,775" size="100,100">Přiběhneš k pultu a už chceš promluvit na prodavačku, když tu si všimneš, že zrovna pilně plní objednávku pro onu nepříjemnou hospodyňku, která ti před chvilkou dala tak zabrat. //To radši nebudu pokoušet...// pomyslíš si.

[[Porozhlédnout se po alternativě]]</tw-passagedata><tw-passagedata pid="488" name="Zkusit se jí zeptat, zda neviděla zloděje" tags="korektura" position="3200,2275" size="100,100">&quot;A prosím vás...&quot; Zeptáš se jí spěšně. &quot;Neviděla jste tudy před chvílí náhodou někoho utíkat? Někoho, kdo vypadal, že má naspěch?&quot; Žena se zamračí a zamyslí se. &quot;Ale ano děvče, to víš, že tudy někdo takový běžel... Měl tmavé vousy do špičky a byl celý v černém. Zrovna jsem sem táhla trakař a on mě málem shodil holomek jeden!&quot; 
&quot;No a nevíte náhodou, kam běžel?&quot; zeptáš se naléhavě. Žena si promnula čelo a řekla: &quot;No... co jsem ho sledovala, tak doběhl k fontáně ale dál už bohužel nevím... Do cesty mi vlezl houf lidí a když odešli, už byl tatam.&quot; 
&quot;Děkuju moc!&quot; Řekneš a už se máš k odchodu, když tě ještě žena zastaví. &quot;Počkej zlatíčko. Tady máš...&quot; Řekne žena a podá ti stříbrný penízek. &quot;Kup si za to něco dobrého...&quot; 
S poděkováním jsi od ní penízek převzala a už [[utíkáš k fontáně.|spěšně k ní doběhla]]

__//Získala jsi minci//__ &lt;&lt;set $money += 1&gt;&gt;


&lt;&lt;set $fousy to true&gt;&gt;</tw-passagedata><tw-passagedata pid="489" name="Zkusit se proplížit k oknu" tags="korektura" position="3150,900" size="100,100">Rozhlédneš se důkladně jestli tě nikdo nepozoruje a jakoby ledabyle dojdeš až k pultu. Ten je v místě u dveří na verandu dělený vrátky, kudy běžně vchází a vychází pracovníci. Varianty jsou tu dvě... Buď počkat, než někdo z pekařů odtamtud vyjde ven a v moment zavírání dvířek tam proklouzneš, nebo tam pronikneš sama, ale bude to možná nápadnější, protože co si pamatuješ, dvířka vždycky hlasitě vrzala.

[[Počkat, než tudy někdo projde.]]
[[Není na co čekat!]]

&lt;&lt;set $okno = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="490" name="Zkusit se prosmyknout mezi nohama lidí" tags="korektura" position="3100,275" size="100,100">Doběhla jsi až ke vchodu a skrčená vklouzla pod nohy lidí. Jelikož jsi dostatečně malá, není to pro tebe žadný problém. Svižně kličkuješ až ke dveřím. Tam jsi narazila na sukni, která (jak zjistíš, když se letmo podíváš nahoru) patří tlusté hospodyňce, která se zrovna snaží procpat dovnitř. Není jiné cesty a tak jí &lt;&lt;linkreplace &quot;vklouzneš pod sukni&quot;&gt;&gt;vklouzneš pod sukni.
Potlačíš smích, když zpozoruješ její obrovské spodničky, a pak už vylezeš na druhé straně. Narovnáš se a... Macatá ruka tě zezadu chytne za límec. Vystrašeně se otočíš a uvidíš brunátný obličej rozhněvané hospodyňky. &quot;Ty malá mrcho! Cos tam dělala?!&quot;

[[&quot;Pardon, já zakopla...&quot;]]
[[&quot;Ono vám něco spadlo, tak jsem se pro to sehnula, abych vám to podala...&quot;]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="491" name="Zkusit se vyhrabat nahoru" tags="korektura" position="4075,1425" size="100,100">Začneš vyprošťovat ruce. Nikdy bys neřekla, že vyprošťování zpod hory bochníků bude tak těžké... Vlastně... bys ani nečekala, že se budeš někdy v životě z pod hory bochníků hrabat... Zní to až absurdně, ale fantastická představa, jak se tou horou prokoušeš, naráží na tvrdou realitu, kdy máš pocit, že se odtud snad nedostaneš. Je to fakt pěkně namáhavé. Sotva jsi vyprostila ruce a přitáhla je k tělu, už jsi naznala, když [[zkusíš nůši rozkymácet.]]</tw-passagedata><tw-passagedata pid="492" name="Zkusit se vymluvit" tags="korektura" position="4425,3150" size="100,100">&quot;Nó víté...&quot; Začneš.

[[Mě tady pracuje táta]]
[[Poslali mě předat zprávu]]
[[Říct, že jsi donesla ryby a ukázat za sud, aby se ohlédl.]]</tw-passagedata><tw-passagedata pid="493" name="Zkusit to vylovit sama" tags="" position="975,975" size="100,100">//Jsem dospělá a silná!// pomyslíš si a začneš namotávat udici.
Je to čím dál tím těžší a ty už jsi v obličeji úplně rudá vypětím sil. 
Namotáváš však &lt;&lt;linkreplace &quot;dál!&quot;&gt;&gt; dál!

&quot;Už je vidět, jak se cosi mrská na hladině... udice se pod váhou prohýbá a ty musíš &lt;&lt;linkreplace &quot;vynaložit opravdové úsilí...&quot;&gt;&gt; vynaložit opravdové úsilí...
  
  Ruce se ti začínají třást a čelo máš orosené potem... &lt;&lt;linkreplace &quot;To dám!&quot;&gt;&gt; To dám!
  
  Pomyslíš si odhodlaně a &lt;&lt;linkreplace &quot;trhneš udicí.&quot;&gt;&gt; trhneš udicí
  
  *Škub!* *BUM!* Ryba velká asi jako menší krysa sebou mrská na dně loďky!
   [[Otřeš si pot z čela a nevěřícně se na ni zadíváš...]]
      
      
      &lt;&lt;/linkreplace&gt;&gt;
    
    
    &lt;&lt;/linkreplace&gt;&gt;
  
  
  &lt;&lt;/linkreplace&gt;&gt;
     
     
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="494" name="Zkusit zahrát na city a zalhat, že se ti dnes spalo špatně" tags="" position="0,750" size="100,100">&quot;Nó...&quot;
Trošku zašoupáš nohama.
&quot;Mně... mně se dnes spalo hrozně špatně a skoro jsem nespala!&quot;
Táta se na tebe jen letmo podívá a řekne &quot;Nevymýšlej si Ándreo, spalas jak dudek.&quot;
Tón, kterým to řekl, zcela jasně naznačuje, že debata je u konce - pozná, když lžeš.

&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $jaksemas = 0&gt;&gt;
&lt;&lt;set $jakjsisevyspal = 0&gt;&gt;
&lt;&lt;set $jakdlouhorybaris = 0&gt;&gt; 
&lt;&lt;set $dobranalada = 0&gt;&gt;
&lt;&lt;set $lhani = 1&gt;&gt;
&lt;&lt;set $bonbon to false&gt;&gt;</tw-passagedata><tw-passagedata pid="495" name="Znovu ji hodila" tags="korektura" position="4775,1225" size="100,100">Znovu ses napřáhla a mrštila ji proti sklu. Tentokrát už to sklo nevydrželo a roztříštilo se na kusy. Naběračka s řinčením dopadla na zem před okno a střepy ji zasypaly.
Kroky zezdola zrychlily a každou chvíli tu někdo bude! Prolezla bys oknem, ale je tam ještě hodně střepů, trčících přímo z rámu. //Co dělat?!//

[[Vylézt opatrně rámem mezi střepy]]
[[Chňapnout naběračku a ještě trčící střepy vymlátit]]</tw-passagedata><tw-passagedata pid="496" name="Znovu lovit" tags="" position="1075,1100" size="100,100">Tentokrát už ti trvalo jen tři pokusy, než jsi úspěšně přehodila háček přes palubu!
A teď už jen 
&lt;&lt;linkreplace &quot;čekat...&quot;&gt;&gt;


  &lt;&lt;linkreplace &quot;A čekat...&quot;&gt;&gt;
  
  
    &lt;&lt;linkreplace &quot;A...&quot;&gt;&gt;
    
    
      &lt;&lt;linkreplace &quot;...A čekat...&quot;&gt;&gt;
      
      
        &lt;&lt;linkreplace &quot;Když tu najednou..! &quot;&gt;&gt;
      
      
          *ŠKUB!* Další ryba!
Teď už to ale [[zvládneš sama!|Zkusit to vylovit sama]]
        
        
        &lt;&lt;/linkreplace&gt;&gt;
      
      
      &lt;&lt;/linkreplace&gt;&gt;
    
    
    &lt;&lt;/linkreplace&gt;&gt;
  
  
  &lt;&lt;/linkreplace&gt;&gt;
     
     
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="497" name="Znovu nahodit udičku" tags="" position="750,1025" size="100,100">Mohli bychom tu ještě chvilí šaškovat s nahazováním a opětovným vyprošťováním háčku z pod lavic, z košíků, z tátovy košile... Pokud to však přeskočíme, napopáte jsi háček úspěšně švihla dobré tři metry přes okraj loďky! Ozve se tiché *žbluňk* a háček zmizí pod hladinou. 
&quot;Tati koukej, já lov...&quot; Udice sebou z nenadání škubne takovým způsobem, že ti prut málem vylítl z ruky! Poplašeně ho sevřeš a sleduješ, jak se prut čím dál víc ohýba!

[[Poprosit tátu o pomoc]]
[[Zkusit to vylovit sama]]</tw-passagedata><tw-passagedata pid="498" name="Znovu se schovat a zkusit jiný plán" tags="korektura" position="4300,800" size="100,100">Znovu jsi se přikrčila. Už je slyšet, jak se dusání nohou vzdaluje, až nakonec zmizelo po schodech dolů a znovu [[zavládlo ticho]]</tw-passagedata><tw-passagedata pid="499" name="Znovu si prohlédnout dveře" tags="korektura" position="4050,1825" size="100,100">Znovu jsi dveře prolétla pohledem a všimla si jedné zásadní věci. Dveře sice napevno doléhají k rámu, ale je jasné, že se otevírají dovnitř k tobě. Snad ti tato informace k něčemu bude...

[[Vypáčit naběračkou]]
[[Vyrazit trámkem]]
[[Vyrvat řetězem]]

&lt;&lt;set $nastudovanidveri to true&gt;&gt;</tw-passagedata><tw-passagedata pid="500" name="Znovu švihnout" tags="korektura" position="4875,1575" size="100,100">Znovu ses napřáhla a vší silou řetězem švihla. Tentokrát už to sklo nevydrželo a roztříštilo se na kusy. Řetěz s řinčením dopadl na zem pod okno a zasypaly ho střepy.
Kroky zezdola zrychlily a každou chvíli tu někdo bude! Prolezla bys oknem, ale je tam ještě hodně střepů, trčících přímo z rámu. //Co dělat?!//

[[Vylézt opatrně rámem mezi střepy]]
[[Vzít z pytle mouky železnou naběračku a vymlátit s ní trčící střepy|Naběračka z pytle]]</tw-passagedata><tw-passagedata pid="501" name="Zpět do přítomnosti" tags="" position="1000,350" size="100,100">Tak kde jsi to skončila...
Jsou tu dvě dřevěná prkna k sezení, pár košíků na ryby, hromada sítí, vousatý otec a na zemi... Jé! 
Tvá udička, kterou ti táta kdysi vyrobil. Necháš pádlo pádlem a už udičku svíráš v ruce.

__//Získala jsi udičku//__

&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $more eq 1&gt;&gt;[[Pozorovat moře]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $more eq 0&gt;&gt;[[Pozorovat moře|more]]&lt;&lt;/if&gt;&gt;
[[Mluvit s tátou]]</tw-passagedata><tw-passagedata pid="502" name="Zvolit radši prkno" tags="korektura" position="5575,4000" size="100,100">//Ne... to nevypadá vůbec bezpečně.// Usoudíš nakonec a [[přistoupíš k prknu|Prkno plot]]</tw-passagedata><tw-passagedata pid="503" name="Zůstala stát na místně" tags="korektura" position="2825,4250" size="100,100">&lt;&lt;linkreplace &quot;V tu chvíli svět opět nabral na barvách, děj se rozjel a tobě z té chvíle zůstal jen nepopsatelný pocit, který v zápětí vyprchal.&quot;&gt;&gt;, , , 
Stojíš jako socha. Neschopna pohybu bezmocně sleduješ, jak se blíží a míří ti zbraní přímo na hrudník. Máš teď alespoň jedinečnou příležitost si jej důkladně prohlédnout. Má dlouhé, uhlově černé vlasy v culíku, černou bradku s vousem a zlý pohled upřený na tebe. Po bradě mu stéká pramínek krve. Celý je oblěčený do černého. Leštěné boty, pásek s elegantní přezkou a kostěnná naušnice v levém uchu. Rukou ve které nedrží bambitku, hmátl do kapsy a vytáhl provaz. &quot;Otoč se a dej ruce za záda. Dělej!&quot; Křikne na tebe a myslí to smrtelně vážně.

[[Uposlechnout 3]]
[[Neuposlechnout 4]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="504" name="Zůstat na místě" tags="korektura" position="5225,1200" size="100,100">Krčíš se a jen se tiše modlíš, aby tě nenašel. A pak se ti málem zastavilo srdce, když jsi přímo nad sebou uslyšela, jak na tebe kdosi zahulákal: &quot;Co tady sakra děláš?!&quot; 
Pak už si jen pamatuješ, jak tě rozzuřený pekař chytil za ruku a vláčel tě po schodech a přes celý obchod. Po cestě na tebe ještě řvala ta tlustá paní, něco o vychování a spratcích bez dozoru... Nakonec tě pekař hodil na chodník před pekárnu, ještě jednou ti vynadal a naštvaně odešel.
[[S námahou se zvedneš ze země...|Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="505" name="Zůstat na místě a znovu trámkem hodit" tags="korektura" position="4275,2075" size="100,100">Malou chviličku jsi sbírala odvahu znovu to zkusit. Pak ses ale odhodlala a znovu trámek chňapla do ruky. Kroky se blíží víc a víc! Rozhoupala jsi ho a &lt;&lt;if $pohmozdenaruka is true&gt;&gt;v ten okamžik tě poraněná ruka zradila. Trámek ti vypadl z ruky a hlasitě dopadl na podlahu před tebe. V ruce ti pulzuje bolest z přetažení. //Sakra!// Po schodech právě vyběhl rozlícený pekař, pohled mu spadl na tebe a rozkřičel se co mu hrdlo stačilo: &quot;Co tady sakra děláš?!&quot; 
Pak už si jen pamatuješ, jak tě za tu bolavou ruku chytil a vláčel tě po schodech a přes celý obchod. Po cestě na tebe ještě řvala ta tlustá paní něco o vychování a spratcích bez dozoru... Nakonec tě pekař hodil na chodník před pekárnu, ještě jednou ti vynadal a naštvaně odešel. Oči se ti zaplnily smíšenými slzami hněvu a bolesti.
[[S námahou se zvedneš ze země...|Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $pohmozdenaruka is false&gt;&gt;vší silou jím &lt;&lt;linkreplace &quot;hodila vpřed...&quot;&gt;&gt;hodila vpřed. 
Trámek zasvištěl vzduchem, řetěz se vzepjal a dveře se s rámusem rozletěly dokořán! Ovanul tě čerstvý vánek. Vzápětí však po schodech vyběhl rozlícený pekař, pohled mu padl na tebe a rozkřičel se, co mu hrdlo stačilo: &quot;Co tady sakra děláš?!&quot;
Vyskočila jsi, jako by tě do zadku bodla vosa, a pelášíš na balkón. Vběhla jsi na něj a rychle vyšplhala na zábradlí. Slyšíš, jak se za tebou rozběhl. Máš jen pár vteřin!
Zaostříš na terasu pod sebou. K tvému obřímu štěstí hned zprava pod balkónem stojí velký sud s dešťovou vodou. Je to sice celkem výška, ale ty už pěkně dlouho skáčeš do moře z útesů, takže to pro tebe není žádná velká výzva. Nadechneš se - nohy se ti přeci jen malinko třesou - a v momentě, kdy po tobě zrovna pekař chňapl... [[skočíš|a skočíš]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="506" name="Zůstat pozorovat, kam zloděj dojde 3/4 nasr." tags="korektura Změna-hudby" position="4425,4250" size="100,100">Zloděj prošel mezi opilci až úplně dozadu a tam vzal za kliku sotva znatelných dveří. Ty téměř dokonale splývají barevně se stěnou a je obtížné je pouhým okem najít, i když víš, že tam jsou. Muž je otevřel a zmizel. 
V tu samou chvíli se ti však k puse přitiskla velká špinavá ruka plná tvrdých mozolů. &quot;A mám tě!&quot; Zachraplá ti do ucha nepříjemně povědomý hlas.
&quot;Ale co to tady máme?!&quot; Zaskřehotá jeden z námořníků u stolu. Chceš se vytrhnout a začít křičet, ale svírá tě takovou silou, že skoro nemůžeš dýchat. Námořníci vstali od stolu a obestoupili tě.
„Ale, alé... copak kuřátko?&quot; Ptá se jeden z nich a pohotově z kapsy vytahuje provaz. Vytřeštila jsi oči a snažíš se vzpouzet. „A jak se brání kůzlátko jedno!“ Zasměje se jiný, zkroutí ti ruce za zády a sváže ti je pevným uzlem &quot;To vypadá... že tu máme další zboží!&quot; Zachraplá ten co tě drží. Někdo vytáhl z kapsy ošoupaný špinavý pytel a nasadil ti ho na hlavu. To se v tobě vzedmula obrovská vlna odporu a &lt;&lt;linkreplace &quot;prudce jsi sebou škubla.&quot;&gt;&gt;prudce jsi sebou škubla.
Málem se ti to i podařilo, ale v příští vteřině tě někdo praštil něčím tvrdým po hlavě a ty jsi [[ztratila vědomí.]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;puda&quot; &quot;music/puda.mp3&quot;&gt;&gt;&lt;&lt;audio puda play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="507" name="Zůstat schovaná" tags="korektura" position="5175,1725" size="100,100">Choulíš se za závěsem a modlíš, aby tě nenašel. 
A pak se ti málem zastavilo srdce, když se závěs s trhnutím odhrnul stranou a před tebou stojí rozlícený pekař. &quot;Co tady sakra děláš?!&quot; 
Pak už si jen pamatuješ, jak tě chytil za ruku a vláčel po schodech a přes celý obchod. Po cestě na tebe ještě řvala ta tlustá paní, něco o vychování a spratcích bez dozoru... Nakonec tě pekař hodil na chodník před pekárnu, ještě jednou ti vynadal a naštvaně odešel.
[[S námahou se zvedneš ze země...|Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="508" name="Zůstat schovaná pod pultem" tags="korektura" position="3300,1150" size="100,100">Vystrašeně jsi zůstala přikovaná na místě a sleduješ, jak pekař prošel jen pár kroků od tebe. Přimáčkla ses ke stěně pultu a snažíš se co nejvíc zůstat ve stínu. Co teď?

[[Vyčkávat na příležitost]]
[[Pomalu se plížit k oknu]]</tw-passagedata><tw-passagedata pid="509" name="Zůstat skrčená na místě" tags="korektura" position="2075,450" size="100,100">Ztuhla jsi na místě. V tu chvíli se z obou stran začala sypat nekonečná hromada smrdutého hnoje. Ozvalo se *Prrrrr* a vůz zastavil. Jak na to koukáš, měla jsi celkem štěstí... 
Přemítáš nad tím, co by se asi stalo, kdyby ses skutečně rozhodla skočit kupředu... Opatrně vylezeš zpod zadní části vozu a oprášíš se. //Nu... není času nazbyt!// Pomyslíš si a [[znovu se rozběhneš ulicí za zlodějem.]]</tw-passagedata><tw-passagedata pid="510" name="Zůstat stát" tags="korektura" position="2950,125" size="100,100">Nu... Snad chápeš, že tady není úplně na výběr...

[[Posadit se]]</tw-passagedata><tw-passagedata pid="511" name="Zůstat stát na místě" tags="korektura" position="4375,1525" size="100,100">Jsi tak zkoprnělá strachem, žes zůstala stát na místě. Po schodech vyběhl rozzuřený pekař, prolétl místnost očima a když tě našel pohledem, začal hulákat: &quot;Co tady sakra děláš?!&quot; 
Pak už si jen pamatuješ, jak tě chytil za ruku a vláčel přes celý obchod. Po cestě na tebe ještě řvala ta tlustá paní něco o vychování a spratcích bez dozoru... Nakonec tě pekař hodil na chodník před pekárnu, ještě jednou ti vynadal a naštvaně odešel.
[[S námahou se zvedneš ze země...|Namáhavě se zvedneš ze země]]

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="512" name="Zůstat stát na místě 2" tags="korektura Změna-hudby Opět-naživu" position="2925,4400" size="100,100">Stojíš jako socha. Neschopna pohybu bezmocně sleduješ, jak se blíží a míří ti zbraní přímo na hrudník. Máš teď alespoň jedinečnou příležitost si jej důkladně prohlédnout. Má dlouhé, uhlově černé vlasy v culíku, černou bradku s fousem a zlý pohled upřený na tebe. Po bradě mu stéká pramínek krve. Celý je oblěčený do černého. Leštěné boty, pásek s elegantní přezkou a kostěnná naušnice v levém uchu. Rukou ve které nedrží bambitku, hmátl do kapsy a vytáhl provaz. &quot;Otoč se a dej ruce za záda. Dělej!&quot; Křikne na tebe a myslí to smrtelně vážně.

[[Uposlechnout|Uposlechnout 3]]
[[Neuposlechnout|Neuposlechnout 4]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="513" name="Zůstat stát na místě smrt" tags="korektura" position="4225,0" size="100,100">&lt;&lt;linkreplace &quot;Stojíš na místě...&quot;&gt;&gt;...S t o j í š n a m í s t ě... 

a neexistuje se ti o nic jinak než před tím a potom.

[[Pokračovat do místnosti]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="514" name="Zůstat stát na místě." tags="korektura Opět-naživu Změna-hudby" position="3625,5150" size="100,100">Stojíš jako socha. Neschopna pohybu bezmocně sleduješ, jak se blíží a míří ti zbraní přímo na hrudník. Máš teď alespoň jedinečnou příležitost si jej prohlédnout. Má dlouhé, uhlově černé vlasy v culíku, černou bradku s vousem a celý je taktéž oblěčený do černého. Leštěné boty, pásek s elegantní přezkou a kostěná naušnice v levém uchu. Rukou ve které nedrží bambitku, hmátl do kapsy a vytáhl provaz. &quot;Otoč se a dej ruce za záda. Dělej!&quot;

[[Uposlechnout]]
[[Neuposlechnout]]

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="515" name="Zůstat stát na místě. 2" tags="korektura" position="3150,5275" size="100,100">Stojíš jako socha. Neschopna pohybu bezmocně sleduješ, jak se blíží a míří ti zbraní přímo na čelo. Máš teď alespoň jedinečnou příležitost si jej prohlédnout. Má dlouhé, uhlově černé vlasy v culíku, černou bradku s vousem a celý je taktéž oblečený do černého. Leštěné boty, pásek s elegantní přezkou a kostěná naušnice v levém uchu. Rukou ve které nedrží bambitku, hmátl do kapsy a vytáhl provaz. &quot;Vylez, otoč se a dej ruce za záda. Rychle!&quot;

[[Uposlechnout|Uposlechnout 2]]
[[Neuposlechnout|Neuposlechnout 2.2]]</tw-passagedata><tw-passagedata pid="516" name="a skočíš" tags="korektura" position="4250,1750" size="100,100">&lt;span style=&quot;font-size: 30px;&quot;&gt;Bylo odemknuto ocenění-  __{{{Skok sudový}}}__&lt;/span&gt;
&lt;&lt;set $acivmentskoksudovy to true&gt;&gt;

[[Přidat do sbírky a pokračovat v příběhu|Přidat do sbírky a pokračovat v příběhu.]]</tw-passagedata><tw-passagedata pid="517" name="boj je prohrán." tags="korektura" position="2275,1200" size="100,100">Kluci se k tobě vrhli a každý tě hrubě chytil pod jedno podpaží. V ten moment se z hromady povalených krabic právě vyškrabal onen černovlasý kluk. Zakašlal a oprášil se. Pak pozvedl hlavu a uviděl, jak mu tě jeho komplici drží. Na tváři se mu rozhostil široký úsměv a přistoupil k tobě.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&quot;I ty jedna odporná, ubohá špindíro...&quot; Zapřede jako kočka, která si hraje s myší. &quot;Ty ses mě snažila takhle zabít nebo co?&quot; řekne medovým hlasem a tobě se všechny svaly v těle zatnou zlostí. Kluk si promasíruje klouby na ruce, rozmáchne se a dá ti pěstí do břicha, až vyjekneš a zkroutíš se. &quot;Nenené, špindíro,&quot; řekne kluk a znovu tě narovná. &quot;Hezky se na mě dívej,&quot; řekne s úšklebkem a popleská tě po tváři...

[[Kousnout ho do prstů]]
[[Kopnout ho do rozkroku]]
[[Nic nedělat|Nic nedělat 2]]</tw-passagedata><tw-passagedata pid="518" name="boj jsi prohrála." tags="korektura" position="2550,1000" size="100,100">Kluk tě surově chytil za vlasy a zvedl ze země. V tu chvíli se ze země namáhavě zvedl i ten, kterého jsi před tím tak trefně sejmula hráběmi. Teď k tobě přistoupil a zlostně ti dal pěstí do žeber, až ses zkroutila. Pak tě chytili každý pod jednou paží a zvedli.
V ten moment se z hromady povalených krabic vyškrabal i onen černovlasý kluk. Zakašlal a oprášil se. Pak pozvedl hlavu a uviděl, jak mu tě jeho komplici drží. Na tváři se mu rozhostil široký úsměv a přistoupil k tobě.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&quot;I ty jedna odporná, ubohá špindíro...&quot; Zapřede jako kočka, která si hraje s myší. &quot;Ty ses mě snažila takhle zabít nebo co?&quot; Řekne medovým hlasem a tobě se všechny svaly v těle zatnou zlostí. Kluk si promasíruje klouby na ruce, rozmáchne se a dá ti pěstí do břicha, až jsi vyjekla a schoulila se. &quot;Nenené špindíro.&quot; Řekne klučina a znovu tě narovná. &quot;Hezky se na mě dívej.&quot; Řekne s úsměvem a popleská tě po tváři...

[[Kousnout ho do prstů]]
[[Kopnout ho do rozkroku]]
[[Nic nedělat|Nic nedělat 2]]</tw-passagedata><tw-passagedata pid="519" name="breh" tags="" position="375,75" size="100,100">Loďku to za tu chvíli nikam moc daleko neodneslo, takže výhled na břeh je stejný, jen se teď střechy města tolik nelesknou a bílé fasády tolik nezáří, protože, je v danou chvíli pod mrakem.

[[Mluvit s tátou]]
&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $more eq 1&gt;&gt;[[Pozorovat moře]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $more eq 0&gt;&gt;[[Pozorovat moře|more]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="520" name="bránou ven z trhu." tags="Přístav korektura Změna-hudby" position="4000,3250" size="100,100">Proběhla jsi branou a máš namířeno do přístavu. Pak jsi ale musela běh zvolnit na rychlejší chůzi, protože tě začíná už nepříjemně píchat v boku&lt;&lt;if $bolavyzadek is true&gt;&gt; a navíc tě naražený zadek ještě pořád docela bolí..&lt;&lt;/if&gt;&gt;. &lt;&lt;if $mokresaty is true&gt;&gt;Tvé mokré šatičky jsou naštěstí z tenké bavlny, takže ti rychle vysychají.&lt;&lt;/if&gt;&gt; Posledních pár domů a už se vynořilo nekonečné panoráma nádherného temě modrého moře. Toho, které tak miluješ a na které jsi se byla schopna dívat vždy celé hodiny... Nad hlavou ti proletělo hejno racků a vzduchem zavál slaný mořský vítr. Míjíš staré oprýskané domy s tlustými okenicemi, které ve větru povrzávají, jako sbor tichých sirén. Mezi mnohými okny v ulici jsou naproti sobě natažené šňůry se sušícím se prádlem. které vlaje ve větru. Občas mineš nějakého rybáře, který si to vykračuje s prutem do přístavu a v jednem moment ses musela dokonce vyhnout rozvrzané vlečce se sudy naloženými čerstvými úlovky. Alespoň tak lze soudit dle intenzivního zápachu rybiny, který za ní ve vzduchu zůstal. Potom se ulice trochu stočila a už vykoukl i samotný přístav s několika velkými moly u kterých jsou uvázané veslice, kotví menší plachetnice a potom... Čelist ti poklesla, když ti zrak utkvěl na obrovské, třístěžňové plachetnici, která svou velikostí zabírá celou délku dlouhého mola. Až odsud je jasně vidět masivní řetěz vedoucí pod hladinu, kde kdesi na mořském dně musí spočívat věru pořádná kotva. Plachty jsou stažené, takže bohužel není vidět jejich barvu, ale i bez nich působí koráb naprosto majestátním dojmem. Okouzlena touto scenérií na chvíli ani nevnímáš cestu.
Pak se však přeci jen [[koukneš před sebe]]....

&lt;&lt;set $nasranynamornik to false&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;

&lt;&lt;set $zpomaleni = 3&gt;&gt;</tw-passagedata><tw-passagedata pid="521" name="běžet!" tags="korektura" position="2500,1600" size="100,100">Na nic už jsi nečekala a znovu ses rozběhla. Slyšíš jak se ten kluk - //myslím, že se jmenuje Rejnold// - vzápětí taky rozběhl. &quot;Ty jedna odporná špindíro! Jen počkej, až tě dostanu!&quot;
Utíkáš, co ti síly stačí a slyšíš ho, jak ti dupe za zády a pomalu tě dohání. Kousek před tebou právě z domu vychází nějaká paní...

[[Poprosit ji o pomoc]]
[[Proběhnout kolem ní a plácnout ji po zadku]]</tw-passagedata><tw-passagedata pid="522" name="co se bude dít..." tags="korektura" position="3875,1025" size="100,100">Slyšíš dusání kroků, jak kdosi vystoupal až nahoru a pak... &lt;&lt;linkreplace &quot;zavládlo ticho...&quot;&gt;&gt;zavládlo ticho...
Mlčky ležíš, nasloucháš a &lt;&lt;linkreplace &quot;ani nedutáš.&quot;&gt;&gt;ani nedutáš
Pak se tichem ozval težký výdech a kroky zamířily k tobě...
&lt;&lt;linkreplace &quot;Co teď?!&quot;&gt;&gt;Co teď?!

[[Vymrštit se z nůše]]
[[Vykouknout]]
[[Tiše ležet]]
    &lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="523" name="co se bude dít...2" tags="korektura" position="3875,825" size="100,100">Slyšíš dusání kroků, jak kdosi vystoupal až nahoru a pak... &lt;&lt;linkreplace &quot;zavládlo ticho...&quot;&gt;&gt;zavládlo ticho...
Mlčky ležíš, nasloucháš a &lt;&lt;linkreplace &quot;ani nedutáš.&quot;&gt;&gt;ani nedutáš
Pak ticho prořízl težký výdech a kroky zamířily k tobě...
&lt;&lt;linkreplace &quot;Co teď?!&quot;&gt;&gt;Co teď?!

[[Vyskočit zpoza pytlů]]
[[Vykouknout|Vykouknout 2]]
[[Tiše vyčkávat]]
    &lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="524" name="co se bude dít...3" tags="korektura" position="3575,650" size="100,100">Slyšíš dusání kroků, jak kdosi vystoupal až nahoru a pak... &lt;&lt;linkreplace &quot;zavládlo ticho...&quot;&gt;&gt;zavládlo ticho...
Mlčky stojíš, nasloucháš &lt;&lt;linkreplace &quot;ani se nehneš.&quot;&gt;&gt;ani se nehneš.
Pak ticho prořízl težký výdech a kroky zamířily k tobě...
&lt;&lt;linkreplace &quot;Proboha co teď?!&quot;&gt;&gt;Proboha co teď?!

[[Vyskočit zpoza závěsu]]
[[Vykouknout|Vykouknout 3]]
[[Tiše vyčkávat|Tiše vyčkávat 2]]
    &lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="525" name="co to 2" tags="korektura Změna-hudby" position="1450,275" size="100,100">Najednou zvuk! Zvuk, který tě probudil.
Ozývalo se to zespoda a bez jakých koliv pochybností to byl tátův tlumený výkřik a po něm následující zvuk tříštícího se nádobí. &lt;&lt;linkreplace &quot;V mžiku jsi na nohou!&quot;&gt;&gt;V mžiku jsi na nohou! 
Něco zjevně není v pořádku. Tvoje odvážná nátura tě žene kupředu! Bleskurychle seběhneš schody a v místnosti dole uvidíš na podlaze ležet tvého otce. Matka k němu zrovna kleká a naléhavě se ho ptá: &quot;Darene, jsi v pořádku? Co se stalo?!&quot;
Otec se se supěním chytá nohy stolu a během toho, co se snaží zvednout, ho slyšíš říkat: 
&quot;Ahh! Ten parchant! Byl tu nějaký zloděj a hrabal se nám ve věcech! Ukradl...&quot; Táta bolestně zavrčí a chytne se za bok. //Asi ho zloděj něčím uhodil!// prolétne ti hlavou. &quot;Ukradl Ándrein prstýnek, viděl jsem, jak si ho... ahhh... jak si ho strká do kapsy...&quot; Oči ti prolétnou po podlaze a zaznamenáš střepy rozbitého hrníčku, ve kterém byl schovaný tvůj prstýnek!
Ještě sekundu stojíš konsternovaně na posledním schodu a snažíš se vstřebat, co se to právě stalo. Pak tě ale zaplavila vlna odhodlání a vzteku. //To teda ne! Nás nikdo vykrádat nebude a už vůbec nikdo nebude krást můj poklad!// pomyslíš si rozhněvaně a [[vystartuješ ven ze dveří.|Pravidla 2]]

&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $zpomaleni = 3&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="526" name="co to...?" tags="korektura Změna-hudby" position="1400,125" size="100,100">Najednou zvuk! Zvuk, který tě probudil.
Znělo to, jako by se po zemi kutálel nějaký malý, kovový předmět.
&lt;&lt;linkreplace &quot;Otevřela jsi oči.&quot;&gt;&gt;Otevřela jsi oči. 
Kousek od tvé postele uprostřed místnosti se něco hýbe! 
Ze země se zvedl černý obrys. V ranním světle rozeznáš siluetu muže, který mezi prsty drží... Ano, je to tak! Ranní červánky se odráží na zlatém povrchu tvého prstýnku v zlodějově ruce!
To už však postava zpozorovala, že jsi vzhůru. V mžiku přiskočila k oknu, vylezla na parapet a šup! Slanila dolů a zmizela ti z dohledu. 
Ještě sekundu jsi ležela a vstřebávala, co se to právě stalo, pak tě ale zaplavila vlna odhodlání a vzteku. //To teda ne! Tobě žádný dareba prstýnek brát nebude!//
V mžiku stojíš na nohou. Tvá odvážná nátura tě žene vpřed... Ale kudy?

[[Oknem|Pravidla]]
[[Dveřmi|Pravidla 2]]

&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;set $zpomaleni = 3&gt;&gt;\
\
&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;zlodejina&quot; &quot;music/zlodejina.mp3&quot;&gt;&gt;&lt;&lt;audio zlodejina play loop&gt;&gt;

&lt;&lt;set $prstýnek to false&gt;&gt;</tw-passagedata><tw-passagedata pid="527" name="dojít pěšky" tags="korektura Změna-hudby" position="1925,1725" size="100,100">Vůz ti rychle zmizel z dohledu a ty sama pokračuješ pěšky.
Slunce vystoupalo až nad střechy a začíná pražit do čela. Po modravé obloze se pozvolna převalují poloprůhledné mráčky a ulicí se jen zřídka prožene slabý závan větříku. Probíháš právě kolem vysoké terasy pekárny a drobný závan malinko rozpohyboval velký fábor, který z ní visí. Je na něm vyobrazený znak čerstvě upečeného bochníku. 
Jak se tržiště blíží, už ho z dálky slyšíš a cítíš. Posledních pár spěšných kroků a už se za zatáčkou vynořilo v plné své kráse. Desítky stánků s barevnými plátěnými střechami stojí v několika prstencových řadách na kruhovém náměstí s kašnou uprostřed. Trhem vede jedna hlavní přímá ulička mezi stánky, kolem kašny až na druhou stranu, kde cesta dál pokračuje do přístavu. Okraje náměstí jsou lemovány řadou vysokých domů a po pravé straně se tyčí stará budova městské radnice s věžičkou. Na věžičce ze všech čtyř stran vlají fábory se znakem vašeho ostrova - bleděmodrá plocha moře s jednoduše vyobrazenou plachetnicí a za ní zelený kopec symbolizující váš ostrov s věží majáku, který ostrovu dominuje. Ještě o kus výš jsou do zdi vsazeny velké železné hodiny, které zrovna ukazují za pět sedm. A úplně nahoře pod špičatou taškovou stříškou se zlatou korouhvičkou se pohupuje velký mosazný zvon. 
Vzduchem se line směs vůní koření, rybiny a kouře. Všude se ozývají hlasy překřikujících se prodejců a mezi stánky kličkují nakupující zdejší i cizinci, kteří sem z mořských dálav zavítali. Zloděje tu však nikde nevidíš...
Nejpravděpodobnější varianty jsou však dvě... buď je teď někde mezi stánky, nebo směřuje do přístavu. 
Tak či onak je čas [[vstoupit na tržiště.]]

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;rynek&quot; &quot;music/rynek.mp3&quot;&gt;&gt;&lt;&lt;audio rynek play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="528" name="jedete na tržiště." tags="korektura Změna-hudby" position="2175,1975" size="100,100">Mlčky vedle sebe sedíte, vůz se skřípavě pohupuje a domy kolem ubíhají. 

__//+1 Bod dostihu //__&lt;&lt;set $zpomaleni -= 1&gt;&gt;

Slunce vystoupalo až nad střechy a začíná pražit do čela. Po modravé obloze se pozvolna převalují poloprůhledné mráčky a ulicí se jen zřídka prožene slabý závan větříku. Probíháš právě kolem vysoké terasy pekárny a drobný závan malinko rozpohyboval velký fábor, který z ní visí. Je na něm vyobrazený znak čerstvě upečeného bochníku. 
Jak se tržiště blíží, už ho z dálky slyšíš a cítíš. Posledních pár spěšných kroků a už se za zatáčkou vynořilo v plné své kráse. Desítky stánků s barevnými plátěnými střechami stojí v několika prstencových řadách na kruhovém náměstí s kašnou uprostřed. Trhem vede jedna hlavní přímá ulička mezi stánky, kolem kašny až na druhou stranu, kde cesta dál pokračuje do přístavu. Okraje náměstí jsou lemovány řadou vysokých domů a po pravé straně se tyčí stará budova městské radnice s věžičkou. Na věžičce ze všech čtyř stran vlají fábory se znakem vašeho ostrova - bleděmodrá plocha moře s jednoduše vyobrazenou plachetnicí a za ní zelený kopec symbolizující váš ostrov s věží majáku, který ostrovu dominuje. Ještě o kus výš jsou do zdi vsazeny velké železné hodiny, které zrovna ukazují za pět sedm. A úplně nahoře pod špičatou taškovou stříškou se zlatou korouhvičkou se pohupuje velký mosazný zvon. 
Vzduchem se line směs vůní koření, rybiny a kouře. Všude se ozývají hlasy překřikujících se prodejců a mezi stánky kličkují nakupující zdejší i cizinci, kteří sem z mořských dálav zavítali. Zloděje tu však nikde nevidíš...
Nejpravděpodobnější varianty jsou však dvě... buď je teď někde mezi stánky, nebo směřuje do přístavu. 
Vůz právě drkotavě dojel až těsně k hranici tržiště a zastavil. 

[[Slézt z vozu dolů]]

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;rynek&quot; &quot;music/rynek.mp3&quot;&gt;&gt;&lt;&lt;audio rynek play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="529" name="jiný." tags="korektura" position="4400,300" size="100,100">Na šnůrce se pohupují čtyři klíče: 

[[Malinkatý stříbrný|Špatný klíč]]
[[Dlouhý a zlatý|Správný klíč]]
[[Těžký kovaný|Špatný klíč]]
[[Menší a rezavý|Špatný klíč]]</tw-passagedata><tw-passagedata pid="530" name="k d y ž  t u. . .n a.je...D.n...0u.. .. ." tags="korektura" position="2575,0" size="100,100">Do tvého zorného pole zasáhne vyhublá ruka s dlouhými prsty a přitiskne se ti na obličej. Chceš vykřiknout a odtrhnout ji od sebe... Není čím a není jak. Pocit intenzivního stádia těsně před rozplynutím zmizel. Znovu se dostavil chlad a s ním i schopnost dýchat a cítit. Sice ještě není co, ale víš, že jsi to zase více ty...
Uvědomíš si, že na obličeji žádná ruka není a že před tebou stojí uprostřed ničeho velice starý a noblesní dům v šedých barvách. 

[[Přijít ke dveřím]]
[[Porozhlédnout se kolem]]</tw-passagedata><tw-passagedata pid="531" name="koukneš před sebe" tags="korektura" position="4375,2625" size="100,100">Došla jsi až ke dvěma hostincům stojícím naproti sobě. Na tom po levé straně se houpá stará kovaná vývěska se oloupaným nápisem: U Třech Sudů. Na tom vpravo se taktéž pohupuje vývěska. Tato je však zdobně vyřezávaná a stojí na ní: Taverna U Černé Krakatice. &lt;&lt;set $zkusitprojit to false&gt;&gt;&lt;&lt;set $hospodalevo to false&gt;&gt;&lt;&lt;set $pristav to false&gt;&gt;
Cesta mezi nimi vede dál, až do samotného přístavu. Na ní se teď motá pár opilých námořníků.
&lt;&lt;if $zpomaleni eq -1&gt;&gt;Rychle jsi po nich sklouzla pohledem a pak se ti žaludek zahoupal, když jsi uviděla, jak k hospodě napravo právě přistoupil onen zloděj v černém &lt;&lt;if $fousy is true&gt;&gt;s přesně takovým špičatým černým vousem, který paní prodavačka s medem popisovala &lt;&lt;/if&gt;&gt;&lt;&lt;if $fousy is true&gt;&gt;s takovým špičatým černým fousem&lt;&lt;/if&gt;&gt; a dal se do řeči s potetovaným svalnatým a surově vyhlížejícím námořníkem, sedícím na sudu po levé straně od vchodu. //O čem si asi povídají?// Ptá se ten zvědavý hlásek v tvé hlavě... Rozhodla ses, že to potřebuješ vědět! //Třeba se dozvím, kde je můj prstýnek, nebo co s ním plánuje...//
Jak však rozhovor vyslechnout? 

[[Připlížit se za velký sud stojící napravo od dveří]]
[[Pomaličku jakože projít kolem a pak se zastavit o kousek dál a nenápadně naslouchat]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 0 or $zpomaleni eq 1 or $zpomaleni eq 2 or $zpomaleni eq 3&gt;&gt;Rychle jsi po nich sklouzla pohledem a pak se ti žaludek zahoupal, když jsi uviděla, jak u hospody napravo právě stojí onen zloděj v černém &lt;&lt;if $fousy is true&gt;&gt;s přesně takovým špičatým černým fousem, který paní s medem popisovala. &lt;&lt;/if&gt;&gt;&lt;&lt;if $fousy is true&gt;&gt;s takovým špičatým černým fousem.&lt;&lt;/if&gt;&gt; Zrovna se baví s potetovaným svalnatým a surově vyhlížejícím námořníkem, sedícím na sudu po levé straně od vchodu. //O čem si asi povídají?// Ptá se ten zvědavý hlásek v tvé hlavě... Rozhodla jsi se, že to potřebuješ vědět! //Třeba se dozvím, kde je můj prstýnek, nebo co s ním plánuje...//
Jak však rozhovor vyslechnout? 

[[Připlížit se za velký sud stojící napravo od dveří]]
[[Pomaličku jakože projít kolem a pak se zastavit o kousek dál a nenápadně naslouchat]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4&gt;&gt;Rychle jsi po nich přelétla pohledem. Z hospody nalevo právě vyšel jakýsi starý námořník, kterého od pohledu už odněkud znáš, udělal pár kroků a poblil se přímo vedle dveří. //Fuj!// Pak si všimneš, jak  se  do hospody na pravo - U které sedí na bečce potetovaný svalnatý a surově vyhlížející námořník, kterého neznáš- právě přibouchly dveře. Mohl to být zloděj, ale nestihla jsi ho zahlédnout, aby sis to ověřila…

[[Jít do hospody na pravo]]
[[Jít do hospody na levo]]
[[Jít do přístavu]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5&gt;&gt;U hospody nalevo právě zvrací jakýsi starý námořník, kterého od pohledu už odněkud znáš. //Fuj!// Oklepeš se. 
U hospody sedí na bečce potetovaný svalnatý a surově vyhlížející námořník, kterého jsi určitě v životě neviděla a trochu tě děsí. Po zloději však ani stopy… Kam asi šel? Kudy se teď vydat?

[[Jít do hospody na pravo]]
[[Jít do hospody na levo]]
[[Jít do přístavu]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="532" name="kousla do ruky" tags="korektura" position="4625,1825" size="100,100">Zuby se ti zaryly do její macaté ruky. Hospodyňka tě v úleku pustila a zařvala. Hned jsi toho využila a v mžiku ses [[ztratila v davu.]]</tw-passagedata><tw-passagedata pid="533" name="lodka" tags="" position="850,225" size="100,100">Udičku jsi už sebrala... co teď?

&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $more eq 1&gt;&gt;[[Pozorovat moře]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $more eq 0&gt;&gt;[[Pozorovat moře|more]]&lt;&lt;/if&gt;&gt;
[[Mluvit s tátou]]</tw-passagedata><tw-passagedata pid="534" name="more" tags="" position="625,275" size="100,100">Když se znovu zadíváš na tančící vlnky, vidíš i pár racků, kteří odpočívají na vlnách...

[[Mluvit s tátou]]
&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $udička eq 1&gt;&gt; [[Lovit ryby]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="535" name="možnost sestupu." tags="korektura" position="4400,2025" size="100,100">Jelikož je celá pekárna postavena na poměrně strmém kopci, nachází se terasa ve slušné výšce čtyř metrů nad zemí. Až z toho trošku mrazí. Každopádně:
Dalo by se teoreticky spustit po velkém dřevěném sloupu. Stačí k němu jen sešplhat, obejmout ho a sklouznout se až dolů... 
-&quot;Kam si myslíš, že deš?!&quot; Ozývá se za tebou nebezpečně se přibližující hlas.-
Alternativou by mohl ještě být velký fábor s vyšívaným znakem čerstvě upečeného chleba. Ten, co si pamatuješ, sahá až skoro po zem a dalo by se po něm sešplhat. Slyšíš, jak se za tebou začínají rozrážet stolky na všechny strany.
Třetí, ale poměrně nebezpečná varianta se teď zrovna blíží... Z velké zatáčky vyjel vůz naložený slámou. Každou chvílí tu bude a mohla bys do něj teoreticky skočit... Je to však vcelku riskantní...
Tak rychle!

[[Sloup]]
[[Fábor]]
[[Vůz|Vůz nedokázala]]</tw-passagedata><tw-passagedata pid="536" name="možnosti sestupu." tags="korektura" position="4500,1950" size="100,100">Jelikož je celá pekárna postavena na poměrně strmém kopci, nachází se terasa ve slušné výšce čtyř metrů nad zemí. Až z toho trošku mrazí. Každopádně:
Dalo by se teoreticky spustit po velkém dřevěném sloupu. Stačí k němu jen sešplhat, obejmout ho a sklouznout se až dolů... 
Alternativou by mohl ještě být velký fábor s vyšívaným znakem čerstvě upečeného chleba. Ten, co si pamatuješ, sahá až skoro na zem a dalo by se po něm sešplhat. No a třetí, ale poměrně nebezpečná varianta se teď zrovna blíží... Z velké zatáčky právě vyjel vůz naložený slámou. Každou chvílí tu bude a mohla bys do něj teoreticky skočit... Je to však vcelku riskantní...

[[Sloup]]
[[Fábor]]
[[Vůz|Vůz dokázala]]</tw-passagedata><tw-passagedata pid="537" name="místnost..." tags="korektura" position="4100,0" size="100,100">Místnost má tvar velkého vejce s krbem na protější straně. Vstoupila jsi do ní a okamžitě pocítila nával bezbarvosti. Před krbem se cosi děje, ale je to velmi rozostřené.

[[Zůstat stát na místě|Zůstat stát na místě smrt]]
[[Pokračovat do místnosti]]</tw-passagedata><tw-passagedata pid="538" name="na tržiště." tags="korektura Změna-hudby" position="1800,1975" size="100,100">Mlčky vedle sebe sedíte, vůz se skřípavě pohupuje a domy kolem ubíhají. 

__//+1 Bod dostihu //__&lt;&lt;set $zpomaleni -= 1&gt;&gt;

Slunce vystoupalo až nad střechy a začíná pražit do čela. Po modravé obloze se pozvolna převalují poloprůhledné mráčky a ulicí se jen zřídka prožene slabý závan větříku. Probíháš právě kolem vysoké terasy pekárny a drobný závan malinko rozpohyboval velký fábor, který z ní visí. Je na něm vyobrazený znak čerstvě upečeného bochníku. 
Jak se tržiště blíží, už ho z dálky slyšíš a cítíš. Posledních pár spěšných kroků a už se za zatáčkou vynořilo v plné své kráse. Desítky stánků s barevnými plátěnými střechami stojí v několika prstencových řadách na kruhovém náměstí s kašnou uprostřed. Trhem vede jedna hlavní přímá ulička mezi stánky, kolem kašny až na druhou stranu, kde cesta dál pokračuje do přístavu. Okraje náměstí jsou lemovány řadou vysokých domů a po pravé straně se tyčí stará budova městské radnice s věžičkou. Na věžičce ze všech čtyř stran vlají fábory se znakem vašeho ostrova - bleděmodrá plocha moře s jednoduše vyobrazenou plachetnicí a za ní zelený kopec symbolizující váš ostrov s věží majáku, který ostrovu dominuje. Ještě o kus výš jsou do zdi vsazeny velké železné hodiny, které zrovna ukazují za pět sedm. A úplně nahoře pod špičatou taškovou stříškou se zlatou korouhvičkou se pohupuje velký mosazný zvon. 
Vzduchem se line směs vůní koření, rybiny a kouře. Všude se ozývají hlasy překřikujících se prodejců a mezi stánky kličkují nakupující zdejší i cizinci, kteří sem z mořských dálav zavítali. Zloděje tu však nikde nevidíš...
Nejpravděpodobnější varianty jsou však dvě... buď je teď někde mezi stánky, nebo směřuje do přístavu. 
Vůz právě drkotavě dojel až těsně k hranici tržiště a zastavil. 

[[Slézt z vozu dolů]]	

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;rynek&quot; &quot;music/rynek.mp3&quot;&gt;&gt;&lt;&lt;audio rynek play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="539" name="nabývá na ZaOsTřEnStI" tags="korektura" position="3850,0" size="100,100">Jsi před domem, který je ti jaksi &lt;&lt;linkreplace &quot;povědomý...&quot;&gt;&gt;povědomý...
Náhlý poryv vzdáleného bytí, na chvíli našponoval a protáhl tvé zorné pole. Cítíš nával horka v &lt;&lt;linkreplace &quot;hrobovém chladu...&quot;&gt;&gt;hrobovém chladu...
A potom, jak rychle to přišlo, tak intenzivně to pustilo. Zorné pole se ti zúžilo až do tunelového vidění, kdy vidíš, jen vchodové dveře na konci...
[[Projít tunelem ke dveřím]]

&lt;&lt;/linkreplace&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="540" name="navrátila k životu." tags="Smrt-ok" position="5825,525" size="100,100">Přijde ti, že svět kolem vůbec nepoznáváš... Jakoby jsi do něj ani nepatřila... ale nepatřila ani na druhou stranu... druhou stranu? //Počkat co?//
Oklepeš se a moc nechápeš, co se to právě stalo. Co jsi to jen chtěla...
Ach ano! 

&lt;&lt;if $zlomenykrk is true&gt;&gt;[[Přeskočit na dřevěné zábradlí balkónu]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zlomenykrk2 is true&gt;&gt;[[Přeskočit na dřevěné zábradlí balkónu]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $prasklalebka is true&gt;&gt; Buď slést dolů pomocí [[sloupu|Sloup]], nebo [[fáboru|Fábor]].&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelena2 is true and $strelena is false&gt;&gt;[[Zůstat stát na místě|Zůstat stát na místě 2]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenadoboku is true&gt;&gt;[[Jak se otevřou dveře s rozmachem ho praštit do čela]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenadoboku2 is true&gt;&gt;[[Jak se otevřou dveře hodit mu kámen s rozmachem do tváře]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelenavmori is true&gt;&gt;[[Do hostince]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $utopenivevině is true&gt;&gt;[[Do sudu na pravo]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $zastrelena is true&gt;&gt;[[Zůstat stát na místě.]]&lt;&lt;/if&gt;&gt;\

&lt;&lt;set $zlomenyvaz to false&gt;&gt;
&lt;&lt;set $zlomenykrk to false&gt;&gt;
&lt;&lt;set $zlomenykrk2 to false&gt;&gt;
&lt;&lt;set $padzebrik to false&gt;&gt;
&lt;&lt;set $probodanibricha to false&gt;&gt;
&lt;&lt;set $probodanirozkroku to false&gt;&gt;
&lt;&lt;set $prasklalebka to false&gt;&gt;
&lt;&lt;set $zastrelena to false&gt;&gt;
&lt;&lt;set $utopenivevině to false&gt;&gt;
&lt;&lt;set $zastrelenavmori to false&gt;&gt;
&lt;&lt;set $zastrelena2 to false&gt;&gt;
&lt;&lt;set $zastrelenadoboku to false&gt;&gt;

&lt;&lt;set $kapitola = &quot;Kapitola II.&quot;&gt;&gt;
&lt;&lt;set $Umrtí += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="541" name="nazpět k rozcestí" tags="korektura Posrala-to" position="2525,550" size="100,100">Po opětovném překonávání překážek v podobě odpadků všude po zemi a po pištivém vyhnutí se jedné olezlé kryse jsi doběhla zpátky na křižovatku.
&lt;&lt;set $zpomaleni += 1&gt;&gt;
__//+ 1 Bod zpomalení//__

&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi udělala příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]

&lt;&lt;set $konecnarozcesti2 to true&gt;&gt; &lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 5&gt;&gt;Kudy tedy?
[[Doprava směrem k pekárně a dál na tržiště|Rovně]]
&lt;&lt;if $nalevo eq 0&gt;&gt;[[Rovně nahoru do kopce k chrámu|Nalevo]]&lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
  &lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="542" name="nohama na zemi." tags="korektura Posrala-to Změna-hudby" position="4875,2100" size="100,100">Pustila ses sloupu a otočila se do ulice.

__//+1 Bod dostihu //__&lt;&lt;set $zpomaleni -= 1&gt;&gt;

&lt;&lt;if $zpomaleni lte 5&gt;&gt;Koukáš na cestu dolů k trhu, kam teď směřuje vzdalující-se vůz slámy.
Víš, že se zatím držíš zloději jakž takž v patách a zatím ti&lt;&lt;if $zpomaleni eq 5 or $zpomaleni eq 4&gt;&gt; - i přes některá špatná rozhodnutí - ještě úplně&lt;&lt;/if&gt;&gt; neunikl! Musíš však dál pokračovat a snažit se. Tak tedy... [[Vzhůru na tržiště!]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel však kvůli všem těm předešlým špatným rozhodnutím toto poslední správné nezvrátí to, co je teď již jasné... Dobře víš, že  ses až příliš zdržela a zloděj ti mezitím unikl. Teď už může být bůhvíkde...

[[Zloděj ti unikl...|zloděj ti unikl...]] 

&lt;&lt;set $konecpodpekarnou to true&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="543" name="plivla do tváře" tags="korektura" position="4775,1850" size="100,100">Vzduchem proletěl obrovský flusanec a s plesknutím se rozprsknul přímo na jejím velkém lesklém nose. Tak ji to zaskočilo, že tě na chvíli pustila. Hned jsi toho využila a v mžiku ses [[ztratila v davu.]]</tw-passagedata><tw-passagedata pid="544" name="podala minci." tags="korektura" position="2950,2875" size="100,100">Bezdomovci zasvítily oči a penízek v mžiku zmizel v útrobách jeho potrhaného kabátu. &quot;Ale rychle!&quot; Dupneš až z tebe spadne pár velkých kapek.
&quot;Nó...&quot; Začne chraplavě. &quot;Jelikož na tomhle vostrově znám každýho, kdo tu bydlí a tenhle ksicht tu vidím prvně... Bude to nějakej z těch námořníků, kerý dnes v noci připluli.&quot; Řekne a odflusne si. &quot;Všici tihle námořníci sou jeden jak druhej pěkný vejlupci.&quot;
&quot;No a kam šel?!&quot; Začínáš ztrácet nervy. &quot;Ále vsadim se, že šel nejspíš do hostinca...&quot; Mávne směrem na ulici vedoucí do přístavu. &quot;Taky je ale klíďo možný, že už budou vodplouvat... nevypadá to, že by se tu nějak chtěli zdržovat...&quot; Muž podrbe zablešeného psa a chystá se ještě ve vyprávění pokračovat... 

[[Už vyrazit]]
[[Doposlechnout si vyprávění]]

&lt;&lt;set $mokra to true&gt;&gt;</tw-passagedata><tw-passagedata pid="545" name="prostoupila tebou panika." tags="korektura Smrt-ok Změna-hudby" position="3425,5575" size="100,100">Začala si křičet a v tom malém prostoru tě ze sebe samotné bolí uši. Sud je však velice pevný a stěny má tlusté, takže tě venku není vůbec slyšet. Najednou se převrhl na bok a tebou to bolestivě hodilo o stěnu. Sud se rozkutálel a ty se uvnitř motáš dokolečka, jako list ve vodním víru. Při posledních pár otočkách jsi ošklivě narazila hlavou a když se sud konečně zastavil a znovu postavil, zůstala jsi bezvládně ležet na dně v polovičním bezvědomí. Matně vnímáš, že se ve výku otevřela kruhová dírka a tudy se prostrčila dovnitř nějaká trubka. Snažíš se vzpamatovat a zjistit, co se to právě děje, když tě probral proud vína, který začal bečku rychle plnit.
Začala jsi znovu křičet a mlátit do zdí. Hladina stoupá a víno už zaplňuje dvě třetiny sudu. Chceš zacpat trubku, víno se ti však dostalo do očí a začalo strašlivě pálit. Po slepu šátráš a než jsi trubku nahmatala, je v sudu sotva vzduchu, aby ses naposledy nadechla. Se zadrženým dechem se snažíš &lt;&lt;linkreplace &quot;vyrazit víko.&quot;&gt;&gt;vyrazit víko.
Však marně... Začínáš se kroutit, z pusy ti uniká čím dál víc bublin vzduchu a v zápětí se ti skrze nos víno prodralo dovnitř. Tvé tělo chtělo automaticky začít kašlat a v tu ránu se ti víno vlilo do plic. V agónii sebou škubeš a celý vnitřek tě nepředstavitelně pálí. Trvalo to ještě chvíli, než jsi sebou přestala škubat, klesla ke dnu a nastala &lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMA...|...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;tobě nějak zvláštně povědomá [[...TMA...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt;tobě povědomá [[...TMA...|...TMA...3]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 3&gt;&gt;tobě dobře povědomé [[...TMA...|...TMA...4]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 4&gt;&gt;tobě velmi dobře povědomá [[...TMA...|...TMA...5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $utopenivevině to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="546" name="protáhla se tudy..." tags="korektura" position="5725,4000" size="100,100">Ocitla ses za třemi sudy, stojícími kousek před plotu. Plíživě ses kolem nich protáhla a &lt;&lt;linkreplace &quot;rozhlédla se.&quot;&gt;&gt;rozhlédla se.
Po pravé straně je otevřená brána vedoucí na zadní dvůr taverny a po levé straně už se táhne do moře ono soukromé molo.

[[Jít na dvorek|Přijdou námořníci]]
[[Jít na molo|Přijdou námořníci]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="547" name="pytle s moukou" tags="korektura" position="4750,1600" size="100,100">Točíš se a v moment, kdy tvoje oko zaznamená pytle s moukou, řetěz jsi pustila... Vlastně ani moc nechápeš, proč jsi to udělala... bylo to katastroficky špatně, protože při malém zpoždění tvé reakce a setrvačnosti řetězu to bylo akorát, aby s řinčivým zasvištěním prolétl místností a dunivě spadl na schody. Dole to ztichlo. //A kruci...//
Vzápětí se ozval dusot nohou po schodišti nahoru. //Je to v háji...// prolétne ti hlavou a rozklepou se ti kolena. 

[[Schovat se za pytle]]
[[Schovat se za závěs]]
[[Zůstat stát na místě]]</tw-passagedata><tw-passagedata pid="548" name="přeskočila na druhou stranu" tags="korektura" position="5650,4175" size="100,100">Dopadla jsi přímo za tři sudy, stojící kousek od plotu. Plíživě ses kolem nich protáhla a &lt;&lt;linkreplace &quot;rozhlédla se.&quot;&gt;&gt;rozhlédla se.
Po pravé straně je otevřená brána vedoucí na zadní dvůr taverny a po levé straně už se táhne do moře ono soukromé molo.

[[Jít na dvorek|Přijdou námořníci]]
[[Jít na molo|Přijdou námořníci]]</tw-passagedata><tw-passagedata pid="549" name="risk neuspěšně" tags="" position="775,1375" size="100,100">Po očku nenápadně koukneš na tátu. Ten vypadá, že ti nevěnuje přílišnou pozornost. Nakloníš se nad krabičku a děláš, že si vybíráš, kterého šneka si vezmeš... prstem je odšťoucháváš na strany, aby ses dostala k oslizlé minci. Jakmile je vysvobozená, znovu pokradmu koukneš na tátu &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a... jelikož tě táta od chvíle, cos mu zalhala, potajmu pozoruje a moc dobře o minci ví, tvrdě jsi narazila...
  &quot;Ándreo?!&quot; Zeptá se tě v okamžiku, co se už už chystáš minci skrýt v dlani. Poplašeně nadskočíš a mince hlasitě cinkne zpět do krabičky. &quot;Je ta mice tvoje?&quot;
  &quot;N-není.&quot; vyrazíš ze sebe provinile.
  &quot;Tak ji nech na pokoji,&quot; řekne táta příkře a vrátí se zpátky k rozmotávání sítí.
  
  [[Vzít si šneka a jít lovit|Nechat ji tam]]
  [[Ještě jednou zkusit minci ukrást]]
  &lt;&lt;set $money =0 &gt;&gt;
  
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="550" name="rovnou skočit" tags="korektura Změna-hudby Smrt-ok" position="2000,0" size="100,100">//Není času nazbyt!// Pomyslíš si a odrazíš se... Jelikož však bylo brzké ráno a rosa na parapetu se ještě nestihla vypařit, stál tě tento tah všechno. 
Ranní ulice prořízl výkřik a pak křupavý náraz, jak malé tělo holčičky dopadlo na dlažbu před domem.
[[...TMA...]]

&lt;&lt;set $padzokna to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="551" name="rozbíháš se ulicí dál" tags="korektura" position="1300,450" size="100,100">Míjíš dům za domem a bosýma nohama pleskáš o kočičí hlavy, kterými je ulice dlážděná. Tvrdohlavě a naštvaně si opakuješ, //že ho prostě dostaneš!// 
Blížíš se ke křižovatce. Když k ní však dobíháš, vyjede právě z uličky po levé straně velký vůz vrchovatě naložený hnojem. 
To už k němu dobíháš a...

[[Podklouzneš pod ním]] (Nebezpečnější)
[[Počkáš, než projede]] (Bezpečnější)</tw-passagedata><tw-passagedata pid="552" name="rozběhla se dál ulicí." tags="korektura" position="1650,1275" size="100,100">Utíkáš dál ulicí&lt;&lt;if $zpomaleni lte 5&gt;&gt;a štěstí z nečekaného výkonu tě ještě stále hřeje na hrudi. Pak se ohlédneš. Po levé straně kolem tebe právě projíždí vůz naložený senem. Vpředu na něm sedí fousatý farmář. Hodil na tebe letmý pohled a znuděně drží otěže staré muly, která vůz táhne. Ten na tržiště určitě dojede rychleji, než bys tam byla pěšky!

[[Poprosit ho, aby tě svezl|Poprosit ho, aby tě svez zpomalení]]
[[Nenápadně zezadu vylézt na vůz a schovat se do slámy]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;, ale my už přeci víme, že jsi nasbírala limitní počet bodů zpomalení... V jiné situaci už by bylo tímto pronásledování u konce, teď se však na poslední chvíli objevila záchrana, tak si dávej pozor, aby jsi to nezvorala...
Právě kolem tebe z levé strany projíždí vůz naložený senem. Vpředu na něm sedí fousatý farmář a znuděně drží otěže staré muly, která vůz táhne. Ten na tržiště určitě dojede rychleji, než bys tam byla pěšky!

[[Poprosit ho, aby tě svezl|Poprosit ho, aby tě svez zpomalení 2]]
[[Nenápadně zezadu vylézt na vůz a schovat se do slámy]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="553" name="rozběhla ulicí směrem na tržiště" tags="korektura" position="1500,1225" size="100,100">Utíkáš dál ulicí a proklínáš celou tu odpornou trojici, která ti tak znepříjemňuje život. 
Je ti z toho do breku... Tentokrát jsi však slzy zahnala pomyšlením na prstýnek. Alespoň se můžeš pokusit skolit nějak zloděje, když už jsi pohořela tady...
Právě kolem tebe z levé strany projíždí vůz naložený senem. Vpředu na něm sedí fousatý farmář. Hodil na tebe letmý pohled a znuděně drží otěže staré muly, která vůz táhne. Ten na tržiště určitě dojede rychleji, než bys tam byla pěšky!

[[Poprosit ho, aby tě svezl|Poprosit ho, aby tě svez zpomalení 2]]
[[Nenápadně zezadu vylézt na vůz a schovat se do slámy]]

&lt;&lt;set $smrad to true&gt;&gt;</tw-passagedata><tw-passagedata pid="554" name="rychle jsi zmizela." tags="korektura" position="3250,2150" size="100,100">//Pane bože... To jsem ale hloupá.// Říkáš si a kaboníš se studem.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $zpomaleni lte 5&gt;&gt;Už jsi však skoro u fontány a tak jsi myšlenky na celou tu nepříjemnou situaci rychle zahnala a [[spěšně k ní doběhla]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi však udělala již příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $rozbitehrnky to true&gt;&gt;</tw-passagedata><tw-passagedata pid="555" name="rychle klidíš pryč." tags="korektura" position="4775,3175" size="100,100">&lt;&lt;if $zpomaleni gte 3 and $hospodalevo is false and $pristav is false&gt;&gt;Rychle jsi zmizela. &quot;No jen ber roha kryso a vopovaž se ještě vracet!&quot; Slyšíš za sebou. Přidala jsi do kroku a spěšně zamířila rovnou...

[[Do hospody naproti|Jít do hospody na levo]]
[[Do přístavu|Jít do přístavu]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 3 and $hospodalevo is true and $pristav is false&gt;&gt;Rychle jsi zmizela. &quot;No jen ber roha kryso a vopovaž se ještě vracet!&quot; Slyšíš za sebou. Přidala jsi do kroku a spěšně zamířila rovnou...

[[Do přístavu|Jít do přístavu]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 3 and $hospodalevo is true and $pristav is true&gt;&gt;Rychle jsi zmizela. &quot;No jen ber roha kryso a vopovaž se ještě vracet!&quot; Slyšíš za sebou. Přidala jsi do kroku a zamířila rovnou... na nábřeží. Zastavila jsi se, až v okamžik, kdy cítíš, že jsi v dostatečné vzdálenosti od taverny. Tam jsi se ohlédla a když vidíš, že už na tebe námořník nekouká, teprve jsi se trochu uvolnila a úlevou vydechla... //Tak. Skrz tavernu to už určitě zkoušet nebudu...// Takže  zbývá jedině varianta [[přes plot.|Přelézt přes plot]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 2 and $hospodalevo is false and $pristav is false&gt;&gt;Rychle jsi zmizela. &quot;No jen ber roha kryso a vopovaž se ještě vracet!&quot; Slyšíš za sebou. Přidala jsi do kroku a spěšně zamířila rovnou...

[[Do přístavu]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="556" name="rychle vklouzla dovnitř!" tags="korektura Změna-hudby" position="4800,3850" size="100,100">Taverna je &lt;&lt;if $hospodalevo is true&gt;&gt;stejně, jako ta předešlá hospoda &lt;&lt;/if&gt;&gt;zahalena do dýmu vycházejícího z desítek doutnajících dýmek všude kolem. //Fuj tady se nedá dýchat...// Říkáš si a prodíráš se mezi potácejícími se námořníky. Všude je cítit intenzivní smrad tabáku, alkoholu a pot nemytých těl. Kdosi v rohu místnosti právě hraje na harmoniku a lidi kolem něj  hlasitě prozpěvují... nebo tedy spíše vyřvávají, než že by to byl zpěv. Místnost osvětlují dvě velká okna s výhledem na přístav a na každém stole stojí kovaný svícen se svíčkou. Ty v kouřové cloně mihotají, jako vzdálené ohně nějakého města. &lt;&lt;set $kuchyne to false&gt;&gt;
&lt;&lt;if $zpomaleni lte 3 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru a tam ho znovu spatříš! Zloděj právě přistoupil k pultu a něco přes něj houkl na šenkýřku. Ta pokývala hlavou a natočila do velkého korbelu pivo. Muž si ho od ní vzal a několika velkými doušky jej vyprázdnil. Utřel si knír a rozhlédl se po místnosti. &lt;&lt;linkreplace &quot;Rychle jsi se schovala&quot;&gt;&gt;Rychle jsi se schovala za nejbližšího židli. Chvilku jsi vyčkala a potom nenápadně vykoukla. Zloděj právě hodil na bar penízek a odchází. Prodíráš se mezi opilci, abys ho neztratila z dohledu, až jsi se procpala k baru. Muž mezitím obešel bar zleva až do zadní části místnosti a zmizel dveřmi pryč. Šenkýřka je k tobě právě otočená zády a na pultu stále leží mince, kterou zloděj platil...

[[Vzít minci|Vzít minci 3/4 nenasr.]]
[[Nechat ji tam ležet a jít ke dveřím|Nechat ji tam ležet a jít ke dveřím 3/4 nenasr.]]

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 3 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru a tam ho znovu spatříš! Zloděj právě přistoupil k pultu a něco přes něj houkl na šenkýřku. Ta pokývala hlavou a natočila do velkého korbelu pivo. Muž si ho od ní vzal a několika velkými doušky jej vyprázdnil. Utřel si knír a rozhlédl se po místnosti. &lt;&lt;linkreplace &quot;Rychle jsi se schovala&quot;&gt;&gt;Rychle jsi se schovala za nejbližšího židli.
V ten okamžik se však rozrazily vchodové dveře a dovnitř nakráčel rozezlený námořník. &quot;Kde je to krysí děcko!&quot; Slyšíš až přes půlku lokálu. //Do háje! Co teď?//
Vykoukneš zpoza židle a vidíš, že zloděj se s námořníkem ve dveřích tak o vteřinu minul pohledem, otočil se, hodil na pult minci a kráčí pryč do zadní části lokálu. Chceš ještě chvíli sledovat zloděje, abys viděla, kam až dojde, ale zároveň se teď skrze místnost čím dál více blíží potetovaný námořník a prohlíží si všechno kolem...

[[Zůstat pozorovat, kam zloděj dojde|Zůstat pozorovat, kam zloděj dojde 3/4 nasr.]]
[[Schovat se pod stůl|Schovat se pod stůl 3/4 nasr.]]

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 3 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru a tam ho znovu spatříš! Zloděj právě přistoupil k pultu a něco přes něj houkl na šenkýřku. Ta pokývala hlavou a natočila do velkého korbelu pivo. Muž si ho od ní vzal a několika velkými doušky jej vyprázdnil. Zrovna si utíral knír, když k se k němu skrze dav lidí procpal námořník od vstupu. Na něco se ho zeptal a zloděj ho mávnutím ruky nasměroval kamsi do zadní části lokálu. Ten pokýval a odešel do zadní části, kde otevřel skoro nezřetelné dveře ve zdi a zmizel tudy pryč. Muž si utřel knír a rozhlédl se po místnosti. &lt;&lt;linkreplace &quot;Rychle jsi se schovala&quot;&gt;&gt;Rychle jsi se schovala za nejbližšího židli. Chvilku jsi vyčkala a potom nenápadně vykoukla. Zloděj právě hodil na bar penízek a odchází. Prodíráš se mezi opilci, abys ho neztratila z dohledu, až jsi se procpala až k baru. Muž mezitím obešel bar zleva až do zadní části místnosti a zmizel těmi samými dveřmi, co předtím námořník. Šenkýřka je k tobě právě otočená zády a na pultu stále leží mince, kterou zloděj platil...

[[Vzít minci|Vzít minci 3/4 zpráva.]]
[[Nechat ji tam ležet a jít ke dveřím|Nechat ji tam ležet a jít ke dveřím 3/4 zpráva]]

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru a tam ho znovu spatříš! Zloděj právě několika velkými doušky vyprázdnil korbel piva a postavil jej na pult. Utřel si knír a rozhlédl se po místnosti. &lt;&lt;linkreplace &quot;Rchle jsi se schovala&quot;&gt;&gt;Rychle jsi se schovala za nejbližšího židli. Chvilku jsi vyčkala a potom nenápadně vykoukla. Zloděj právě hodil na bar penízek a odchází. Prodíráš se mezi opilci, abys ho neztratila z dohledu, až jsi se procpala až k baru. Muž mezitím obešel bar z leva až do zadní části místnosti a zmizel dveřmi pryč. Šenkýřka je k tobě právě otočená zády a na pultu stále leží mince, kterou zloděj platil...

[[Vzít minci|Vzít minci 3/4 nenasr.]]
[[Nechat ji tam ležet a jít ke dveřím|Nechat ji tam ležet a jít ke dveřím 3/4 nenasr.]]

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru a tam ho znovu spatříš! Zloděj právě několika velkými doušky vyprázdnil korbel piva a postavil jej na pult. Utřel si knír a rozhlédl se po místnosti. &lt;&lt;linkreplace &quot;Rychle jsi se schovala&quot;&gt;&gt;Rychle jsi se schovala za nejbližšího židli. 
V ten okamžik se však rozrazily vchodové dveře a dovnitř nakráčel rozezlený námořník. &quot;Kde je to krysí děcko!&quot; Slyšíš až přes půlku lokálu. //Do háje! Co teď?//
Vykoukneš zpoza židle a vidíš, že zloděj se s námořníkem ve dveřích tak o vteřinu minul pohledem, otočil se, hodil na pult minci a kráčí pryč do zadní části lokálu. Chceš ho ještě chvíli sledovat, aby jsi viděla, kam má namířeno, ale zároveň se teď skrze místnost čím dál více blíží potetovaný námořník a prohlíží si všechno kolem...

[[Zůstat pozorovat, kam zloděj dojde|Zůstat pozorovat, kam zloděj dojde 3/4 nasr.]]
[[Schovat se pod stůl|Schovat se pod stůl 3/4 nasr.]]

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru a tam ho znovu spatříš! Zloděj právě několika velkými doušky vyprázdnil korbel piva a postavil jej na pult.  Zrovna si utíral knír, když k se k němu skrze dav lidí procpal námořník od vstupu. Na něco se ho zeptal a zloděj ho mávnutím ruky nasměroval kamsi do zadní části lokálu.  Ten pokýval a odešel tím směrem, kde otevřel skoro nezřetelné dveře ve zdi a zmizel. Muž si utřel knír a rozhlédl se po místnosti. &lt;&lt;linkreplace &quot;Rychle jsi se schovala&quot;&gt;&gt;Rychle jsi se schovala za nejbližšího židli. Chvilku jsi vyčkala a potom nenápadně vykoukla. Zloděj právě hodil na bar penízek a odchází. Prodíráš se mezi opilci, aby jsi ho neztratila z dohledu, až jsi se procpala až k baru. Muž mezitím obešel bar zleva až do zadní části místnosti a zmizel těmi samými dveřmi, co před tím námořník. Šenkýřka je k tobě právě otočená zády a na pultu stále leží mince, kterou zloděj platil... Bylo by to však bezpečné?

[[Vzít minci|Vzít minci 3/4 zpráva.]]
[[Nechat ji tam ležet a jít ke dveřím|Nechat ji tam ležet a jít ke dveřím 3/4 zpráva]]

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru, ale nikde ho nevidíš... Protlačila jsi se tedy až k baru a rozhlížíš se všude kolem. Ve vzdálené části lokálu právě bouchly zadní dveře... Mohl to být on... ale taky nemusel... Jak se rozhlížíš, zaznamenáš také na desce baru kousek od tebe ležet minci a šenkýřka je zrovna otočená zády k tobě... Bylo by to však teď bezpečné?

[[Vzít minci|Vzít minci 5 nenasr.]]
[[Projít se mezi stolky| Projít se mezi stolky 5 nenasr]]
[[Jít k zadním dveřím|Nechat ji tam ležet a jít ke dveřím 5 nenasr.]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru, ale nikde ho nevidíš... Chystáš se protlačit k baru... V ten okamžik se však rozrazily vchodové dveře a dovnitř nakráčel rozezlený námořník. &quot;Kde je to krysí děcko!&quot; Slyšíš až přes půlku lokálu. //Do háje! Co teď?//

[[Schovat se pod nejbližší stůl.|Schovat se pod nejbližší stůl 5 nasr.]]
[[Procpat se rychle k baru|Procpat se rychle k baru 5 nasr.]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Podíváš se mezi tlupu lidí před tebou směrem k baru, ale nikde ho nevidíš... Stojí tam jenom ten potetovaný námořník a zrovna se na něco ptá šenkýřky. Ta mu cosi odpovídá a ukazuje na dveře v zadní části lokálu. Námořník pokýval a vydal se tím směrem. Došel ke dveřím a zmizel pryč. Protlačila jsi se tedy až k baru a rozhlížíš se všude kolem. Po zloději však nikde ani stopa... Odešel snad těmi samými zadními dveřmi? Nebo snad sedí u některého ze stolků? Jak se tak rozhlížíš, zaznamenáš také, že na desce baru kousek od tebe leží mince a šenkýřka je zrovna otočená zády k tobě. Bylo by to však teď bezpečné?

[[Vzít minci|Vzít minci 5 nenasr.]]
[[Projít se mezi stolky| Projít se mezi stolky 5 nenasr]]
[[Jít k zadním dveřím|Nechat ji tam ležet a jít ke dveřím 5 nenasr.]]

&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;posledni&quot; &quot;music/posledni.mp3&quot;&gt;&gt;&lt;&lt;audio posledni play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="557" name="schodiště" tags="korektura" position="4500,1575" size="100,100">Točíš se a v moment, kdy tvoje oko zaznamená schodiště, řetěz jsi pustila... a dobře jsi udělala, protože při malém zpoždění tvé reakce a setrvačnosti řetězu to bylo akorát. S řinčivým zasvištěním prolétl skrz okno a v doprovodu střepů prolétl až kamsi na terasu. Zezdola se ozvaly výkřiky. Ty se teď pokrčená držíš za kolena a snažíš se rozdýchat, jak se ti zamotala hlava. Zezdola se ozvaly spěšné kroky po schodech nahoru. //Sakra... Rychle!//
Přiběhla jsi k oknu. V rámu ještě zbylo poměrně dost střepů...

[[Opatrně mezi nimi prolézt]]
[[Něčím je vymlátit]]</tw-passagedata><tw-passagedata pid="558" name="schovala ho nazpět do kapsy" tags="korektura" position="3100,650" size="100,100">... udělala několik rychlých kroků co nejdál od ní. Žena se ale rychle vzpamatovala a křikla po tobě: &quot;Tak mi ho ale koukej hezky dát, holčičko!&quot; To už jsi jí ale zmizela za hloučkem dalších lidí. Konečně jsi volná a [[uvnitř pekárny!]]

&lt;&lt;set $bába to true&gt;&gt;</tw-passagedata><tw-passagedata pid="559" name="schovala za závěs." tags="korektura" position="3475,375" size="100,100">Znovu jsi se schovala a vyčkáváš... Pekař došel zhruba do prostřed místnosti a pak zastavil. Najednou slyšíš, jak bochníky padají do prázdné nůše - kam jsi se původně zvažovala schovat. //To by asi bolelo...// pomyslíš si.
Muž ještě chvíli stojí na místě, pak si - soudě podle tleskání - oprášil ruce a už je slyšet, jak se dusání nohou vzdaluje, až nakonec zmizí po schodech dolů a znovu [[zavládne ticho|zavládne ticho 2]]</tw-passagedata><tw-passagedata pid="560" name="sebrala svazek klíčů." tags="korektura" position="4150,375" size="100,100">Přiběhla jsi s ním ke dveřím od balkónu. Na kožené šňůrce se pohupují čtyři klíče.

[[Malinkatý stříbrný|Špatný klíč]]
[[Dlouhý a zlatý|Správný klíč]]
[[Těžký kovaný|Špatný klíč]]
[[Menší a rezavý|Špatný klíč]]
&lt;&lt;set $spatnyklic = 1&gt;&gt;
&lt;&lt;set $klicepekarna to true&gt;&gt;</tw-passagedata><tw-passagedata pid="561" name="skočila ven." tags="korektura Změna-hudby" position="4400,1750" size="100,100">&lt;&lt;if $těsně is true&gt;&gt;Ještě cítíš, jak ti v letu po nohách sklouzly pekařovy pracky a na prázdno se za tebou spráskly. To už jsi veknu a bolestivě jsi narazila na podlahu dřevěné verandy.&lt;&lt;/if&gt;&gt;&lt;&lt;if $těsně is false&gt;&gt;Prolétla jsi vzduchem a bolestivě narazila na podlahu dřevěné verandy.&lt;&lt;/if&gt;&gt;
Postavila ses a bolestivě si mneš naražená místa. Ohlédneš se a vidíš, jak na tebe přes prosklené dveře krámu všichni vyjeveně hledí. Tlustá hospodyňka zbrunátněla v obličeji a přiběhla ke dveřím. Začala jimi cloumat, ty jsou však - jak už dobře víš - zamčené, takže jsi se na ni jen škodolibě zaculila a &lt;&lt;linkreplace &quot;vyplázla na ni jazyk&quot;&gt;&gt;vyplázla na ni jazyk.
Slyšíš, jak na tebe přes sklo tlumeně huláká: &quot;Co tam dělá ten nevychovanej spratek?! Okamžitě někdo otevřete ty dveře!&quot; Otočila ses na patě a vydala se k zábradlí. Kličkuješ mezi stolečky a směješ se tomu, jak se za dveřmi hospodyňka hlasitě vzteká. &quot;Kde je klíč?! Kdo tady má klíče od dveří?!&quot; Potom ti ale srdce spadne až do žaludku, když uslyšíš spěšné cinkání klíčů. Obrátíš se a vidíš, jak u dveří stojí pekař a strká klíč do dveří. Dveře se s cvaknutím otevřely, v tu ránu ho odstrčila bokem nepříčetná hospodyňka a rozběhla se k tobě! &quot;Pojď sem ty malá mrcho!&quot; Křičí a neúprosně se blíží. Úlekem jsi až vyskočila do vzduchu a slalomem mezi stolky pelášíš k zábradlí na okraji terasy. Vyškrábala ses na ně s rychlostí kočky pronásledované smečkou psů. Rozhlédla ses a &lt;&lt;if $zpomaleni lte 3&gt;&gt;málem sletěla, když jsi uviděla, jak dole přímo pod tebou zrovna proběhl zloděj a peláší dál dolů na tržiště. //Však počkej!// Zamračíš se a rychle zkoumáš [[možnost sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4&gt;&gt;málem sletěla, když jsi zpozorovala, jak ti ulicí dolů mizí postava zloděje prchajícího směrem na tržiště. //Však počkej!// zkoumáš [[možnost sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 5&gt;&gt;hledáš  [[možnost sestupu.]]&lt;&lt;/if&gt;&gt;&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;terasa&quot; &quot;music/terasa.mp3&quot;&gt;&gt;&lt;&lt;audio terasa play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="562" name="skočila!" tags="korektura" position="2200,525" size="100,100">Sotva jsi zapištěla a už tě s žuchnutím obklopila vonící sláma. Chvilku se vzpamatováváš a pak už se hrabeš ven. První, co vidíš, je opravdu zmatený výraz krávy. &quot;To je dobrý.&quot; Poplácáš ji po čumáku a postavíš se na nohy. Oklepeš ze sebe zbytky slámy a už pelášíš ulicí dál. Hned za další řadou domů ses však zarazila. Před tebou jsou tři cesty.
Ta nalevo vede nahoru do kopce směrem k místnímu chrámu. Ta rovně vede z kopce dolů směrem k pekárně a dál na tržiště. Ta napravo vede do menších klikatějších a temnějších uliček, kam ti rodiče vždycky zakazovali chodit... Tak kudy?

[[Nalevo]]
[[Rovně]]
[[Napravo]]
&lt;&lt;set $nalevo = 0&gt;&gt;
&lt;&lt;set $napravo = 0&gt;&gt;
&lt;&lt;set $skokslama to true&gt;&gt;</tw-passagedata><tw-passagedata pid="563" name="skočit" tags="korektura Posrala-to Změna-hudby" position="4775,2225" size="100,100">Pustila ses fáboru a doskočila na cestu. Trochu jsi zavrávorala, ale nespadla.

__//+1 Bod dostihu //__&lt;&lt;set $zpomaleni -= 1&gt;&gt;

&lt;&lt;if $zpomaleni lte 5&gt;&gt;Narovnáš se a hledíš na cestu dolů k trhu, kam teď směřuje vzdalující se vůz slámy.
Víš, že se zatím držíš zloději jakž takž v patách a zatím ti&lt;&lt;if $zpomaleni eq 5 or $zpomaleni eq 4&gt;&gt; - i přes některá špatná rozhodnutí - ještě úplně&lt;&lt;/if&gt;&gt; neunikl! Musíš však dál pokračovat a snažit se. Tak tedy... [[Vzhůru na tržiště!]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel však kvůli všem těm předešlým špatným rozhodnutím toto poslední správné nezvrátí to, co je teď již jasné... Dobře víš, že  ses až příliš zdržela a zloděj ti mezitím unikl. Teď už může být bůhvíkde...

[[Zloděj ti unikl...|zloděj ti unikl...]] 
&lt;&lt;set $konecpodpekarnou2 to true&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="564" name="skočit do moře..." tags="korektura Smrt-ok Změna-hudby" position="2650,5625" size="100,100">S rozběhem jsi skočila do moře a zároveň uslyšela hlasitou ránu. Kolem se rozletěly cákance vody a ty jsi teď pod hladinou. Chceš začít plavat pryč, něco ale není v pořádku. Koukneš se pod hladinou na svou hruď a uvidíš, jak ti z ní uniká červený pramínek. Voda kolem tebe se začala rychle barvit do ruda a tělem ti prostoupil chlad. Z pusy ti začaly unikat bubliny a pomalu klesáš ke dnu. Vidíš hladinu moře, na které tančí krásné odlesky slunce a červený pramínek z tvé hrudi tě doprovází ke dnu. Končetiny ti ochably a ty bezvládně klesáš do hloubky. Všechno se ti rozmazalo a ty se noříš do naprosté&lt;&lt;if $Umrtí eq 0&gt;&gt;[[...TMY...|...TMA...]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 1&gt;&gt;, tobě nějak zvláštně povědomé [[...TMY...|...TMA...2]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 2&gt;&gt;, tobě povědomé [[...TMY...|...TMA...3]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 3&gt;&gt;, tobě dobře povědomé [[...TMY...|...TMA...4]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $Umrtí eq 4&gt;&gt;tobě velmi dobře povědomé [[...TMY...|...TMA...5]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $zastrelenavmori to true&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="565" name="směřujíc na tržiště. kolem krabic" tags="korektura" position="1775,1725" size="100,100">Vůz po kočičích hlavách poskakuje a vy se znovu blížíte k místu činu... Vidíš, jak zrovna pomáhá jeden kluk druhému zvednout se ze země. &quot;A sakra,&quot; vyhrkneš.

[[Poprosit farmáře, ať přidá na rychlosti]]
[[Schovat se do sena]]</tw-passagedata><tw-passagedata pid="566" name="směřujíce na tržiště." tags="korektura Změna-hudby" position="2000,1950" size="100,100">Mlčky vedle sebe sedíte, vůz se skřípavě pohupuje a domy kolem ubíhají. 

__//+1 Bod dostihu //__&lt;&lt;set $zpomaleni -= 1&gt;&gt;

Slunce vystoupalo až nad střechy a začíná pražit do čela. Po modravé obloze se pozvolna převalují poloprůhledné mráčky a ulicí se jen zřídka prožene slabý závan větříku. Probíháš právě kolem vysoké terasy pekárny a drobný závan malinko rozpohyboval velký fábor, který z ní visí. Je na něm vyobrazený znak čerstvě upečeného bochníku. 
Jak se tržiště blíží, už ho z dálky slyšíš a cítíš. Posledních pár spěšných kroků a už se za zatáčkou vynořilo v plné své kráse. Desítky stánků s barevnými plátěnými střechami stojí v několika prstencových řadách na kruhovém náměstí s kašnou uprostřed. Trhem vede jedna hlavní přímá ulička mezi stánky, kolem kašny až na druhou stranu, kde cesta dál pokračuje do přístavu. Okraje náměstí jsou lemovány řadou vysokých domů a po pravé straně se tyčí stará budova městské radnice s věžičkou. Na věžičce ze všech čtyř stran vlají fábory se znakem vašeho ostrova - bleděmodrá plocha moře s jednoduše vyobrazenou plachetnicí a za ní zelený kopec symbolizující váš ostrov s věží majáku, který ostrovu dominuje. Ještě o kus výš jsou do zdi vsazeny velké železné hodiny, které zrovna ukazují za pět sedm. A úplně nahoře pod špičatou taškovou stříškou se zlatou korouhvičkou se pohupuje velký mosazný zvon. 
Vzduchem se line směs vůní koření, rybiny a kouře. Všude se ozývají hlasy překřikujících se prodejců a mezi stánky kličkují nakupující zdejší i cizinci, kteří sem z mořských dálav zavítali. Zloděje tu však nikde nevidíš...
Nejpravděpodobnější varianty jsou však dvě... buď je teď někde mezi stánky, nebo směřuje do přístavu. 
Vůz právě drkotavě dojel až těsně k hranici tržiště a zastavil. 

[[Slézt z vozu dolů]]

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;\
&lt;&lt;cacheaudio &quot;rynek&quot; &quot;music/rynek.mp3&quot;&gt;&gt;&lt;&lt;audio rynek play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="567" name="spěšně k ní doběhla" tags="korektura" position="3300,2400" size="100,100">Fontána má dvě patra mušlemi zdobených cylindrů, po kterých tiše zurčí a stéká voda, která hází do okolí mihotavé odlesky. U jejího úpatí sedí na kruhovém bílém schodku starý bezdomovec s otrhaným černým psem a škrábe se špinavým nehtem mezi nažloutlými zuby. 

[[Vylézt na fontánu a rozhlédnout se|Vylézt na fontánu a rozhlédnout se informace]]
[[Zeptat se bezdomovce|Zeptat se bezdomovce informace]]</tw-passagedata><tw-passagedata pid="568" name="trochu svezeš..." tags="korektura Změna-hudby" position="4675,2475" size="100,100">Slunce vystoupalo až nad střechy a začíná pražit do čela. Po modravé obloze se pozvolna převalují poloprůhledné mráčky a ulicí se jen zřídka prožene slabý závan větříku. Jak se tržiště blíží, už je z dálky slyšíš a cítíš. Posledních pár kodrcavých okamžiků a už se za zatáčkou vynořilo v plné své kráse. Desítky stánků s barevnými plátěnými střechami stojí v několika prstencových řadách na kruhovém náměstí s kašnou uprostřed. Trhem vede jedna hlavní přímá ulička mezi stánky, kolem kašny až na druhou stranu, kde cesta dál pokračuje do přístavu. Okraje náměstí jsou lemovány řadou vysokých domů a po pravé straně se tyčí stará budova městské radnice s věžičkou. Na věžičce ze všech čtyř stran vlají fábory se znakem vašeho ostrova - bleděmodrá plocha moře s jednoduše vyobrazenou plachetnicí a za ní zelený kopec symbolizující váš ostrov s věží majáku, který ostrovu dominuje. Ještě o kus výš jsou do zdi vsazeny velké železné hodiny, které zrovna ukazují za pět sedm. A úplně nahoře se pod špičatou taškovou stříškou se zlatou korouhvičkou pohupuje velký mosazný zvon. 
Vzduchem se line směs vůní koření, rybiny a kouře. Všude se ozývají hlasy překřikujicích se prodejců a mezi stánky kličkují nakupující zdejší i cizinci, kteří sem z mořských dálav zavítali. Zloděje tu však prozatím nikde vidno není...
Nejpravděpodobnější varianty jsou však dvě... buď je teď někde mezi stánky, nebo směřuje do přístavu. 
Vůz dojel až k hranici trhu a zastavil. Co nejnenápadněji jsi se vyhrabala ze sena a seskočila z něj na dlažbu. Farmář právě s heknutím seskočil jen kousek před tebe, to už jsi však jen ledabyle prošla kolem něj a zdvořile ho pozdravila. &quot;Krásný den i tobě, děvenko!&quot; Opětuje ti farmář s úsměvem a nadzdvihne svůj starý děravý klobouk. 

[[Vstoupit na tržiště.|vstoupit na tržiště.]]

&lt;&lt;cacheaudio &quot;rynek&quot; &quot;music/rynek.mp3&quot;&gt;&gt;&lt;&lt;audio rynek play loop&gt;&gt;</tw-passagedata><tw-passagedata pid="569" name="utíkáš pryč." tags="korektura" position="3175,2400" size="100,100">Bohužel se však, tak či onak, jedná o zpomalení...

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $zpomaleni lte 5&gt;&gt;Už jsi však skoro u fontány a tak jsi přidala a [[spěšně k ní doběhla]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi udělala již příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="570" name="uvnitř pekárny!" tags="korektura Pekárna" position="3225,650" size="100,100">Teď máš konečně možnost se rychle rozhlédnout kolem. Je to tu krásné. Vždycky jsi to tu měla ráda. Všude to tu voní čerstvým pečivem, ze stropu visí dlouhé třásně preclíků, na pultě stojí nesčetné mísy koláčků, buchet, dalamánků, šátečků a dalších pochutin, jejichž jména ani neznáš. Za pultem je paní prodavačka v zástěře od mouky. Za ní už je vidět velká dřevěná linka, kde se to všechno připravuje. Stojí tam několik kuchařek, které míchají těsto, chystají náplně a zaplétají už vyzrálé a rozválené těsto do všemožných tvarů. U zdi stojící tři velké pece. Z jedné z nich právě mladý pomocník vytahuje horký plech rohlíků, ze kterých se ještě kouří. Je tu celkem horko a všudypřítomný mumraj. 
To vše jsi rychle prolétla očima, párkrát se slastně nadechla té vůně a už máš cílevědomě namířeno k proskleným dveřím na terasu. Zatáhneš za kliku, ale ouha... terasa je dnes evidentně zavřená. Co teď?

[[Zkusit přemluvit paní za pultem]]
[[Porozhlédnout se po alternativě]]</tw-passagedata><tw-passagedata pid="571" name="už rozběhneš po hřebeni dál." tags="korektura" position="2000,700" size="100,100">Po střeše se umíš pohybovat s přehledem. Naučila ses to, když jsi tátovi nejednou pomáhala spravovat díry ve vaší střeše, aby ti neteklo do pokojíku.
&lt;&lt;if $zpomaleni eq 3&gt;&gt;Naštěstí ses zatím příliš nezdržela, takže máš prchajícího stále na dohled a on navíc vůbec netuší, že ho pronásleduješ ve výšinách nad jeho hlavou. //Ha!// Skáčeš ze střechy na střechu s jistotou veverky, která někam urputně spěchá skrz svůj rodný lesík. Dole se právě vysypal vůz naložený hnojem. Bohužel se to stalo až chvilku potom, co tudy proběhl zloděj...&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 4&gt;&gt;Bohužel ses už jednou zdržela, takže postavička prchajícího jde sotva rozeznat na konci ulice, než zahnul za roh a zmizel ti z dohledu. Skáčeš ze střechy na střechu s jistotou veverky, která někam urputně spěchá skrz svůj rodný lesík. Míjíš vůz rozsypaného hnoje dole na ulici a sedláka, který u něj právě hlasitě nadává.&lt;&lt;/if&gt;&gt; Pak už ti výhled na něj zmizel za dalším komínem. Pomalu se blížíš ke konci poslední střechy. Tady cesta končí...
Řadu dalších domů od tebe dělí široká ulice.
&lt;&lt;if $zpomaleni eq 3&gt;&gt;Naposledy se koukneš, kudy zloděj uhání. Je to přibližně směrem na velké tržiště.&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 4&gt;&gt;Škoda, že ses zdržela... teď bys alespoň viděla, kudy zhruba běžel. No nic.&lt;&lt;/if&gt;&gt; 
Co teď... Dole vidíš kupu slámy, ze které právě užírá pohublá kráva. Dalo by se tam teoreticky skočit... Nebo radši slézt po kamené zdi domu? Je to přeci jen přes osm metrů...

[[Skočit do slámy]]
[[Slézt po zdi domu]]</tw-passagedata><tw-passagedata pid="572" name="vrazila jí ho do ruky" tags="korektura" position="3350,650" size="100,100">... udělala několik rychlých kroků co nejdál od ní. Žena vypadá natolik zmateně, že si tě už ani nevšímá. Sice tě to stálo tvoje jablko, ale teď jsi konečne volná a [[uvnitř pekárny!]]

&lt;&lt;set $jablko = 0&gt;&gt;

&lt;&lt;set $bába to true&gt;&gt;</tw-passagedata><tw-passagedata pid="573" name="vstoupila na dvůr." tags="korektura" position="3750,5050" size="100,100">Doplížila ses přes dvorek k otevřené, zdobně vyřezávané bráně a zpoza ní &lt;&lt;linkreplace &quot;vykoukla.&quot;&gt;&gt;vykoukla.
Před branou stojí na malém kousku půdy ještě několik sudů a potom už začíná dlouhé molo. Po něm teď kráčí zloděj a míří k té velké lodi. //Co teď udělat?// &lt;&lt;linkreplace &quot;zvažuješ...&quot;&gt;&gt;zvažuješ...
Z úvah tě však vytrhlo hlasité otevření dveří z hospody. Ve vteřině jsi uskočila za bránu, aby tě neviděli. Ven vyšli - nejspíše - dva námořníci a o nečem se hlasitě baví. Sudě dle toho, jak se hlasy rychle přibližují, máš jen pár vteřin na to se schovat. Rozhlédneš se a jediné, co tu vidíš jako možnost úkrytu jsou sudy. Dva ze tří jsou dokonce otevřené...


[[Schovat se do sudu]]
[[Schovat se za sudy]]
&lt;&lt;/linkreplace&gt;&gt;
 &lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="574" name="vstoupit na tržiště." tags="Trh korektura" position="3250,1875" size="100,100">&lt;&lt;if $neuctivost is true&gt;&gt;Za zády ještě slyšíš, jak na tebe farmář volá &quot;V pohodě, nemusíš děkovat, je to přece samozřejmost!&quot; To už tě ale nezajímá. &lt;&lt;/if&gt;&gt;Koukáš, že dnes je tu vcelku hodně lidí. Kam vlastně jít? Kam se tak mohl zloděj podít?

[[Projít se mezi stánky]]
[[Jít doprostřed ke kašně]]
[[Zeptat se paní v nejbližším stánku]]

&lt;&lt;set $zeptatsepani to false&gt;&gt;
&lt;&lt;set $projitsemezistanky to false&gt;&gt;
&lt;&lt;set $jestenelezla to true&gt;&gt;

&lt;&lt;set $fousy to false&gt;&gt;</tw-passagedata><tw-passagedata pid="575" name="vstoupíš do rozhovoru." tags="korektura Posrala-to" position="3075,2275" size="100,100">Muž se už už chystá říct, co ještě by potřeboval, když se nahlas ozveš. &quot;Paní prosím můžu se vás na něco zeptat?&quot; Muž i prodavačka se na tebe udiveně otočí. &quot;Pokud si něco přeješ, bež si laskavě stoupnout na konec fronty.&quot; Řekne prodavačka lehce popuzeným tónem.&quot;Nené já se jen chtěla zeptat, jestli jste tudy před chvílí někoho neviděla utíkat sem na trh a kam potom šel?&quot; Řekneš naléhavě. &quot;Já tu vídám lidí a lidí, bež prosímtě, nezdržuj.&quot; Odsekne ti a znovu se usměje na pána. Takže co jste říkal, že byste ještě chtěl?

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $zpomaleni lte 5&gt;&gt;Naštvaně se otočíš a vrátíš se k hlavní ulici. &quot;Bába jedna.&quot; Zakleješ si potichu a &lt;&lt;if $projitsemezistanky is true&gt;&gt;jelikož mezi stánky už ses prošla, zbývá jen jediné...&lt;&lt;/if&gt;&gt;

[[Vyrazíš ke kašně|Jít doprostřed ke kašně]]
&lt;&lt;if $projitsemezistanky is false&gt;&gt;[[Jdeš se projít mezi stánky|Projít se mezi stánky]]&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Naštvaně se otočíš a odejdeš. Bohužel jsi však udělala již příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]&lt;&lt;set $konecukecanababa to true&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="576" name="vylezla jsi na parapet." tags="korektura" position="1550,1000" size="100,100">Jako vždy se ti trochu zahoupal žaludek, už jsi na to však zvyklá. Pár naučenými kroky jsi překonala propast pod sebou, vyšplhala na sousední střechu a jak opice jsi vyběhla až na vrchol. Malinko se zakymácíš, než chytneš balanc a pak se [[už rozběhneš po hřebeni dál.]]</tw-passagedata><tw-passagedata pid="577" name="vypařila, jako voda na kamnech." tags="korektura" position="2950,3375" size="100,100">Vytáhla jsi z kapsy jablko a přistoupila k obtloustlému praseti. &quot;Ná tady máš mňamků, to ti bude móc chutnat...&quot; A strkáš mu jablko k čumáku.
, , ,
Prase udělalo první neochotný krůček. &quot;Tak pójď...&quot; Říkáš mu a pomalu couváš s jablkem nataženým před sebou. Konečně pochopilo, že jestli opravdu o svačinu stojí, bude se muset hýbat a rozešlo se k tobě již svižnějšími krůčky. Když už bylo dostatečně daleko z cesty, položila jsi jablko na zem, podrbala prase a se slovy &quot;Jen papen.&quot; Proběhla kolem něj a [[bránou ven z trhu.]]

__//+1 Bod dostihu //__&lt;&lt;set $zpomaleni -= 1&gt;&gt;</tw-passagedata><tw-passagedata pid="578" name="zahleděla se do něj." tags="korektura" position="3550,4350" size="100,100">Z okna je vidět na zadní dvůr hostince. Většinu místa zabírají v několika řadách stojící bečky piva. Na trávníku pobíhá pár oškubaných slepic, u zadní zdi naproti dveřím z hostince stojí stará kadibudka a z levé strany plotu je velká brána vedoucí k soukromému molu.
&lt;&lt;if $zpomaleni lte 3 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;
Vidíš, jak bránou právě prošel potetovaný námořník, který tě asi šel hledat na molo.
Teď jsi ale zpozorovala, že po trávníku z hospody kráčí ještě někdo jiný... Zaostříš přes špínu na okně a... //Sakra!//
Je to zloděj! Přešel přes dvorek a vešel do kadibudky. 
Není času nazbyt! Teď máš příležitost se na dvorek proplížit, aniž by tě někdo viděl.

[[Seběhnout po schodech a jít dveřmi na dvůr]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 3 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Teď jsi ale zpozorovala, že po trávníku z hospody kdosi kráčí... Zaostříš přes špínu na okně a... //Sakra!//
Je to zloděj! Přešel přes dvorek a vešel do kadibudky. 
Není času nazbyt! Teď máš příležitost se na dvorek proplížit, aniž by tě viděl.

[[Seběhnout po schodech a jít dveřmi na dvůr]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 3 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Vidíš, jak bránou právě prošel potetovaný námořník, který jde nejspíš doručit neexistující zprávu.
Teď jsi ale zpozorovala, že po trávníku z hospody kráčí ještě někdo jiný... Zaostříš přes špínu na okně a... //Sakra!//
Je to zloděj! Přešel přes dvorek a vešel do kadibudky. 
Není času nazbyt! Teď máš příležitost se na dvorek proplížit, aniž by tě někdo viděl.

[[Seběhnout po schodech a jít dveřmi na dvůr]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;Vidíš, jak bránou právě prošel potetovaný námořník, který tě asi šel hledat na molo.
Teď jsi ale zpozorovala, že ke kadibudce kdosi přistoupil... Zaostříš přes špínu na okně a... //Sakra!//
Je to zloděj! Právě otevřel dveře a vešel do ní.
Není času nazbyt! Teď máš příležitost se na dvorek proplížit, aniž by tě někdo viděl.

[[Seběhnout po schodech a jít dveřmi na dvůr]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Teď jsi ale zpozorovala, že ke kadibudce kdosi přistoupil... Zaostříš přes špínu na okně a... //Sakra!//
Je to zloděj! Právě otevřel dveře a vešel do ní.
Není času nazbyt! Teď máš příležitost se na dvorek proplížit, aniž by tě někdo viděl.

[[Seběhnout po schodech a jít dveřmi na dvůr]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 4 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Vidíš, jak bránou právě prošel potetovaný námořník, který jde jejspíš doručit neexistující zprávu.
Teď jsi ale zpozorovala, že ke kadibudce kdosi přistoupil... Zaostříš přes špínu na okně a... //Sakra!//
Je to zloděj! Právě otevřel dveře a vešel do ní.
Není času nazbyt! Teď máš příležitost se na dvorek proplížit, aniž by tě někdo viděl.

[[Seběhnout po schodech a jít dveřmi na dvůr]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $nasranynamornik is false and $dalsitabulkavole is false&gt;&gt;Nikde však nikoho nevidíš... Odstoupila jsi jsi tedy od okna a obešla všechny dveře hostinských pokojů. Všechny do jednoho jsou zamčené a z žádného není slyšet ani hlásku. Nezbývá tedy než jít...

[[zpátky dolů]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $nasranynamornik is true and $dalsitabulkavole is false&gt;&gt;Vidíš, jak bránou právě prošel potetovaný námořník, který tě asi šel hledat na molo. Zloděj však nikde... Odstoupila jsi jsi tedy od okna a obešla všechny dveře hostinských pokojů. Všechny do jednoho jsou zamčené a z žádného není slyšet ani hlásku. Nezbývá tedy než jít...

[[zpátky dolů]]
&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni eq 5 and $namornikovazprava is true and $dalsitabulkavole is true&gt;&gt;Vidíš, jak bránou právě prošel potetovaný námořník, který jde jejspíš doručit neexistující zprávu. Zloděj však nikde... Odstoupila jsi jsi tedy od okna a obešla všechny dveře hostinských pokojů. Všechny do jednoho jsou zamčené a z žádného není slyšet ani hlásku. Nezbývá tedy než jít...

[[zpátky dolů]]
&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="579" name="zavládlo ticho" tags="korektura" position="4275,925" size="100,100">Opatrně jsi vykoukla jak myška z nory, zkontrolovala, zda je vzduch čistý, a pak jsi opět přelezla přes pytle do místnosti. Oprášila ses... Co teď?

[[Zkusit dveře něčím vypáčit]]
[[Zkusit něčím rozbít okno]]
&lt;&lt;if $okno eq 1&gt;&gt;[[Jít dolů zkusit vylézt oknem]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="580" name="zavládlo ticho." tags="korektura" position="3950,1325" size="100,100">Trvalo ti ještě hodnou chvíli, než ses vzpamatovala natolik, abys znovu začala jednat.
//Tak... co teď?// Snažíš si nějak utříbit myšlenky.

__//+1 Bod zpomalení//__
&lt;&lt;set $zpomaleni += 1&gt;&gt;
[[Zkusit nůši rozkymácet, aby spadla]]
[[Zkusit se vyhrabat nahoru]]</tw-passagedata><tw-passagedata pid="581" name="zavládne ticho 2" tags="korektura" position="4150,500" size="100,100">Opatrně jsi vykoukla jak myška z nory, zkontrolovala zda je vzduch čistý a tiše se zpoza závěsu vynořila nazpět do místnosti. Závěs byl pěkně zaprášený, takže jsi chtě nechtě &lt;&lt;linkreplace &quot;pšíkla...&quot;&gt;&gt;pšíkla.
Naštěstí je dole celkem hluk, takže tě nejspíš nikdo neslyšel. Nu... Co teď?

[[Zkusit dveře něčím vypáčit]]
[[Zkusit něčím rozbít okno]]
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="582" name="zkusíš nůši rozkymácet." tags="korektura" position="4075,1550" size="100,100">Po dlouhém boji se ti konečně podařilo dostat končetiny k tělu. Ležíš tam teď jak vajíčko v chlebovém vězení a začneš se rytmicky &lt;&lt;linkreplace &quot;pohupovat ze strany na stranu.&quot;&gt;&gt;pohupovat ze strany na stranu.
Cítíš, jak se postupně nůše začíná houpat s tebou, až se pomaličku odlepuje ze země. Ještě pár zhoupnutí &lt;&lt;linkreplace &quot;a...&quot;&gt;&gt;a... 
Žuch! Nůše se s tebou převrátila a všude po zemi se rozlétly bochníky. Vyškrábeš se ven, bolavě se narovnáš. Shledáš, že &lt;&lt;if $hnůj eq 1&gt;&gt;jsi od hlavy až k patě celá od mouky, která se ti ještě nalepila na hnůj. Zděsíš se a zapřísaháš se, že jakmile bude příležitost, okamžitě se umyješ!&lt;&lt;/if&gt;&gt;&lt;&lt;if $hnůj eq 0&gt;&gt;jsi od hlavy až k patě celá bílá od mouky. Rychle se oprášíš a utřeš pramínek krve pod nosem.&lt;&lt;/if&gt;&gt;
Tak... co teď? 
&lt;&lt;if $okno eq 0&gt;&gt;Dole už jsi šanci měla,takže ti zbývá:&lt;&lt;/if&gt;&gt;
[[Zkusit dveře něčím vypáčit]]
[[Zkusit něčím rozbít okno]]
&lt;&lt;if $okno eq 1&gt;&gt;[[Jít dolů zkusit vylézt oknem]]&lt;&lt;/if&gt;&gt;
  &lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;/linkreplace&gt;&gt;</tw-passagedata><tw-passagedata pid="583" name="zloděj ti unikl..." tags="korektura Posrala-to" position="5275,350" size="100,100">Ještě bys pokračovala v pronásledování, problém ale je, že už ti stihl natolik utéct, že nemáš nejmenší ponětí, kam běžel...

//Tvým jediným a opravdovým štěstím milý hráči, je fakt, že jsem tuto pasáž ještě nestihl dopsat. Budeme se tedy tvářit, že jsi to poslední neuvážené rozhodnutí, ještě neučinil a vrátíme tě pro tentokrát do hry. Ju?//

&lt;&lt;if $konecvkosi is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Vylézt z koše]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecrozcesti is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|zpět na rozcestí.]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecupekarny is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Namáhavě se zvedneš ze země]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecnarozcesti2 is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|nazpět k rozcestí]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecpredpekarnou is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|ztratila v davu.]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecpodpekarnou is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|nohama na zemi.]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecpodpekarnou2 is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|skočit]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecvuz is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Nenápadně zezadu vylézt na vůz a schovat se do slámy]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecvuz2 is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Poprosit vozku, aby tě svezl]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecvuz3 is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Prostě na vůz skočit]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konechospoda is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Zklamaně jsi vyšla ven]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $koneckradez is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Řepa]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecbabatrh is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|On by se mi teď moc hodil paní]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecbabaoteptrh is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|On mi tam spadl paní]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecdlouhokecal is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Doposlechnout si vyprávění]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecukecanababa is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|vstoupíš do rozhovoru.]]&lt;&lt;/if&gt;&gt;\
&lt;&lt;if $konecmezistanky is true&gt;&gt;[[Vrátit se o krok nazpět a snažit se, aby se to neopakovalo!|Projít se mezi stánky]]&lt;&lt;/if&gt;&gt;\

&lt;&lt;set $zpomaleni -= 2&gt;&gt;
&lt;&lt;set $konecvkosi to false&gt;&gt;
&lt;&lt;set $konecrozcesti to false&gt;&gt;
&lt;&lt;set $konecupekarny to false&gt;&gt;
&lt;&lt;set $konecnarozcesti2 to false&gt;&gt;
&lt;&lt;set $konecpredpekarnou to false&gt;&gt;
&lt;&lt;set $konecpodpekarnou to false&gt;&gt;
&lt;&lt;set $konecpodpekarnou2 to false&gt;&gt;
&lt;&lt;set $konecvuz to false&gt;&gt;
&lt;&lt;set $konecvuz2 to false&gt;&gt;
&lt;&lt;set $konecvuz3 to false&gt;&gt;
&lt;&lt;set $konechospoda to false&gt;&gt;
&lt;&lt;set $koneckradez to false&gt;&gt;
&lt;&lt;set $konecbabatrh to false&gt;&gt;
&lt;&lt;set $konecbabaoteptrh to false&gt;&gt;
&lt;&lt;set $konecdlouhokecal to false&gt;&gt;
&lt;&lt;set $konecukecanababa to false&gt;&gt;
&lt;&lt;set $konecmezistanky to false&gt;&gt;

&lt;&lt;set $dalsibod = 1&gt;&gt;</tw-passagedata><tw-passagedata pid="584" name="znovu se rozběhla ulicí." tags="korektura" position="2200,275" size="100,100">Zloděj ti zmizel z dohledu... Je ale jasné, že musel běžet tudy. Jiná cesta zatím není.
Přidala jsi tempo. Domy kolem tebe jen lítají, čelo se ti orosilo a svaly nohou se zahřívají. Občas ti to trochu podklouzne, jak se ti na chodidla nalepily kousky hnoje a doprovází tě smrad, který necítíš jen, když běžíš hodně rychle. Ulice zahýbá doprava. Vyběhla jsi za její roh, prosmykla se kolem velké kupky sena, ze které ujídá pohublá kráva, ulice tě stočila doleva &lt;&lt;linkreplace &quot;a tam...&quot;&gt;&gt;a tam... 
...se ulice větví na tři cesty.
Ta nalevo vede nahoru do kopce směrem k místnímu chrámu. Ta rovně vede z kopce dolů směrem k pekárně a dál na tržiště. Ta napravo vede do menších klikatějších a temnějších uliček, kam ti rodiče vždycky zakazovali chodit... Tak kudy?

[[Nalevo]]
[[Rovně]]
[[Napravo]]
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $nalevo = 0&gt;&gt;
&lt;&lt;set $napravo = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="585" name="znovu se rozběhneš ulicí za zlodějem." tags="korektura" position="2200,400" size="100,100">Vidíš, jak zloděj na konci uličky zahnul za roh a zmizel ti z dohledu.
Přidala jsi tempo. Domy kolem tebe jen lítají, čelo se ti orosilo a svaly v nohách se zahřívají. Zahnula jsi za roh, proběhla kolem velké kupky sena, ze které ujídá pohublá kráva, ulice tě stočila doleva &lt;&lt;linkreplace &quot;a tam...&quot;&gt;&gt;a tam... 
... se ulice větví na tři cesty.
Ta nalevo vede nahoru do kopce směrem k místnímu chrámu. Ta rovně vede z kopce dolů směrem k pekárně a dál na tržiště. Ta napravo vede do menších klikatějších a temnějších uliček, kam ti rodiče vždycky zakazovali chodit... Tak kudy?

[[Nalevo]]
[[Rovně]]
[[Napravo]]
&lt;&lt;/linkreplace&gt;&gt;
&lt;&lt;set $nalevo = 0&gt;&gt;
&lt;&lt;set $napravo = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="586" name="zpátky dolů" tags="korektura" position="3425,4625" size="100,100">Seběhla jsi po schodech opět dolů a znovu se ocitla v úzké temné chodbě. &lt;&lt;if $kuchyne is true&gt;&gt;Do kuchyně už jsi nakoukla, takže zbývá jediné:&lt;&lt;/if&gt;&gt;

[[Dveřmi na konci chodby]]
&lt;&lt;if $kuchyne is false&gt;&gt;[[Oprýskanými dveřmi naproti|Oprýskanými dveřmi na pravo]]&lt;&lt;/if&gt;&gt;

&lt;&lt;if $zpomaleni lte 4&gt;&gt;&lt;&lt;set $zpomaleni += 1&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="587" name="zpět na rozcestí." tags="korektura Posrala-to" position="2525,300" size="100,100">Doběhla jsi zpět na křižovatku. 
&lt;&lt;set $zpomaleni += 1&gt;&gt;
__//+1 Bod zpomalení//__

&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi udělala příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]

&lt;&lt;set $konecrozcesti to true&gt;&gt;

&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni lte 5 or $zpomaleni eq 5&gt;&gt;Kudy tedy?
[[Doleva směrem k pekárně a dál na tržiště|Rovně]]
&lt;&lt;if $napravo eq 0&gt;&gt;[[Rovně do menších klikatějších a temnějších uliček|Napravo]]&lt;&lt;/if&gt;&gt;
  &lt;&lt;/if&gt;&gt;
  
&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="588" name="ztratila v davu." tags="korektura Posrala-to" position="4625,1700" size="100,100">Procpala jsi se ven a cítíš, alespoň lehké uspokojení, žes jí to hezky vrátila. &lt;&lt;if $zpomaleni lte 5&gt;&gt;Teď už je však nejvyšší čas dát se na cestu [[kolem pekárny|Kolem pekárny]].&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Pokračovala bys dál v pronásledování, leč... Bohužel jsi udělala už příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]

&lt;&lt;set $konecpredpekarnou to true&gt;&gt;
&lt;&lt;/if&gt;&gt;

&lt;&lt;if $dalsibod eq 1&gt;&gt;&lt;&lt;set $zpomaleni += 1&gt;&gt;&lt;&lt;set $dalsibod = 0&gt;&gt;&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="589" name="ztratila vědomí." tags="KONEC korektura Změna-hudby" position="4600,5375" size="100,100">&lt;&lt;linkreplace &quot;Jeden starý příběh praví...&quot;&gt;&gt;Jeden starý příběh praví...
I ten nejjemnější pohyb rybí ploutve dokáže vyvolat tu nejsmrtonosnější vlnu nepředstavitelných rozměrů a síly. Stejně tak se však mohou všechna vlnění sejít v jednu nekonečnou zrcadlově klidnou hladinu. 
I malá kapka je schopna  v budoucnu vylít moře z okrajů a smýt města i vesnice z povrchu zemského a nebo zalít statisíce stromů, aniž by napáchala škody... 
Na každém pohybu záleží

[[...]]

&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="590" name="ztratila vědomí..." tags="korektura Změna-hudby" position="4600,5500" size="100,100">&lt;&lt;linkreplace &quot;Jeden starý příběh praví...&quot;&gt;&gt;Jeden starý příběh praví...
I ten nejjemnější pohyb rybí ploutve dokáže vyvolat tu nejsmrtonosnější vlnu nepředstavitelných rozměrů a síly. Stejně tak se však mohou všechna vlnění sejít v jednu nekonečnou zrcadlově klidnou hladinu. 
I malá kapka je schopna  v budoucnu vylít moře z okrajů a smýt města i vesnice z povrchu zemského a nebo zalít statisíce stromů, aniž by napáchala škody... 
Na každém pohybu záleží

[[...]]
&lt;&lt;/linkreplace&gt;&gt;

&lt;&lt;audio &quot;:all&quot; fadeout&gt;&gt;</tw-passagedata><tw-passagedata pid="591" name="zvážit cestu..." tags="korektura" position="2525,425" size="100,100">Dalo by se teoreticky prolézt skrz pekárnu až na její terasu na druhé straně... A tam, když by ses vynasnažila a nějak by se ti podařilo spustit dolů... bys mohla získat pěkný náskok! Zní to ale docela ztřeštěně... Dá se určitě běžet i okolo pekárny v zlodějových šlépějích. Rychle se blížíš k momentu rozhodnutí... Tak kudy?

[[Skrz pekárnu]]
[[Kolem pekárny]]</tw-passagedata><tw-passagedata pid="592" name="Čahouna nalevo" tags="korektura" position="3125,1650" size="100,100">Namířila jsi to k čahounovi nalevo a plnou silou do něho krabicí narazila.Ten ztratil rovnováhu a jak dlouhý tak široký se na záda rozplácl na dlažbě. Krabice od něj odskočila a rozpadla se na kousky. V tu chvíli už k tobě však ten druhý tlustější doběhl a pevně tě sevřel. &quot;A mám tě, ty malá mrcho!&quot; zakřičel ti vítězoslavně do ucha.

[[Byla jsi chycena...]]</tw-passagedata><tw-passagedata pid="593" name="Čekat" tags="" position="200,1275" size="100,100">V tichu rušeném jen šploucháním vody je slyšet skřehotání racků někde vysoko nad tvou hlavou. Táta ještě hodnou chvíli tiše dumal. Potom několikrát rychle zamrkal a na jeho zarostlé tváři se ojevil úsměv. 
&quot;Prosím tě, ty seš moje rybka,&quot; řekne a vytáhne něco z kapsy.
&quot;Tady máš.&quot; 
Do natažených dlaní ti z jeho mohutné pracky spadne pomuchlaný bonbón v barevném papírovém obalu. Nadšeně poděkuješ a strčíš si ho...

[[Do pusy]]
[[Do kapsy]]</tw-passagedata><tw-passagedata pid="594" name="Čepuje pivo" tags="korektura" position="4575,3450" size="100,100">&quot;Víte on... on čepuje pívo.&quot; Řekneš pak.
&quot;Ahá... a ten tvůj fotřík má velký kozy jó? Nebo jak my chceš vysvětlit, že ta mařena, co tam vobsluhuje je tvůj fotr!&quot; Oboří se do tebe. &quot;Ty mazej vodsud než tě vykuchám!&quot; Zavrčí a tobě se před nosem zaleskne dlouhý nůž. 

[[Rychle se klidíš pryč|rychle klidíš pryč.]]</tw-passagedata><tw-passagedata pid="595" name="Řepa" tags="Posrala-to korektura" position="3325,3275" size="100,100">Trhovec si právě přes pult s někým povídá a nevypadá, že by ti zatím věnoval nějakou pozornost...
Nenápadně ses ochomýtala kolem nejbližší řepy ležící na pultu.  V hlavě ti pořád zní mámin hlas: //&quot;Kradou jen blbci!&quot;// 
Ty ale přeci blbec nejsi... zamračíš se. //Takže to nepla!// A už už se natahuješ po řepě, když tu až nadskočíš, jak tě prodavač okřikl: &quot;Hej! Jedeš ty spratku?!&quot;
V mžiku jsi se otočila na patě a pelášíš pryč. Doběhla jsi až ke kupě odpadků a rychle jsi se za ni schovala.

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

&lt;&lt;if $zpomaleni lte 5&gt;&gt;[[Prohledat odpadky]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $zpomaleni gte 6&gt;&gt;Bohužel jsi udělala již příliš mnoho špatných rozhodnutí a [[zloděj ti unikl...]]

&lt;&lt;set $koneckradez to true&gt;&gt;&lt;&lt;/if&gt;&gt;

&lt;&lt;set $dalsibod = 0&gt;&gt;</tw-passagedata><tw-passagedata pid="596" name="Řetěz" tags="korektura" position="4500,1200" size="100,100">Přiběhla jsi k řetězu visícímu v rohu místnosti. Je vcelku dlouhý, s velkým okem na konci. Pohlédneš nahoru, jakým způsobem tam drží, a k tvému štěstí zjistíš, že visí jen za poslední očko, zaháknuté na rezavém hřebíku.

[[Škubnout za něj]]
[[Pověsit ze za něj]]</tw-passagedata><tw-passagedata pid="597" name="Říct ho..." tags="korektura" position="4575,3025" size="100,100">&lt;&lt;if $heslo eq &quot;karagar&quot; || $heslo eq &quot;Karagar&quot; || $heslo eq &quot;karagar!&quot; || $heslo eq &quot;Karagar!&quot; || $heslo eq &quot;karagar.&quot; || $heslo eq &quot;Karagar.&quot;&gt;&gt;Námořník údivem vykulil oči, div, že mu nevypadly z důlků a s pootevřenou pusou tě [[pustil dovnitř.|rychle vklouzla dovnitř!]] &lt;&lt;set $zpomaleni -= 1&gt;&gt;&lt;&lt;elseif $heslo eq &quot;&quot;&gt;&gt;&quot;Tak buďto mluv, nebo vodpal!&quot;

&lt;&lt;textbox &quot;$heslo&quot; &quot;&quot;&gt;&gt;—[[řekneš...|Říct ho...]]
[[Zkusit se vymluvit]]
[[Nic neříct a odejít]]
&lt;&lt;else&gt;&gt;&quot;Cožes to zablekotala ty malá šťenico?! Ty vypal vodsud, než ti s tim pomůžu!&quot; 
Zahrozí ti nožem před obličejem a ty se [[rychle klidíš pryč.]]&lt;&lt;/if&gt;&gt;</tw-passagedata><tw-passagedata pid="598" name="Říct mu o tom, že jsi pronásledovaná" tags="korektura" position="2100,1825" size="100,100">&quot;Pane, prosím, svezte mě. Mě pronásleduje tamten kluk a chce mi ublížit.&quot; 
Farmář se ohlédne, uvidí jak se k vám nenávistně žene onen kluk a přikývne. 
&quot;Držíš se pevně, dítě?&quot; zeptá se farmář s úsměvem, švihne otěžemi a zakřičí: &quot;Hijé!&quot;
V tu chvíli už doběhl kluk skoro až k tobě, vidíš, jak se chystá už už chytit vozu, když mula přidala do kroku a vůz mu ujel přímo před nosem a zmizel v dáli, [[[směřuje na tržiště.|směřujíce na tržiště.]]</tw-passagedata><tw-passagedata pid="599" name="Říct popravdě, že si dnes spala jak do vody hozená" tags="" position="275,750" size="100,100">&quot;No... Já jsem dnes spala, jak do vody hozená,&quot; řekneš popravdě.
Táta se usměje a pokývá hlavou. 
&quot;Jojo. Byl jsem ti v noci zavřít okno a ani jsi o mě nevěděla.&quot;
Klepne vytaženou rybku ze sítě paličkou a hodí ji do kyblíku k dalšímu úlovku.
Vypadá to, že je prozatím otevřený další konverzaci.

[[A proč ty ryby zabijíme?]]
[[A jak dlouho už rybaříš?]]</tw-passagedata><tw-passagedata pid="600" name="Říct, jak se spalo tobě" tags="" position="150,750" size="100,100">&quot;No...&quot; Snažíš se zoufale nějak navázat konverzaci. &quot;To já jsem se dnes...&quot;

[[Zkusit zahrát na city a zalhat, že se ti dnes spalo špatně]]
[[Říct popravdě, že si dnes spala jak do vody hozená]]</tw-passagedata><tw-passagedata pid="601" name="Říct, že jsi donesla ryby a ukázat za sud, aby se ohlédl." tags="korektura" position="4500,3300" size="100,100">&quot;Já... Donesla jsme ryby do kuchyně.&quot; Řekneš poměrně přesvědčivým tónem.
Námořník se na tebe nechápavě zadívá. &quot;A kde ty rybyska jako máš? He?&quot;
&quot;Já je mám... mám je v nůši támhle za sudem.&quot; Ukážeš na cestu za ním. Námořník se nechápavě otočí, aby zrakem našel neexistující nůši a ty jsi v tentýž okamžik [[rychle vklouzla dovnitř!]]

&lt;&lt;set $nasranynamornik to true&gt;&gt;
&lt;&lt;set $namornikovazprava to false&gt;&gt; 
&lt;&lt;set $dalsitabulkavole to false&gt;&gt;</tw-passagedata><tw-passagedata pid="602" name="Říct, že to bohužel nemůžeš" tags="korektura" position="4225,3850" size="100,100">&quot;Moc se omlouvám, ale to nemůžu...&quot; Zavrtíš hlavou.
&quot;Jó tak to máš fakt blbý, protože všecky zprávy z venčí s ním řeším zásadně já a šmitec!&quot; A zabodne nůž do sudu, až zadrnčí.

[[Vymyslet si šifru, co mu řekneš]]
[[Nic neříct a odejít]]</tw-passagedata><tw-passagedata pid="603" name="Škubnout za něj" tags="korektura" position="4500,1325" size="100,100">Chytla jsi ho a plnou silou za něj škubla. Řetěz zařinčel a spadl přímo na pytle s moukou. Zvedl se velký bílý oblak mouky a ty v něm se zadrženým dechem šmátráš. Když jsi řetěz nahmatala, rychle jsi ho namotala k sobě a vyběhla z oblaku. Z hluboka ses nadechla, je čas rozbít okno... jak ale na to?

[[Švihnout s ním do okna jako bičem]]
[[Roztočit se a pak řetěz pustit]]</tw-passagedata><tw-passagedata pid="604" name="Škubnout za něj páčení" tags="korektura" position="3725,2025" size="100,100">Chytla jsi ho a plnou silou za něj škubla. Řetěz zařinčel a spadl přímo na pytle s moukou. Zvedl se velký bílý oblak a ty v něm se zadrženým dechem šátráš. Když jsi řetěz nahmatala, rychle jsi ho namotala k sobě a vyběhla z oblaku zpět ke dveřím.
Přistoupilas ke klice a protáhla ji větším okem na jedné straně řetězu, které na to akorát tak pasovalo. Co dál?

[[Vzít řetěz na druhém konci do ruky a s rozběhem trhnout]]
[[Přivázat na druhý konec těžký trámek, kterým hodit]]</tw-passagedata><tw-passagedata pid="605" name="Špatný klíč" tags="korektura" position="4275,300" size="100,100">&lt;&lt;if $spatnyklic eq 1&gt;&gt;Vzala jsi ho a přiložila k zámku... Ale bohužel nepasuje... musíš zkusit jiný. Znovu jsi se podívala na [[svazek|jiný.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $spatnyklic eq 2&gt;&gt;Vzala jsi ho a opět přiložila k zámku... Ale ani tentokrát nepasuje... musí to být jiný. Znovu jsi se podívala na [[svazek|jiný.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $spatnyklic eq 3&gt;&gt;Vzala jsi ho a zase jej přiložila k zámku... Ale štěstěna ti nepřeje a ani tentokrát klíč nepasuje...
Už to trvá celkem dlouho...

__//+1 Bod zpomalení//__&lt;&lt;set $zpomaleni += 1&gt;&gt;

Znovu ses podívala na [[svazek|jiný.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $spatnyklic eq 4&gt;&gt;Tak moment... Ten už jsi přece zkoušela... Není tudíž divu, že zase nepasuje! Znovu jsi se podívala na [[svazek|jiný.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $spatnyklic eq 5&gt;&gt;No... buďto jsi úplně hloupá, nebo to z nepochopitelného důvodu hraješ... Můžeš tam už prosím dát ten správný klíč? [[Svazek|jiný.]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $spatnyklic eq 6&gt;&gt;Koukám, že tohle už evidentně děláš z čiré zvědavosti, kam až to povede...... víš &lt;&lt;linkreplace &quot;kam?&quot;&gt;&gt;klam? 
Nikam! Dej tam proboha ten správný klíč! Znovu ses podívala na [[svazek|jiný.]]&lt;&lt;/linkreplace&gt;&gt;&lt;&lt;/if&gt;&gt;&lt;&lt;if $spatnyklic eq 7&gt;&gt;&lt;span style=&quot;font-size: 30px;&quot;&gt;Bylo odemknuto vzácné ocenění - __{{{Klíčová chvíle}}}__&lt;/span&gt; 
&lt;&lt;set $acivmenttvrdohlavazvedavost to true&gt;&gt;


[[vložit do zámku správný klíč|Správný klíč]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $spatnyklic += 1&gt;&gt;</tw-passagedata><tw-passagedata pid="606" name="Štokrle" tags="korektura" position="5125,1475" size="100,100">Přeběhla jsi místnost a chňapla rozvrzané štokrle. Přiběhla jsi s ním nazpět k oknu a začala vytloukat ostré střepy trčící z rámu. V tu chvíli, kdy už to vypadá nadějně, se za tebou hlasitě ozvalo: &quot;Héj! Co tam děláš?!&quot; Vyplašeně se otočíš a uvidíš rozlíceného pekaře, stojícího v místnosti jen pár metrů od tebe. Hodíš štokrle na zem a v panice se rychle vyškrábeš do rámu...

[[Přeskočit na dřevěné zábradlí balkónu]]
[[Skočit na podlahu balkónu]]</tw-passagedata><tw-passagedata pid="607" name="Štokrle fail" tags="korektura" position="4225,2425" size="100,100">To však bylo na tyto experimenty zjevně příliš staré a při nárazu se s hlasitým *KŘACH* rozletělo na kusy. Ty pak popadaly všude po zemi a nadělaly strašlivý rámus. Na závěr ještě na podlahu zvonivě dopadla uvolněná naběračka a ty slyšíš, jak dole zavládlo ticho...
//Kruci...//
V zápětí se ozval dusot nohou po schodišti nahoru. //Je to v háji...// Prolétne ti hlavou a rozklepou se ti kolena. 

[[Schovat se za pytle]]
[[Schovat se za závěs]]
[[Zůstat stát na místě]]</tw-passagedata><tw-passagedata pid="608" name="Štokrle2" tags="korektura" position="4100,2425" size="100,100">Doběhla jsi ke starému dřevěnému štokrli, ze kterého už se odlupuje poslední barva a doběhla s ním nazpět ke dveřím. Z mezery vyčuhuje naběračka. Rozmáchla ses štokrletem a praštila jím [[do naběračky.|Štokrle fail]]</tw-passagedata><tw-passagedata pid="609" name="Švihnout s ním do okna jako bičem" tags="korektura" position="4625,1450" size="100,100">Stoupneš si na dva metry před okno a rozcvičíš si zápěstí. Řetěz ti v ruce pocinkává. //Teď to hlavně nepokazit.//
Rozkročíš se, nádech, výdech a... *Švih!* Řetěz zasvištěl vzduchem a s hlasitým prásknutím narazil do okenní tabule. Ta hlasitě zadrnčela, udělala se na ní velká prasklina, ale nerozpadla se... Řetěz se po svezl dolů a hlasitě dopadl na podlahu. Dole to ztichlo. //A sakra...//
Chvilku ještě panovalo napjaté ticho a pak se zezdola ozvaly rázné kroky nahoru. //co teď?!//
Sebrala jsi rychle řetěz ze země a potěžkala ho v ruce.

[[Znovu švihnout]]
[[Udělat z něj kouli a tu hodit]]</tw-passagedata><tw-passagedata pid="610" name="Podpora/zpětná vazba" tags="" position="0,275" size="100,100">&lt;center&gt;
&lt;img src=&quot;images/QR.jpg&quot; width=&quot;256&quot; height=&quot;256&quot;&gt;
↑__Finanční podpora projektu__↑
(Když do poznámky k převodu napíšeš své jméno či přezdívku, obtiskneš se tak do tohoto projektu)

&lt;a href=&quot;https://bit.ly/NaVlnach&quot;&gt;Odebírat herní novinky&lt;/a&gt;

Reporty a jiné dotazy můžeš zasílat na email:
__Floosy7@seznam.cz__


&lt;&lt;button &quot;Zpět&quot;&gt;&gt;
    &lt;&lt;goto &quot;Kapitola I.&quot;&gt;&gt;
&lt;&lt;/button&gt;&gt;
&lt;/center&gt;
</tw-passagedata><tw-passagedata pid="611" name="Do pusy 2" tags="" position="150,1550" size="100,100">S chutí jsi ho rozbalila a strčila do pusy. Mňam! Tyto pochutinky jsou velká vzácnost. Táta ji musel mít schovanou od doby, co minulý měsíc posledně odpluli obchodníci z dalekých krajin. Tehdy jich pár koupil, a že nebyly levné.

&lt;&lt;if $lodka eq 1&gt;&gt;[[Prozkoumat loďku]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $lodka eq 0&gt;&gt;[[Prozkoumat loďku|lodka]]&lt;&lt;/if&gt;&gt;
&lt;&lt;if $breh eq 1&gt;&gt;[[Prohlédnout si břeh]]&lt;&lt;/if&gt;&gt;&lt;&lt;if $breh eq 0&gt;&gt;[[Prohlédnout si břeh|breh]]&lt;&lt;/if&gt;&gt;

&lt;&lt;set $dobranalada = 1&gt;&gt;
&lt;&lt;set $jaksemas = 0&gt;&gt;
&lt;&lt;set $jakjsisevyspal = 0&gt;&gt;
&lt;&lt;set $jakdlouhorybaris = 0&gt;&gt; 
&lt;&lt;set $lhani = 0&gt;&gt;
&lt;&lt;set $bonbon to false&gt;&gt;

</tw-passagedata><tw-passagedata pid="612" name="Převzít ocenění" tags="" position="2775,4700" size="100,100">&lt;span style=&quot;font-size: 22px;&quot;&gt;Bylo odemknuto ocenění-  __{{{Zoubková víla}}}__&lt;/span&gt;
&lt;&lt;set $acivmentskoksudovy to true&gt;&gt;

[[Přidat do sbírky a pokračovat v příběhu|Prkno pokračování]]</tw-passagedata><tw-passagedata pid="613" name="Prkno pokračování" tags="" position="2600,4625" size="100,100">&quot;Ty kryso! Hneš se o píď a nakrmím tě volovem!&quot; Zavrčí a zbraní ti teď míří přímo na hruď.
&lt;&lt;if $strelena is false&gt;&gt;
[[Zůstat stát na místě|Zůstat stát na místě 2]]
[[Uskočit na stranu a dát se na útěk|Uskočit na stranu a dát se na útěk 2]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $strelena is true&gt;&gt;
[[Zůstat stát na místě|Zůstat stát na místě 2]]
[[Uskočit na stranu a dát se na útěk|Uskočit na stranu a dát se na útěk smrt]]

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $vyrazenyzubporucika to true&gt;&gt;

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;</tw-passagedata><tw-passagedata pid="614" name="Převzít ocenění 2" tags="" position="3250,4650" size="100,100">&lt;span style=&quot;font-size: 22px;&quot;&gt;Bylo odemknuto ocenění-  __{{{Zoubková víla}}}__&lt;/span&gt;
&lt;&lt;set $acivmentskoksudovy to true&gt;&gt;

[[Přidat do sbírky a pokračovat v příběhu|Prkno kámen]]</tw-passagedata><tw-passagedata pid="615" name="Prkno kámen" tags="" position="3325,4400" size="100,100">Ty kryso! Hneš se o píď a nakrmím tě volovem!&quot; Zavrčí a zbraní ti teď míří přímo na hruď.
&lt;&lt;if $strelena is false&gt;&gt;
[[Zůstat stát na místě|Zůstat stát na místě 2]]
[[Uskočit na stranu a dát se na útěk|Uskočit na stranu a dát se na útěk 2]]

&lt;&lt;/if&gt;&gt;&lt;&lt;if $strelena is true&gt;&gt;
[[Zůstat stát na místě|Zůstat stát na místě 2]]
[[Uskočit na stranu a dát se na útěk|Uskočit na stranu a dát se na útěk smrt]]

&lt;&lt;/if&gt;&gt;

&lt;&lt;set $vyrazenyzubporucika to true&gt;&gt;

&lt;&lt;if $obnovaposmrti is true&gt;&gt;&lt;&lt;set $obnovaposmrti to false&gt;&gt;</tw-passagedata><tw-passagedata pid="616" name="Speciální poděkování" tags="" position="5000,5450" size="100,100">&lt;span style=&quot;font-size: 29px;&quot;&gt;&lt;b&gt;Speciální poděkování:&lt;/b&gt;&lt;/span&gt;

&lt;span style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;Muzikanti a interpreti:&lt;/b&gt;&lt;/span&gt;
Luciano Mayaci
Snaketake
David Synák
Tomáš Krepinský
Veronika Blažková

&lt;span style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;Korektura:&lt;/b&gt;&lt;/span&gt;
Iva Tapi Synáková
Petra Vinšová

&lt;span style=&quot;font-size: 21px;&quot;&gt;&lt;b&gt;Finančně podpořili:&lt;/b&gt;&lt;/span&gt;
Martin Růžička


[[Nazpět|...]]</tw-passagedata></tw-storydata>
	<script id="script-sugarcube" type="text/javascript">
	/*! SugarCube JS */
	if(document.documentElement.getAttribute("data-init")==="loading"){(function(window,document,jQuery,undefined){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var errorPrologRegExp=/^(?:(?:uncaught\s+(?:exception:\s+)?)?\w*(?:error|exception|_err):\s+)+/i,Alert=function(){function mesg(where,error,isFatal,isUncaught){var mesg="Error",nice="A".concat(isFatal?" fatal":"n"," error has occurred.");nice+=isFatal?" Aborting.":" You may be able to continue, but some parts may not work properly.";var isObject=null!==error&&"object"===_typeof(error),what=(isObject&&"message"in error?String(error.message).replace(errorPrologRegExp,""):String(error)).trim()||"unknown error";null!=where&&(mesg+=" [".concat(where,"]")),mesg+=": ".concat(what,"."),isObject&&"stack"in error&&(mesg+="\n\nStack Trace:\n".concat(error.stack)),mesg&&(nice+="\n\n".concat(mesg)),isUncaught||console[isFatal?"error":"warn"](mesg),window.alert(nice)}var origOnError;return origOnError=window.onerror,window.onerror=function(what,source,lineNum,colNum,error){"complete"===document.readyState?mesg(null,null!=error?error:what,!1,!0):(mesg(null,null!=error?error:what,!0,!0),window.onerror=origOnError,"function"==typeof window.onerror&&window.onerror.apply(this,arguments))},Object.freeze(Object.defineProperties({},{error:{value:function(where,error){mesg(where,error)}},fatal:{value:function(where,error){mesg(where,error,!0)}}}))}(),Patterns=(wsMap=new Map([[" ","\\u0020"],["\f","\\f"],["\n","\\n"],["\r","\\r"],["\t","\\t"],["\v","\\v"],[" ","\\u00a0"],[" ","\\u1680"],["᠎","\\u180e"],[" ","\\u2000"],[" ","\\u2001"],[" ","\\u2002"],[" ","\\u2003"],[" ","\\u2004"],[" ","\\u2005"],[" ","\\u2006"],[" ","\\u2007"],[" ","\\u2008"],[" ","\\u2009"],[" ","\\u200a"],["\u2028","\\u2028"],["\u2029","\\u2029"],[" ","\\u202f"],[" ","\\u205f"],["　","\\u3000"],["\ufeff","\\ufeff"]]),wsRe=/^\s$/,missing="",wsMap.forEach((function(pat,char){wsRe.test(char)||(missing+=pat)})),space=missing?"[\\s".concat(missing,"]"):"\\s",spaceNoTerminator="[\\u0020\\f\\t\\v\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]",notSpace="\\s"===space?"\\S":space.replace(/^\[/,"[^"),anyChar="(?:.|".concat("[\\n\\r\\u2028\\u2029]",")"),anyLetter="[0-9A-Z_a-z\\-\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]",anyLetterStrict=anyLetter.replace("\\-",""),identifier="".concat("[$A-Z_a-z]").concat("[$0-9A-Z_a-z]","*"),variable="[$_]"+identifier,htmlTagName="[A-Za-z](?:".concat(cENChar="(?:[\\x2D.0-9A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])","*-").concat(cENChar,"*|[0-9A-Za-z]*)"),twStyle="(".concat(anyLetter,"+)\\(([^\\)\\|\\n]+)\\):"),cssStyle="".concat(spaceNoTerminator,"*(").concat(anyLetter,"+)").concat(spaceNoTerminator,"*:([^;\\|\\n]+);"),idOrClass="".concat(spaceNoTerminator,"*((?:").concat("[#.]").concat(anyLetter,"+").concat(spaceNoTerminator,"*)+);"),inlineCss="".concat(twStyle,"|").concat(cssStyle,"|").concat(idOrClass),Object.freeze({space:space,spaceNoTerminator:spaceNoTerminator,lineTerminator:"[\\n\\r\\u2028\\u2029]",notSpace:notSpace,anyChar:anyChar,anyLetter:anyLetter,anyLetterStrict:anyLetterStrict,identifierFirstChar:"[$A-Z_a-z]",identifierNextChar:"[$0-9A-Z_a-z]",identifier:identifier,variableSigil:"[$_]",variable:variable,macroName:"[A-Za-z][\\w-]*|[=-]",templateName:"[A-Za-z][\\w-]*",htmlTagName:htmlTagName,cssIdOrClassSigil:"[#.]",cssImage:"\\[[<>]?[Ii][Mm][Gg]\\[(?:\\s|\\S)*?\\]\\]+",inlineCss:inlineCss,url:"(?:file|https?|mailto|ftp|javascript|irc|news|data):[^\\s'\"]+"})),wsMap,wsRe,missing,cENChar,twStyle,cssStyle,idOrClass,space,spaceNoTerminator,notSpace,anyChar,anyLetter,anyLetterStrict,identifier,variable,htmlTagName,inlineCss;!function(){var startWSRe,endWSRe,_trimString=(startWSRe=new RegExp("^".concat(Patterns.space).concat(Patterns.space,"*")),endWSRe=new RegExp("".concat(Patterns.space).concat(Patterns.space,"*$")),function(str,where){var val=String(str);if(!val)return val;switch(where){case"start":return startWSRe.test(val)?val.replace(startWSRe,""):val;case"end":return endWSRe.test(val)?val.replace(endWSRe,""):val;default:throw new Error('_trimString called with incorrect where parameter value: "'.concat(where,'"'))}});function _createPadString(length,padding){var targetLength=Number.parseInt(length,10)||0;if(targetLength<1)return"";var padString=void 0===padding?"":String(padding);for(""===padString&&(padString=" ");padString.length<targetLength;){var curPadLength=padString.length,remainingLength=targetLength-curPadLength;padString+=curPadLength>remainingLength?padString.slice(0,remainingLength):padString}return padString.length>targetLength&&(padString=padString.slice(0,targetLength)),padString}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function flat(){if(null==this)throw new TypeError("Array.prototype.flat called on null or undefined");var depth=0===arguments.length?1:Number(arguments[0])||0;return depth<1?Array.prototype.slice.call(this):Array.prototype.reduce.call(this,(function(acc,cur){return cur instanceof Array?acc.push.apply(acc,_toConsumableArray(flat.call(cur,depth-1))):acc.push(cur),acc}),[])}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatMap called on null or undefined");return Array.prototype.map.apply(this,arguments).flat()}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");if(0===arguments.length)return!1;var length=this.length>>>0;if(0===length)return!1;var needle=arguments[0],i=Number(arguments[1])||0;for(i<0&&(i=Math.max(0,length+i));i<length;++i){var value=this[i];if(value===needle||value!=value&&needle!=needle)return!0}return!1}}),Object.entries||Object.defineProperty(Object,"entries",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.entries object parameter must be an object");return Object.keys(obj).map((function(key){return[key,obj[key]]}))}}),Object.fromEntries||Object.defineProperty(Object,"fromEntries",{configurable:!0,writable:!0,value:function(iter){return Array.from(iter).reduce((function(acc,pair){if(Object(pair)!==pair)throw new TypeError("Object.fromEntries iterable parameter must yield objects");return pair[0]in acc?Object.defineProperty(acc,pair[0],{configurable:!0,enumerable:!0,writable:!0,value:pair[1]}):acc[pair[0]]=pair[1],acc}),{})}}),Object.getOwnPropertyDescriptors||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(obj){if(null==obj)throw new TypeError("Object.getOwnPropertyDescriptors object parameter is null or undefined");var O=Object(obj);return Reflect.ownKeys(O).reduce((function(acc,key){var desc=Object.getOwnPropertyDescriptor(O,key);return void 0!==desc&&(key in acc?Object.defineProperty(acc,key,{configurable:!0,enumerable:!0,writable:!0,value:desc}):acc[key]=desc),acc}),{})}}),Object.values||Object.defineProperty(Object,"values",{configurable:!0,writable:!0,value:function(obj){if("object"!==_typeof(obj)||null===obj)throw new TypeError("Object.values object parameter must be an object");return Object.keys(obj).map((function(key){return obj[key]}))}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padStart called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:_createPadString(targetLength-baseLength,padding)+baseString}}),String.prototype.padEnd||Object.defineProperty(String.prototype,"padEnd",{configurable:!0,writable:!0,value:function(length,padding){if(null==this)throw new TypeError("String.prototype.padEnd called on null or undefined");var baseString=String(this),baseLength=baseString.length,targetLength=Number.parseInt(length,10);return targetLength<=baseLength?baseString:baseString+_createPadString(targetLength-baseLength,padding)}}),String.prototype.trimStart||Object.defineProperty(String.prototype,"trimStart",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimStart called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimLeft||Object.defineProperty(String.prototype,"trimLeft",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimLeft called on null or undefined");return _trimString(this,"start")}}),String.prototype.trimEnd||Object.defineProperty(String.prototype,"trimEnd",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimEnd called on null or undefined");return _trimString(this,"end")}}),String.prototype.trimRight||Object.defineProperty(String.prototype,"trimRight",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.trimRight called on null or undefined");return _trimString(this,"end")}})}(),function(){var _nativeMathRandom=Math.random,_regExpMetaCharsRe,_hasRegExpMetaCharsRe,_formatRegExp,_hasFormatRegExp;function _random(){var min,max;switch(arguments.length){case 0:throw new Error("_random called with insufficient parameters");case 1:min=0,max=arguments[0];break;default:min=arguments[0],max=arguments[1]}if(min>max){var _ref=[max,min];min=_ref[0],max=_ref[1]}return Math.floor(_nativeMathRandom()*(max-min+1))+min}function _randomIndex(length,boundsArgs){var min,max;switch(boundsArgs.length){case 1:min=0,max=length-1;break;case 2:min=0,max=Math.trunc(boundsArgs[1]);break;default:min=Math.trunc(boundsArgs[1]),max=Math.trunc(boundsArgs[2])}return Number.isNaN(min)?min=0:!Number.isFinite(min)||min>=length?min=length-1:min<0&&(min=length+min)<0&&(min=0),Number.isNaN(max)?max=0:(!Number.isFinite(max)||max>=length||max<0&&(max=length+max)<0)&&(max=length-1),_random(min,max)}function _getCodePointStartAndEnd(str,pos){var code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};if(code<55296||code>57343)return{char:str.charAt(pos),start:pos,end:pos};if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)throw new Error("high surrogate without trailing low surrogate");var nextCode=str.charCodeAt(nextPos);if(nextCode<56320||nextCode>57343)throw new Error("high surrogate without trailing low surrogate");return{char:str.charAt(pos)+str.charAt(nextPos),start:pos,end:nextPos}}if(0===pos)throw new Error("low surrogate without leading high surrogate");var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);if(prevCode<55296||prevCode>56319)throw new Error("low surrogate without leading high surrogate");return{char:str.charAt(prevPos)+str.charAt(pos),start:prevPos,end:pos}}Object.defineProperty(Array,"random",{configurable:!0,writable:!0,value:function(array){if("object"!==_typeof(array)||null===array||!Object.prototype.hasOwnProperty.call(array,"length"))throw new TypeError("Array.random array parameter must be an array or array-lke object");var length=array.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments,1));return array[index]}}}),Object.defineProperty(Array.prototype,"concatUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.concatUnique called on null or undefined");var result=Array.from(this);if(0===arguments.length)return result;var items=Array.prototype.reduce.call(arguments,(function(prev,cur){return prev.concat(cur)}),[]),addSize=items.length;if(0===addSize)return result;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=items[i];-1===indexOf.call(result,value)&&push.call(result,value)}return result}}),Object.defineProperty(Array.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.count called on null or undefined");for(var indexOf=Array.prototype.indexOf,needle=arguments[0],pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,++pos;return count}}),Object.defineProperty(Array.prototype,"countWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.countWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.countWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return 0;for(var count=0,i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&++count;return count}}),Object.defineProperty(Array.prototype,"delete",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.delete called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var needles=Array.prototype.concat.apply([],arguments),needlesLength=needles.length,indices=[],i=0;i<length;++i)for(var value=this[i],j=0;j<needlesLength;++j){var needle=needles[j];if(value===needle||value!=value&&needle!=needle){indices.push(i);break}}for(var result=[],_i=0,iend=indices.length;_i<iend;++_i)result[_i]=this[indices[_i]];for(var splice=Array.prototype.splice,_i2=indices.length-1;_i2>=0;--_i2)splice.call(this,indices[_i2],1);return result}}),Object.defineProperty(Array.prototype,"deleteAt",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.deleteAt called on null or undefined");if(0===arguments.length)return[];var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,cpyIndices=_toConsumableArray(new Set(Array.prototype.concat.apply([],arguments).map((function(x){return x<0?Math.max(0,length+x):x}))).values()),delIndices=_toConsumableArray(cpyIndices).sort((function(a,b){return b-a})),result=[],i=0,iend=cpyIndices.length;i<iend;++i)result[i]=this[cpyIndices[i]];for(var _i3=0,_iend=delIndices.length;_i3<_iend;++_i3)splice.call(this,delIndices[_i3],1);return result}}),Object.defineProperty(Array.prototype,"deleteWith",{configurable:!0,writable:!0,value:function(predicate,thisArg){if(null==this)throw new TypeError("Array.prototype.deleteWith called on null or undefined");if("function"!=typeof predicate)throw new Error("Array.prototype.deleteWith predicate parameter must be a function");var length=this.length>>>0;if(0===length)return[];for(var splice=Array.prototype.splice,indices=[],result=[],i=0;i<length;++i)predicate.call(thisArg,this[i],i,this)&&(result.push(this[i]),indices.push(i));for(var _i4=indices.length-1;_i4>=0;--_i4)splice.call(this,indices[_i4],1);return result}}),Object.defineProperty(Array.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.first called on null or undefined");if(0!==this.length>>>0)return this[0]}}),Object.defineProperty(Array.prototype,"includesAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAll called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAll.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(!Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!1;return!0}}),Object.defineProperty(Array.prototype,"includesAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.includesAny called on null or undefined");if(1===arguments.length)return Array.isArray(arguments[0])?Array.prototype.includesAny.apply(this,arguments[0]):Array.prototype.includes.apply(this,arguments);for(var i=0,iend=arguments.length;i<iend;++i)if(Array.prototype.some.call(this,(function(val){return val===this.val||val!=val&&this.val!=this.val}),{val:arguments[i]}))return!0;return!1}}),Object.defineProperty(Array.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.last called on null or undefined");var length=this.length>>>0;if(0!==length)return this[length-1]}}),Object.defineProperty(Array.prototype,"pluck",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pluck called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return Array.prototype.splice.call(this,index,1)[0]}}}),Object.defineProperty(Array.prototype,"pluckMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.pluckMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.pluckMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var splice=Array.prototype.splice,result=[],max=length-1;do{result.push(splice.call(this,_random(0,max--),1)[0])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"pushUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.pushUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,push=Array.prototype.push,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&push.call(this,value)}return this.length>>>0}}),Object.defineProperty(Array.prototype,"random",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.random called on null or undefined");var length=this.length>>>0;if(0!==length){var index=0===arguments.length?_random(0,length-1):_randomIndex(length,Array.prototype.slice.call(arguments));return this[index]}}}),Object.defineProperty(Array.prototype,"randomMany",{configurable:!0,writable:!0,value:function(wantSize){if(null==this)throw new TypeError("Array.prototype.randomMany called on null or undefined");var length=this.length>>>0;if(0===length)return[];var want=Math.trunc(wantSize);if(!Number.isInteger(want))throw new Error("Array.prototype.randomMany want parameter must be an integer");if(want<1)return[];want>length&&(want=length);var picked=new Map,result=[],max=length-1;do{var i=void 0;do{i=_random(0,max)}while(picked.has(i));picked.set(i,!0),result.push(this[i])}while(result.length<want);return result}}),Object.defineProperty(Array.prototype,"shuffle",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.shuffle called on null or undefined");var length=this.length>>>0;if(0===length)return this;for(var i=length-1;i>0;--i){var j=Math.floor(_nativeMathRandom()*(i+1));if(i!==j){var swap=this[i];this[i]=this[j],this[j]=swap}}return this}}),Object.defineProperty(Array.prototype,"unshiftUnique",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.unshiftUnique called on null or undefined");var addSize=arguments.length;if(0===addSize)return this.length>>>0;for(var indexOf=Array.prototype.indexOf,unshift=Array.prototype.unshift,i=0;i<addSize;++i){var value=arguments[i];-1===indexOf.call(this,value)&&unshift.call(this,value)}return this.length>>>0}}),Object.defineProperty(Function.prototype,"partial",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Function.prototype.partial called on null or undefined");var slice=Array.prototype.slice,fn=this,bound=slice.call(arguments,0);return function(){for(var applied=[],argc=0,i=0;i<bound.length;++i)applied.push(bound[i]===undefined?arguments[argc++]:bound[i]);return fn.apply(this,applied.concat(slice.call(arguments,argc)))}}}),Object.defineProperty(Math,"clamp",{configurable:!0,writable:!0,value:function(num,min,max){var value=Number(num);return Number.isNaN(value)?NaN:value.clamp(min,max)}}),Object.defineProperty(Math,"easeInOut",{configurable:!0,writable:!0,value:function(num){return 1-(Math.cos(Number(num)*Math.PI)+1)/2}}),Object.defineProperty(Number.prototype,"clamp",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Number.prototype.clamp called on null or undefined");if(2!==arguments.length)throw new Error("Number.prototype.clamp called with an incorrect number of parameters");var min=Number(arguments[0]),max=Number(arguments[1]);if(min>max){var _ref2=[max,min];min=_ref2[0],max=_ref2[1]}return Math.min(Math.max(this,min),max)}}),RegExp.escape||(_regExpMetaCharsRe=/[\\^$*+?.()|[\]{}]/g,_hasRegExpMetaCharsRe=new RegExp(_regExpMetaCharsRe.source),Object.defineProperty(RegExp,"escape",{configurable:!0,writable:!0,value:function(str){var val=String(str);return val&&_hasRegExpMetaCharsRe.test(val)?val.replace(_regExpMetaCharsRe,"\\$&"):val}})),_formatRegExp=/{(\d+)(?:,([+-]?\d+))?}/g,_hasFormatRegExp=new RegExp(_formatRegExp.source),Object.defineProperty(String,"format",{configurable:!0,writable:!0,value:function(format){function padString(str,align,pad){if(!align)return str;var plen=Math.abs(align)-str.length;if(plen<1)return str;var padding=String(pad).repeat(plen);return align<0?str+padding:padding+str}if(arguments.length<2)return 0===arguments.length?"":format;var args=2===arguments.length&&Array.isArray(arguments[1])?_toConsumableArray(arguments[1]):Array.prototype.slice.call(arguments,1);return 0===args.length?format:_hasFormatRegExp.test(format)?(_formatRegExp.lastIndex=0,format.replace(_formatRegExp,(function(match,index,align){var retval=args[index];if(null==retval)return"";for(;"function"==typeof retval;)retval=retval();switch(_typeof(retval)){case"string":break;case"object":retval=JSON.stringify(retval);break;default:retval=String(retval)}return padString(retval,align?Number.parseInt(align,10):0," ")}))):format}}),Object.defineProperty(String.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.contains called on null or undefined");return-1!==String.prototype.indexOf.apply(this,arguments)}}),Object.defineProperty(String.prototype,"count",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.count called on null or undefined");var needle=String(arguments[0]||"");if(""===needle)return 0;for(var indexOf=String.prototype.indexOf,step=needle.length,pos=Number(arguments[1])||0,count=0;-1!==(pos=indexOf.call(this,needle,pos));)++count,pos+=step;return count}}),Object.defineProperty(String.prototype,"first",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.first called on null or undefined");return _getCodePointStartAndEnd(String(this),0).char}}),Object.defineProperty(String.prototype,"last",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.last called on null or undefined");var str=String(this);return _getCodePointStartAndEnd(str,str.length-1).char}}),Object.defineProperty(String.prototype,"splice",{configurable:!0,writable:!0,value:function(startAt,delCount,replacement){if(null==this)throw new TypeError("String.prototype.splice called on null or undefined");var length=this.length>>>0;if(0===length)return"";var start=Number(startAt);Number.isSafeInteger(start)?start<0&&(start+=length)<0&&(start=0):start=0,start>length&&(start=length);var count=Number(delCount);(!Number.isSafeInteger(count)||count<0)&&(count=0);var res=this.slice(0,start);return void 0!==replacement&&(res+=replacement),start+count<length&&(res+=this.slice(start+count)),res}}),Object.defineProperty(String.prototype,"splitOrEmpty",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.splitOrEmpty called on null or undefined");return""===String(this)?[]:String.prototype.split.apply(this,arguments)}}),Object.defineProperty(String.prototype,"toLocaleUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toLocaleUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd3=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd3.char,end=_getCodePointStartAnd3.end;return-1===end?"":char.toLocaleUpperCase()+str.slice(end+1)}}),Object.defineProperty(String.prototype,"toUpperFirst",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.toUpperFirst called on null or undefined");var str=String(this),_getCodePointStartAnd4=_getCodePointStartAndEnd(str,0),char=_getCodePointStartAnd4.char,end=_getCodePointStartAnd4.end;return-1===end?"":char.toUpperCase()+str.slice(end+1)}}),Object.defineProperty(Date.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:date)",this.toISOString()]}}),Object.defineProperty(Function.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)","(".concat(this.toString(),")")]}}),Object.defineProperty(Map.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:map)",_toConsumableArray(this)]}}),Object.defineProperty(RegExp.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:eval)",this.toString()]}}),Object.defineProperty(Set.prototype,"toJSON",{configurable:!0,writable:!0,value:function(){return["(revive:set)",_toConsumableArray(this)]}}),Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function(code,data){if("string"!=typeof code)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[code,data]]}}),Object.defineProperty(JSON,"_real_stringify",{value:JSON.stringify}),Object.defineProperty(JSON,"stringify",{configurable:!0,writable:!0,value:function(_value,replacer,space){return JSON._real_stringify(_value,(function(key,val){var value=val;if("function"==typeof replacer)try{value=replacer(key,value)}catch(ex){}return void 0===value&&(value=["(revive:eval)","undefined"]),value}),space)}}),Object.defineProperty(JSON,"_real_parse",{value:JSON.parse}),Object.defineProperty(JSON,"parse",{configurable:!0,writable:!0,value:function value(text,reviver){return JSON._real_parse(text,(function(key,val){var value=val;if(Array.isArray(value)&&2===value.length)switch(value[0]){case"(revive:set)":value=new Set(value[1]);break;case"(revive:map)":value=new Map(value[1]);break;case"(revive:date)":value=new Date(value[1]);break;case"(revive:eval)":try{if(Array.isArray(value[1])){var $ReviveData$=value[1][1];value=eval(value[1][0])}else value=eval(value[1])}catch(ex){}}else if("string"==typeof value&&"@@revive@@"===value.slice(0,10))try{value=eval(value.slice(10))}catch(ex){}if("function"==typeof reviver)try{value=reviver(key,value)}catch(ex){}return value}))}}),Object.defineProperty(Array.prototype,"contains",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.contains called on null or undefined");return Array.prototype.includes.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAll",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAll called on null or undefined");return Array.prototype.includesAll.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"containsAny",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.containsAny called on null or undefined");return Array.prototype.includesAny.apply(this,arguments)}}),Object.defineProperty(Array.prototype,"flatten",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("Array.prototype.flatten called on null or undefined");return Array.prototype.flat.call(this,1/0)}}),Object.defineProperty(String.prototype,"readBracketedList",{configurable:!0,writable:!0,value:function(){if(null==this)throw new TypeError("String.prototype.readBracketedList called on null or undefined");for(var match,re=new RegExp("(?:\\[\\[((?:\\s|\\S)*?)\\]\\])|([^\"'\\s]\\S*)","gm"),names=[];null!==(match=re.exec(this));)match[1]?names.push(match[1]):match[2]&&names.push(match[2]);return names}})}();var Browser=(userAgent=navigator.userAgent.toLowerCase(),winPhone=userAgent.includes("windows phone"),isMobile=Object.freeze({Android:!winPhone&&userAgent.includes("android"),BlackBerry:/blackberry|bb10/.test(userAgent),iOS:!winPhone&&/ip(?:hone|ad|od)/.test(userAgent),Opera:!winPhone&&("object"===_typeof(window.operamini)||userAgent.includes("opera mini")),Windows:winPhone||/iemobile|wpdesktop/.test(userAgent),any:function(){return isMobile.Android||isMobile.BlackBerry||isMobile.iOS||isMobile.Opera||isMobile.Windows}}),isGecko=!isMobile.Windows&&!/khtml|trident|edge/.test(userAgent)&&userAgent.includes("gecko"),isIE=!userAgent.includes("opera")&&/msie|trident/.test(userAgent),ieVersion=isIE?(ver=/(?:msie\s+|rv:)(\d+\.\d)/.exec(userAgent))?Number(ver[1]):0:null,isOpera=userAgent.includes("opera")||userAgent.includes(" opr/"),operaVersion=isOpera?function(){var ver=new RegExp("".concat(/khtml|chrome/.test(userAgent)?"opr":"version","\\/(\\d+\\.\\d+)")).exec(userAgent);return ver?Number(ver[1]):0}():null,isVivaldi=userAgent.includes("vivaldi"),Object.freeze({userAgent:userAgent,isMobile:isMobile,isGecko:isGecko,isIE:isIE,ieVersion:ieVersion,isOpera:isOpera,operaVersion:operaVersion,isVivaldi:isVivaldi})),ver,userAgent,winPhone,isMobile,isGecko,isIE,ieVersion,isOpera,operaVersion,isVivaldi,Has=(hasAudioElement=function(){try{return"function"==typeof document.createElement("audio").canPlayType}catch(ex){}return!1}(),hasFile=function(){try{return"Blob"in window&&"File"in window&&"FileList"in window&&"FileReader"in window&&(!Browser.isOpera||Browser.operaVersion>=15)}catch(ex){}return!1}(),hasGeolocation=function(){try{return"geolocation"in navigator&&"function"==typeof navigator.geolocation.getCurrentPosition&&"function"==typeof navigator.geolocation.watchPosition}catch(ex){}return!1}(),hasMutationObserver=function(){try{return"MutationObserver"in window&&"function"==typeof window.MutationObserver}catch(ex){}return!1}(),hasPerformance=function(){try{return"performance"in window&&"function"==typeof window.performance.now}catch(ex){}return!1}(),hasTouch=function(){try{return"ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch||!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints}catch(ex){}return!1}(),hasTransitionEndEvent=function(){try{for(var teMap=new Map([["transition","transitionend"],["MSTransition","msTransitionEnd"],["WebkitTransition","webkitTransitionEnd"],["MozTransition","transitionend"]]),teKeys=_toConsumableArray(teMap.keys()),el=document.createElement("div"),i=0;i<teKeys.length;++i)if(el.style[teKeys[i]]!==undefined)return teMap.get(teKeys[i])}catch(ex){}return!1}(),Object.freeze({audio:hasAudioElement,fileAPI:hasFile,geolocation:hasGeolocation,mutationObserver:hasMutationObserver,performance:hasPerformance,touch:hasTouch,transitionEndEvent:hasTransitionEndEvent})),hasAudioElement,hasFile,hasGeolocation,hasMutationObserver,hasPerformance,hasTouch,hasTransitionEndEvent,Visibility=(vendor=function(){try{return Object.freeze([{hiddenProperty:"hidden",stateProperty:"visibilityState",changeEvent:"visibilitychange"},{hiddenProperty:"webkitHidden",stateProperty:"webkitVisibilityState",changeEvent:"webkitvisibilitychange"},{hiddenProperty:"mozHidden",stateProperty:"mozVisibilityState",changeEvent:"mozvisibilitychange"},{hiddenProperty:"msHidden",stateProperty:"msVisibilityState",changeEvent:"msvisibilitychange"}].find((function(vnd){return vnd.hiddenProperty in document})))}catch(ex){}return undefined}(),Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},state:{get:function(){return vendor&&document[vendor.stateProperty]||"visible"}},isEnabled:{value:function(){return Boolean(vendor)}},isHidden:{value:function(){return Boolean(vendor&&document[vendor.hiddenProperty])}},hiddenProperty:{value:vendor&&vendor.hiddenProperty},stateProperty:{value:vendor&&vendor.stateProperty},changeEvent:{value:vendor&&vendor.changeEvent}}))),vendor,Fullscreen=function(){var _hasPromise,vendor=function(){try{return Object.freeze([{isEnabled:"fullscreenEnabled",element:"fullscreenElement",requestFn:"requestFullscreen",exitFn:"exitFullscreen",changeEvent:"fullscreenchange",errorEvent:"fullscreenerror"},{isEnabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",requestFn:"webkitRequestFullscreen",exitFn:"webkitExitFullscreen",changeEvent:"webkitfullscreenchange",errorEvent:"webkitfullscreenerror"},{isEnabled:"mozFullScreenEnabled",element:"mozFullScreenElement",requestFn:"mozRequestFullScreen",exitFn:"mozCancelFullScreen",changeEvent:"mozfullscreenchange",errorEvent:"mozfullscreenerror"},{isEnabled:"msFullscreenEnabled",element:"msFullscreenElement",requestFn:"msRequestFullscreen",exitFn:"msExitFullscreen",changeEvent:"MSFullscreenChange",errorEvent:"MSFullscreenError"}].find((function(vnd){return vnd.isEnabled in document})))}catch(ex){}return undefined}(),_returnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,vendor)try{var value=document.exitFullscreen();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise});function _selectElement(requestedEl){var selectedEl=requestedEl||document.documentElement;return selectedEl===document.documentElement&&("msRequestFullscreen"===vendor.requestFn||Browser.isOpera&&Browser.operaVersion<15)&&(selectedEl=document.body),selectedEl}function isFullscreen(){return Boolean(vendor&&document[vendor.element])}function requestFullscreen(options,requestedEl){var _this=this;if(!vendor)return Promise.reject(new Error("fullscreen not supported"));var element=_selectElement(requestedEl);if("function"!=typeof element[vendor.requestFn])return Promise.reject(new Error("fullscreen not supported"));if(isFullscreen())return Promise.resolve();if(_returnsPromise())return element[vendor.requestFn](options);var namespace=".Fullscreen_requestFullscreen";return new Promise((function(resolve,reject){jQuery(element).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen request error")):resolve()})),element[vendor.requestFn](options)}))}function exitFullscreen(){var _this2=this;if(!vendor||"function"!=typeof document[vendor.exitFn])return Promise.reject(new TypeError("fullscreen not supported"));if(!isFullscreen())return Promise.reject(new TypeError("fullscreen mode not active"));if(_returnsPromise())return document[vendor.exitFn]();var namespace=".Fullscreen_exitFullscreen";return new Promise((function(resolve,reject){jQuery(document).off(namespace).one("".concat(vendor.errorEvent).concat(namespace," ").concat(vendor.changeEvent).concat(namespace),(function(ev){jQuery(_this2).off(namespace),ev.type===vendor.errorEvent?reject(new Error("unknown fullscreen exit error")):resolve()})),document[vendor.exitFn]()}))}return Object.freeze(Object.defineProperties({},{vendor:{get:function(){return vendor}},element:{get:function(){return vendor?document[vendor.element]:null}},isEnabled:{value:function(){return Boolean(vendor&&document[vendor.isEnabled])}},isFullscreen:{value:isFullscreen},request:{value:requestFullscreen},exit:{value:exitFullscreen},toggle:{value:function(options,requestedEl){return isFullscreen()?exitFullscreen():requestFullscreen(options,requestedEl)}},onChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.changeEvent,handlerFn)}}},offChange:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.changeEvent,handlerFn):$(element).off(vendor.changeEvent)}}},onError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);$(element).on(vendor.errorEvent,handlerFn)}}},offError:{value:function(handlerFn,requestedEl){if(vendor){var element=_selectElement(requestedEl);handlerFn?$(element).off(vendor.errorEvent,handlerFn):$(element).off(vendor.errorEvent)}}}}))}(),_ref3=Object.freeze(Object.defineProperties({},{clone:{value:function clone(orig){return"object"!==_typeof(orig)||null===orig?orig:orig instanceof String?String(orig):orig instanceof Number?Number(orig):orig instanceof Boolean?Boolean(orig):"function"==typeof orig.clone?orig.clone(!0):orig.nodeType&&"function"==typeof orig.cloneNode?orig.cloneNode(!0):(orig instanceof Array?copy=new Array(orig.length):orig instanceof Date?copy=new Date(orig.getTime()):orig instanceof Map?(copy=new Map,orig.forEach((function(val,key){return copy.set(key,clone(val))}))):orig instanceof RegExp?copy=new RegExp(orig):orig instanceof Set?(copy=new Set,orig.forEach((function(val){return copy.add(clone(val))}))):copy=Object.create(Object.getPrototypeOf(orig)),Object.keys(orig).forEach((function(name){return copy[name]=clone(orig[name])})),copy);var copy}},convertBreaks:{value:function(source){for(var node,output=document.createDocumentFragment(),para=document.createElement("p");null!==(node=source.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":if(null!==node.nextSibling&&node.nextSibling.nodeType===Node.ELEMENT_NODE&&"BR"===node.nextSibling.nodeName.toUpperCase()){source.removeChild(node.nextSibling),source.removeChild(node),output.appendChild(para),para=document.createElement("p");continue}if(!para.hasChildNodes()){source.removeChild(node);continue}break;case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":para.hasChildNodes()&&(output.appendChild(para),para=document.createElement("p")),output.appendChild(node);continue}para.appendChild(node)}para.hasChildNodes()&&output.appendChild(para),source.appendChild(output)}},safeActiveElement:{value:function(){try{return document.activeElement||null}catch(ex){return null}}},setDisplayTitle:{value:function(title){if("string"!=typeof title)throw new TypeError("story display title must be a string (received: ".concat(Util.getType(title),")"));var render=document.createDocumentFragment();new Wikifier(render,title);var text=function(source){for(var node,copy=source.cloneNode(!0),frag=document.createDocumentFragment();null!==(node=copy.firstChild);){if(node.nodeType===Node.ELEMENT_NODE)switch(node.nodeName.toUpperCase()){case"BR":case"DIV":case"P":frag.appendChild(document.createTextNode(" "))}frag.appendChild(node)}return frag.textContent}(render).trim();document.title=Config.passages.displayTitles&&""!==State.passage&&State.passage!==Config.passages.start?"".concat(State.passage," | ").concat(text):text;var storyTitle=document.getElementById("story-title");null!==storyTitle&&jQuery(storyTitle).empty().append(render)}},setPageElement:{value:function(idOrElement,titles,defaultText){var el="object"===_typeof(idOrElement)?idOrElement:document.getElementById(idOrElement);if(null==el)return null;var ids=Array.isArray(titles)?titles:[titles];jQuery(el).empty();for(var i=0,iend=ids.length;i<iend;++i)if(Story.has(ids[i]))return new Wikifier(el,Story.get(ids[i]).processText().trim()),el;if(null!=defaultText){var text=String(defaultText).trim();""!==text&&new Wikifier(el,text)}return el}},throwError:{value:function(place,message,source){var $wrapper=jQuery(document.createElement("div")),$toggle=jQuery(document.createElement("button")),$source=jQuery(document.createElement("pre")),mesg="".concat(L10n.get("errorTitle"),": ").concat(message||"unknown error");return $toggle.addClass("error-toggle").ariaClick({label:L10n.get("errorToggle")},(function(){$toggle.hasClass("enabled")?($toggle.removeClass("enabled"),$source.attr({"aria-hidden":!0,hidden:"hidden"})):($toggle.addClass("enabled"),$source.removeAttr("aria-hidden hidden"))})).appendTo($wrapper),jQuery(document.createElement("span")).addClass("error").text(mesg).appendTo($wrapper),jQuery(document.createElement("code")).text(source).appendTo($source),$source.addClass("error-source").attr({"aria-hidden":!0,hidden:"hidden"}).appendTo($wrapper),$wrapper.addClass("error-view").appendTo(place),console.warn("".concat(mesg,"\n\t").concat(source.replace(/\n/g,"\n\t"))),!1}},stringFrom:{value:function stringFrom(value){switch(_typeof(value)){case"function":return"[function]";case"number":if(Number.isNaN(value))return"[number NaN]";break;case"object":if(null===value)return"[null]";if(value instanceof Array)return value.map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Set)return Array.from(value).map((function(val){return stringFrom(val)})).join(", ");if(value instanceof Map){var result=Array.from(value).map((function(_ref4){var _ref5=_slicedToArray(_ref4,2),key=_ref5[0],val=_ref5[1];return"".concat(stringFrom(key)," → ").concat(stringFrom(val))}));return"{ ".concat(result.join(", ")," }")}if(value instanceof Date)return value.toLocaleString();if(value instanceof Element){if(value===document.documentElement||value===document.head||value===document.body)throw new Error("illegal operation; attempting to convert the <html>, <head>, or <body> tags to string is not allowed");return value.outerHTML}return value instanceof Node?value.textContent:"function"==typeof value.toString?value.toString():Object.prototype.toString.call(value);case"symbol":var desc=void 0!==value.description?' "'.concat(value.description,'"'):"";return"[symbol".concat(desc,"]");case"undefined":return"[undefined]"}return String(value)}}})),clone=_ref3.clone,convertBreaks=_ref3.convertBreaks,safeActiveElement=_ref3.safeActiveElement,setDisplayTitle=_ref3.setDisplayTitle,setPageElement=_ref3.setPageElement,throwError=_ref3.throwError,stringFrom=_ref3.stringFrom;!function(){function onKeypressFn(ev){13!==ev.which&&32!==ev.which||(ev.preventDefault(),jQuery(safeActiveElement()||this).trigger("click"))}function onClickFnWrapper(fn){return function(){var $this=jQuery(this);$this.ariaIsDisabled()||($this.is("[aria-pressed]")&&$this.attr("aria-pressed","true"===$this.attr("aria-pressed")?"false":"true"),fn.apply(this,arguments))}}function oneClickFnWrapper(fn){return onClickFnWrapper((function(){jQuery(this).off(".aria-clickable").removeAttr("role tabindex aria-controls aria-pressed").filter("button").prop("disabled",!0),fn.apply(this,arguments)}))}jQuery.fn.extend({ariaClick:function(options,handler){if(0===this.length||0===arguments.length)return this;var opts=options,fn=handler;return null==fn&&(fn=opts,opts=undefined),"string"!=typeof(opts=jQuery.extend({namespace:undefined,one:!1,selector:undefined,data:undefined,role:undefined,controls:undefined,pressed:undefined,label:undefined},opts)).namespace?opts.namespace="":"."!==opts.namespace[0]&&(opts.namespace=".".concat(opts.namespace)),"boolean"==typeof opts.pressed&&(opts.pressed=opts.pressed?"true":"false"),this.filter("button").prop("type","button"),null!=opts.role?this.attr("role",opts.role):this.not("[role]").filter("a,[data-passage]").attr("role","link").end().not("a").not("[data-passage]").attr("role","button").end().end().end(),this.attr("tabindex",0),null!=opts.controls&&this.attr("aria-controls",opts.controls),null!=opts.pressed&&this.attr("aria-pressed",opts.pressed),null!=opts.label&&this.attr({"aria-label":opts.label,title:opts.label}),this.not("button").on("keypress.aria-clickable".concat(opts.namespace),opts.selector,onKeypressFn),this.on("click.aria-clickable".concat(opts.namespace),opts.selector,opts.data,opts.one?oneClickFnWrapper(fn):onClickFnWrapper(fn)),this},ariaDisabled:function(disable){if(0===this.length||0===arguments.length)return this;var $nonDisableable=this.not("button,fieldset,input,menuitem,optgroup,option,select,textarea"),$disableable=this.filter("button,fieldset,input,menuitem,optgroup,option,select,textarea");return disable?($nonDisableable.each((function(){this.setAttribute("disabled",""),this.setAttribute("aria-disabled","true")})),$disableable.each((function(){this.disabled=!0,this.setAttribute("aria-disabled","true")}))):($nonDisableable.each((function(){this.removeAttribute("disabled"),this.removeAttribute("aria-disabled")})),$disableable.each((function(){this.disabled=!1,this.removeAttribute("aria-disabled")}))),this},ariaIsDisabled:function(){return this.is("[disabled]")}})}(),jQuery.extend({wikiWithOptions:function(options){for(var _len=arguments.length,sources=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)sources[_key-1]=arguments[_key];if(0!==sources.length){var frag=document.createDocumentFragment();sources.forEach((function(content){return new Wikifier(frag,content,options)}));var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "))}},wiki:function(){for(var _len2=arguments.length,sources=new Array(_len2),_key2=0;_key2<_len2;_key2++)sources[_key2]=arguments[_key2];this.wikiWithOptions.apply(this,[undefined].concat(sources))}}),jQuery.fn.extend({wikiWithOptions:function(options){for(var _len3=arguments.length,sources=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)sources[_key3-1]=arguments[_key3];if(0===this.length||0===sources.length)return this;var frag=document.createDocumentFragment();return sources.forEach((function(content){return new Wikifier(frag,content,options)})),this.append(frag),this},wiki:function(){for(var _len4=arguments.length,sources=new Array(_len4),_key4=0;_key4<_len4;_key4++)sources[_key4]=arguments[_key4];return this.wikiWithOptions.apply(this,[undefined].concat(sources))}});var Util=function(){var toString,utilGetType="[object Object]"===(toString=Object.prototype.toString).call(new Map)?function(O){if(null===O)return"null";if(O instanceof Map)return"Map";if(O instanceof Set)return"Set";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType}:function(O){if(null===O)return"null";var baseType=_typeof(O);return"object"===baseType?toString.call(O).slice(8,-1):baseType};function utilToEnum(obj){var pEnum=Object.create(null);if(obj instanceof Array)obj.forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Set)Array.from(obj).forEach((function(val,i){return pEnum[String(val)]=i}));else if(obj instanceof Map)obj.forEach((function(val,key){return pEnum[String(key)]=val}));else{if("object"!==_typeof(obj)||null===obj||Object.getPrototypeOf(obj)!==Object.prototype)throw new TypeError("Util.toEnum obj parameter must be an Array, Map, Set, or generic object");Object.assign(pEnum,obj)}return Object.freeze(pEnum)}function utilToStringTag(obj){return Object.prototype.toString.call(obj).slice(8,-1)}var _illegalSlugCharsRe=/[\x00-\x20!-/:-@[-^`{-\x9f]+/g,_isInvalidSlugRe=/^-*$/;var _illegalFilenameCharsRE=/[\x00-\x1f"#$%&'*+,/:;<=>?\\^`|\x7f-\x9f]+/g;var _markupCharsRe=/[!"#$&'*\-/<=>?@[\\\]^_`{|}~]/g,_hasMarkupCharsRe=new RegExp(_markupCharsRe.source),_markupCharsMap=utilToEnum({"!":"&#33;",'"':"&quot;","#":"&#35;",$:"&#36;","&":"&amp;","'":"&#39;","*":"&#42;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","?":"&#63;","@":"&#64;","[":"&#91;","\\":"&#92;","]":"&#93;","^":"&#94;",_:"&#95;","`":"&#96;","{":"&#123;","|":"&#124;","}":"&#125;","~":"&#126;"});var _htmlCharsRe=/[&<>"'`]/g,_hasHtmlCharsRe=new RegExp(_htmlCharsRe.source),_htmlCharsMap=utilToEnum({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"});function utilEscape(str){if(null==str)return"";var val=String(str);return val&&_hasHtmlCharsRe.test(val)?val.replace(_htmlCharsRe,(function(ch){return _htmlCharsMap[ch]})):val}var _escapedHtmlRe=/&(?:amp|#38|#x26|lt|#60|#x3c|gt|#62|#x3e|quot|#34|#x22|apos|#39|#x27|#96|#x60);/gi,_hasEscapedHtmlRe=new RegExp(_escapedHtmlRe.source,"i"),_escapedHtmlMap=utilToEnum({"&amp;":"&","&#38;":"&","&#x26;":"&","&lt;":"<","&#60;":"<","&#x3c;":"<","&gt;":">","&#62;":">","&#x3e;":">","&quot;":'"',"&#34;":'"',"&#x22;":'"',"&apos;":"'","&#39;":"'","&#x27;":"'","&#96;":"`","&#x60;":"`"});function utilUnescape(str){if(null==str)return"";var val=String(str);return val&&_hasEscapedHtmlRe.test(val)?val.replace(_escapedHtmlRe,(function(entity){return _escapedHtmlMap[entity.toLowerCase()]})):val}var _nowSource=Has.performance?performance:Date;var _cssTimeRe=/^([+-]?(?:\d*\.)?\d+)([Mm]?[Ss])$/;var utilScrubEventKey=function(){var separatorKey,decimalKey;if("undefined"!=typeof Intl&&"function"==typeof Intl.NumberFormat){var match=(new Intl.NumberFormat).format(111111.5).match(/(\D*)\d+(\D*)/);match&&(separatorKey=match[1],decimalKey=match[2])}return separatorKey||decimalKey||(separatorKey=",",decimalKey="."),function(key){switch(key){case"Scroll":return"ScrollLock";case"Spacebar":return" ";case"Left":return"ArrowLeft";case"Right":return"ArrowRight";case"Up":return"ArrowUp";case"Down":return"ArrowDown";case"Del":return"Delete";case"Crsel":return"CrSel";case"Exsel":return"ExSel";case"Esc":return"Escape";case"Apps":return"ContextMenu";case"Nonconvert":return"NonConvert";case"MediaNextTrack":return"MediaTrackNext";case"MediaPreviousTrack":return"MediaTrackPrevious";case"VolumeUp":return"AudioVolumeUp";case"VolumeDown":return"AudioVolumeDown";case"VolumeMute":return"AudioVolumeMute";case"Zoom":return"ZoomToggle";case"SelectMedia":case"MediaSelect":return"LaunchMediaPlayer";case"Add":return"+";case"Divide":return"/";case"Multiply":return"*";case"Subtract":return"-";case"Decimal":return decimalKey;case"Separator":return separatorKey}return key}}(),utilHasMediaQuery="function"!=typeof window.matchMedia?function(){return!1}:function(mediaQuery){return window.matchMedia(mediaQuery).matches};return Object.freeze(Object.defineProperties({},{getType:{value:utilGetType},isBoolean:{value:function(obj){return"boolean"==typeof obj||"string"==typeof obj&&("true"===obj||"false"===obj)}},isIterable:{value:function(obj){return null!=obj&&"function"==typeof obj[Symbol.iterator]}},isNumeric:{value:function(obj){var num;switch(_typeof(obj)){case"number":num=obj;break;case"string":num=Number(obj);break;default:return!1}return!Number.isNaN(num)&&Number.isFinite(num)}},sameValueZero:{value:function(a,b){return a===b||a!=a&&b!=b}},toEnum:{value:utilToEnum},toStringTag:{value:utilToStringTag},slugify:{value:function(str){var base=String(str).trim(),_legacy=base.replace(/[^\w\s\u2013\u2014-]+/g,"").replace(/[_\s\u2013\u2014-]+/g,"-").toLocaleLowerCase();return _isInvalidSlugRe.test(_legacy)?base.replace(_illegalSlugCharsRe,"").replace(/[_\s\u2013\u2014-]+/g,"-"):_legacy}},sanitizeFilename:{value:function(str){return String(str).trim().replace(_illegalFilenameCharsRE,"")}},escapeMarkup:{value:function(str){if(null==str)return"";var val=String(str);return val&&_hasMarkupCharsRe.test(val)?val.replace(_markupCharsRe,(function(ch){return _markupCharsMap[ch]})):val}},escape:{value:utilEscape},unescape:{value:utilUnescape},charAndPosAt:{value:function(text,position){var str=String(text),pos=Math.trunc(position),code=str.charCodeAt(pos);if(Number.isNaN(code))return{char:"",start:-1,end:-1};var retval={char:str.charAt(pos),start:pos,end:pos};if(code<55296||code>57343)return retval;if(code>=55296&&code<=56319){var nextPos=pos+1;if(nextPos>=str.length)return retval;var nextCode=str.charCodeAt(nextPos);return nextCode<56320||nextCode>57343||(retval.char=retval.char+str.charAt(nextPos),retval.end=nextPos),retval}if(0===pos)return retval;var prevPos=pos-1,prevCode=str.charCodeAt(prevPos);return prevCode<55296||prevCode>56319||(retval.char=str.charAt(prevPos)+retval.char,retval.start=prevPos),retval}},now:{value:function(){return _nowSource.now()}},fromCssTime:{value:function(cssTime){var match=_cssTimeRe.exec(String(cssTime));if(null===match)throw new SyntaxError('invalid time value syntax: "'.concat(cssTime,'"'));var msec=Number(match[1]);if(1===match[2].length&&(msec*=1e3),Number.isNaN(msec)||!Number.isFinite(msec))throw new RangeError('invalid time value: "'.concat(cssTime,'"'));return msec}},toCssTime:{value:function(msec){if("number"!=typeof msec||Number.isNaN(msec)||!Number.isFinite(msec)){var what;switch(_typeof(msec)){case"string":what='"'.concat(msec,'"');break;case"number":what=String(msec);break;default:what=utilToStringTag(msec)}throw new Error("invalid milliseconds: ".concat(what))}return"".concat(msec,"ms")}},fromCssProperty:{value:function(cssName){if(!cssName.includes("-"))switch(cssName){case"bgcolor":return"backgroundColor";case"float":return"cssFloat";default:return cssName}return("-ms-"===cssName.slice(0,4)?cssName.slice(1):cssName).split("-").map((function(part,i){return 0===i?part:part.toUpperFirst()})).join("")}},parseUrl:{value:function(url){var el=document.createElement("a"),queryObj=Object.create(null);el.href=url,el.search&&el.search.replace(/^\?/,"").splitOrEmpty(/(?:&(?:amp;)?|;)/).forEach((function(query){var _query$split2=_slicedToArray(query.split("="),2),key=_query$split2[0],value=_query$split2[1];queryObj[key]=value}));var pathname=el.host&&"/"!==el.pathname[0]?"/".concat(el.pathname):el.pathname;return{href:el.href,protocol:el.protocol,host:el.host,hostname:el.hostname,port:el.port,path:"".concat(pathname).concat(el.search),pathname:pathname,query:el.search,search:el.search,queries:queryObj,searches:queryObj,hash:el.hash}}},newExceptionFrom:{value:function(original,exceptionType,override){if("object"!==_typeof(original)||null===original)throw new Error("Util.newExceptionFrom original parameter must be an object");if("function"!=typeof exceptionType)throw new Error("Util.newExceptionFrom exceptionType parameter must be an error type constructor");var ex=new exceptionType(original.message);void 0!==original.name&&(ex.name=original.name),void 0!==original.code&&(ex.code=original.code),void 0!==original.columnNumber&&(ex.columnNumber=original.columnNumber),void 0!==original.description&&(ex.description=original.description),void 0!==original.fileName&&(ex.fileName=original.fileName),void 0!==original.lineNumber&&(ex.lineNumber=original.lineNumber),void 0!==original.number&&(ex.number=original.number),void 0!==original.stack&&(ex.stack=original.stack);var overrideType=_typeof(override);if("undefined"!==overrideType)if("object"===overrideType&&null!==override)Object.assign(ex,override);else{if("string"!==overrideType)throw new Error("Util.newExceptionFrom override parameter must be an object or string");ex.message=override}return ex}},scrubEventKey:{value:utilScrubEventKey},hasMediaQuery:{value:utilHasMediaQuery},random:{value:Math.random},entityEncode:{value:utilEscape},entityDecode:{value:utilUnescape},evalExpression:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),SimpleStore=(_adapters=[],_initialized=null,Object.freeze(Object.defineProperties({},{adapters:{value:_adapters},create:{value:function(storageId,persistent){if(_initialized)return _initialized.create(storageId,persistent);for(var i=0;i<_adapters.length;++i)if(_adapters[i].init(storageId,persistent))return(_initialized=_adapters[i]).create(storageId,persistent);throw new Error("no valid storage adapters found")}}}))),_adapters,_initialized,_ok,_WebStorageAdapter;SimpleStore.adapters.push((_ok=!1,_WebStorageAdapter=function(){function _WebStorageAdapter(storageId,persistent){_classCallCheck(this,_WebStorageAdapter);var prefix="".concat(storageId,"."),engine=null,name=null;persistent?(engine=window.localStorage,name="localStorage"):(engine=window.sessionStorage,name="sessionStorage"),Object.defineProperties(this,{_engine:{value:engine},_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:name},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_WebStorageAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){for(var keys=[],i=0;i<this._engine.length;++i){var key=this._engine.key(i);this._prefixRe.test(key)&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&this._engine.hasOwnProperty(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=this._engine.getItem(this._prefix+key);return null==value?null:_WebStorageAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{this._engine.setItem(this._prefix+key,_WebStorageAdapter._serialize(value))}catch(ex){if(/quota.?(?:exceeded|reached)/i.test(ex.name+ex.message))throw Util.newExceptionFrom(ex,Error,"".concat(this.name," quota exceeded"));throw ex}return!0}},{key:"delete",value:function(key){return!("string"!=typeof key||!key||(this._engine.removeItem(this._prefix+key),0))}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_serialize",value:function(obj){return LZString.compressToUTF16(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromUTF16(str))}}]),_WebStorageAdapter}(),Object.freeze(Object.defineProperties({},{init:{value:function(){function hasWebStorage(storeId){try{var store=window[storeId],tid="_sc_".concat(String(Date.now()));store.setItem(tid,tid);var result=store.getItem(tid)===tid;return store.removeItem(tid),result}catch(ex){}return!1}return _ok=hasWebStorage("localStorage")&&hasWebStorage("sessionStorage")}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _WebStorageAdapter(storageId,persistent)}}})))),SimpleStore.adapters.push(function(){var _MAX_EXPIRY="Tue, 19 Jan 2038 03:14:07 GMT",_MIN_EXPIRY="Thu, 01 Jan 1970 00:00:00 GMT",_ok=!1,_CookieAdapter=function(){function _CookieAdapter(storageId,persistent){_classCallCheck(this,_CookieAdapter);var prefix="".concat(storageId).concat(persistent?"!":"*",".");Object.defineProperties(this,{_prefix:{value:prefix},_prefixRe:{value:new RegExp("^".concat(RegExp.escape(prefix)))},name:{value:"cookie"},id:{value:storageId},persistent:{value:!!persistent}})}return _createClass(_CookieAdapter,[{key:"length",get:function(){return this.keys().length}},{key:"size",value:function(){return this.keys().length}},{key:"keys",value:function(){if(""===document.cookie)return[];for(var cookies=document.cookie.split(/;\s*/),keys=[],i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(this._prefixRe.test(key))""!==decodeURIComponent(kvPair[1])&&keys.push(key.replace(this._prefixRe,""))}return keys}},{key:"has",value:function(key){return!("string"!=typeof key||!key)&&null!==_CookieAdapter._getCookie(this._prefix+key)}},{key:"get",value:function(key){if("string"!=typeof key||!key)return null;var value=_CookieAdapter._getCookie(this._prefix+key);return null===value?null:_CookieAdapter._deserialize(value)}},{key:"set",value:function(key,value){if("string"!=typeof key||!key)return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,_CookieAdapter._serialize(value),this.persistent?"Tue, 19 Jan 2038 03:14:07 GMT":undefined),!this.has(key))throw new Error("unknown validation error during set")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"delete",value:function(key){if("string"!=typeof key||!key||!this.has(key))return!1;try{if(_CookieAdapter._setCookie(this._prefix+key,undefined,_MIN_EXPIRY),this.has(key))throw new Error("unknown validation error during delete")}catch(ex){throw Util.newExceptionFrom(ex,Error,"cookie error: ".concat(ex.message))}return!0}},{key:"clear",value:function(){for(var keys=this.keys(),i=0,iend=keys.length;i<iend;++i)this.delete(keys[i]);return!0}}],[{key:"_getCookie",value:function(prefixedKey){if(!prefixedKey||""===document.cookie)return null;for(var cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("=");if(prefixedKey===decodeURIComponent(kvPair[0]))return decodeURIComponent(kvPair[1])||null}return null}},{key:"_setCookie",value:function(prefixedKey,value,expiry){if(prefixedKey){var payload="".concat(encodeURIComponent(prefixedKey),"=");null!=value&&(payload+=encodeURIComponent(value)),null!=expiry&&(payload+="; expires=".concat(expiry)),payload+="; path=/",document.cookie=payload}}},{key:"_serialize",value:function(obj){return LZString.compressToBase64(JSON.stringify(obj))}},{key:"_deserialize",value:function(str){return JSON.parse(LZString.decompressFromBase64(str))}}]),_CookieAdapter}();return Object.freeze(Object.defineProperties({},{init:{value:function(storageId){try{var tid="_sc_".concat(String(Date.now()));_CookieAdapter._setCookie(tid,_CookieAdapter._serialize(tid),undefined),_ok=_CookieAdapter._deserialize(_CookieAdapter._getCookie(tid))===tid,_CookieAdapter._setCookie(tid,undefined,_MIN_EXPIRY)}catch(ex){_ok=!1}return _ok&&function(storageId){if(""===document.cookie)return;for(var oldPrefix="".concat(storageId,"."),oldPrefixRe=new RegExp("^".concat(RegExp.escape(oldPrefix))),persistPrefix="".concat(storageId,"!."),sessionPrefix="".concat(storageId,"*."),sessionTestRe=/\.(?:state|rcWarn)$/,cookies=document.cookie.split(/;\s*/),i=0;i<cookies.length;++i){var kvPair=cookies[i].split("="),key=decodeURIComponent(kvPair[0]);if(oldPrefixRe.test(key)){var value=decodeURIComponent(kvPair[1]);""!==value&&function(){var persist=!sessionTestRe.test(key);_CookieAdapter._setCookie(key,undefined,_MIN_EXPIRY),_CookieAdapter._setCookie(key.replace(oldPrefixRe,(function(){return persist?persistPrefix:sessionPrefix})),value,persist?_MAX_EXPIRY:undefined)}()}}}(storageId),_ok}},create:{value:function(storageId,persistent){if(!_ok)throw new Error("adapter not initialized");return new _CookieAdapter(storageId,persistent)}}}))}());var DebugView=function(){function DebugView(parent,type,name,title){_classCallCheck(this,DebugView),Object.defineProperties(this,{parent:{value:parent},view:{value:document.createElement("span")},break:{value:document.createElement("wbr")}}),jQuery(this.view).attr({title:title,"aria-label":title,"data-type":null!=type?type:"","data-name":null!=name?name:""}).addClass("debug"),jQuery(this.break).addClass("debug hidden"),this.parent.appendChild(this.view),this.parent.appendChild(this.break)}return _createClass(DebugView,[{key:"output",get:function(){return this.view}},{key:"type",get:function(){return this.view.getAttribute("data-type")},set:function(type){this.view.setAttribute("data-type",null!=type?type:"")}},{key:"name",get:function(){return this.view.getAttribute("data-name")},set:function(name){this.view.setAttribute("data-name",null!=name?name:"")}},{key:"title",get:function(){return this.view.title},set:function(title){this.view.title=title}},{key:"append",value:function(el){return jQuery(this.view).append(el),this}},{key:"modes",value:function(options){if(null==options){var current={};return this.view.className.splitOrEmpty(/\s+/).forEach((function(name){"debug"!==name&&(current[name]=!0)})),current}if("object"===_typeof(options))return Object.keys(options).forEach((function(name){this[options[name]?"addClass":"removeClass"](name)}),jQuery(this.view)),this;throw new Error("DebugView.prototype.modes options parameter must be an object or null/undefined")}},{key:"remove",value:function(){var $view=jQuery(this.view);this.view.hasChildNodes()&&$view.contents().appendTo(this.parent),$view.remove(),jQuery(this.break).remove()}}],[{key:"isEnabled",value:function(){return"enabled"===jQuery(document.documentElement).attr("data-debug-view")}},{key:"enable",value:function(){jQuery(document.documentElement).attr("data-debug-view","enabled"),jQuery.event.trigger(":debugviewupdate")}},{key:"disable",value:function(){jQuery(document.documentElement).removeAttr("data-debug-view"),jQuery.event.trigger(":debugviewupdate")}},{key:"toggle",value:function(){"enabled"===jQuery(document.documentElement).attr("data-debug-view")?DebugView.disable():DebugView.enable()}}]),DebugView}(),NodeTyper=function(){var NodeTyper=function(){function NodeTyper(config){if(_classCallCheck(this,NodeTyper),"object"!==_typeof(config)||null===config)throw new Error("config parameter must be an object (received: ".concat(Util.getType(config),")"));if(!(config.hasOwnProperty("targetNode")&&config.targetNode instanceof Node))throw new Error('config parameter object "targetNode" property must be a node');Object.defineProperties(this,{node:{value:config.targetNode},childNodes:{value:[]},nodeValue:{writable:!0,value:""},appendTo:{writable:!0,value:config.parentNode||null},classNames:{writable:!0,value:config.classNames||null},finished:{writable:!0,value:!1}});var childNode,node=this.node;for(node.nodeValue&&(this.nodeValue=node.nodeValue,node.nodeValue="");null!==(childNode=node.firstChild);)this.childNodes.push(new NodeTyper({targetNode:childNode,parentNode:node,classNames:this.classNames})),node.removeChild(childNode)}return _createClass(NodeTyper,[{key:"finish",value:function(){for(;this.type(!0););return!1}},{key:"type",value:function(flush){if(this.finished)return!1;if(this.appendTo){if(this.appendTo.appendChild(this.node),this.appendTo=null,this.node.nodeType!==Node.ELEMENT_NODE&&this.node.nodeType!==Node.TEXT_NODE||"none"===jQuery(this.node.parentNode).css("display"))return this.finish();this.node.parentNode&&this.classNames&&jQuery(this.node.parentNode).addClass(this.classNames)}if(this.nodeValue){if(flush)this.node.nodeValue+=this.nodeValue,this.nodeValue="";else{var _Util$charAndPosAt=Util.charAndPosAt(this.nodeValue,0),char=_Util$charAndPosAt.char,start=_Util$charAndPosAt.start,end=_Util$charAndPosAt.end;this.node.nodeValue+=char,this.nodeValue=this.nodeValue.slice(1+end-start)}return!0}this.classNames&&(jQuery(this.node.parentNode).removeClass(this.classNames),this.classNames=null);for(var childNodes=this.childNodes;childNodes.length>0;){if(childNodes[0].type())return!0;childNodes.shift()}return this.finished=!0,!1}}]),NodeTyper}();return NodeTyper}(),PRNGWrapper=function(){function PRNGWrapper(seed,useEntropy){_classCallCheck(this,PRNGWrapper),Object.defineProperties(this,new Math.seedrandom(seed,useEntropy,(function(prng,seed){return{_prng:{value:prng},seed:{writable:!0,value:seed},pull:{writable:!0,value:0},random:{value:function(){return++this.pull,this._prng()}}}})))}return _createClass(PRNGWrapper,null,[{key:"marshal",value:function(prng){if(!prng||!prng.hasOwnProperty("seed")||!prng.hasOwnProperty("pull"))throw new Error("PRNG is missing required data");return{seed:prng.seed,pull:prng.pull}}},{key:"unmarshal",value:function(prngObj){if(!prngObj||!prngObj.hasOwnProperty("seed")||!prngObj.hasOwnProperty("pull"))throw new Error("PRNG object is missing required data");for(var prng=new PRNGWrapper(prngObj.seed,!1),i=prngObj.pull;i>0;--i)prng.random();return prng}}]),PRNGWrapper}(),StyleWrapper=(_imageMarkupRe=new RegExp(Patterns.cssImage,"g"),_hasImageMarkupRe=new RegExp(Patterns.cssImage),function(){function StyleWrapper(style){if(_classCallCheck(this,StyleWrapper),null==style)throw new TypeError("StyleWrapper style parameter must be an HTMLStyleElement object");Object.defineProperties(this,{style:{value:style}})}return _createClass(StyleWrapper,[{key:"isEmpty",value:function(){return 0===this.style.cssRules.length}},{key:"set",value:function(rawCss){this.clear(),this.add(rawCss)}},{key:"add",value:function(rawCss){var css=rawCss;_hasImageMarkupRe.test(css)&&(_imageMarkupRe.lastIndex=0,css=css.replace(_imageMarkupRe,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text.trim())}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),this.style.styleSheet?this.style.styleSheet.cssText+=css:this.style.appendChild(document.createTextNode(css))}},{key:"clear",value:function(){this.style.styleSheet?this.style.styleSheet.cssText="":jQuery(this.style).empty()}}]),StyleWrapper}()),_imageMarkupRe,_hasImageMarkupRe,Diff=(Op=Util.toEnum({Delete:0,SpliceArray:1,Copy:2,CopyDate:3}),Object.freeze(Object.defineProperties({},{Op:{value:Op},diff:{value:function diff(orig,dest){for(var aOpRef,objToString=Object.prototype.toString,origIsArray=orig instanceof Array,keys=[].concat(Object.keys(orig),Object.keys(dest)).sort().filter((function(val,i,arr){return 0===i||arr[i-1]!==val})),diffed={},keyIsAOpRef=function(key){return key===aOpRef},i=0,klen=keys.length;i<klen;++i){var key=keys[i],origP=orig[key],destP=dest[key];if(orig.hasOwnProperty(key))if(dest.hasOwnProperty(key)){if(origP===destP)continue;if(_typeof(origP)===_typeof(destP))if("function"==typeof origP)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,destP]);else if("object"!==_typeof(origP)||null===origP)diffed[key]=[Op.Copy,destP];else{var origPType=objToString.call(origP);if(origPType===objToString.call(destP))if(origP instanceof Date)Number(origP)!==Number(destP)&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Map)diffed[key]=[Op.Copy,clone(destP)];else if(origP instanceof RegExp)origP.toString()!==destP.toString()&&(diffed[key]=[Op.Copy,clone(destP)]);else if(origP instanceof Set)diffed[key]=[Op.Copy,clone(destP)];else if("[object Object]"!==origPType)diffed[key]=[Op.Copy,clone(destP)];else{var recurse=diff(origP,destP);null!==recurse&&(diffed[key]=recurse)}else diffed[key]=[Op.Copy,clone(destP)]}else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}else if(origIsArray&&Util.isNumeric(key)){var nKey=Number(key);if(!aOpRef){aOpRef="";do{aOpRef+="~"}while(keys.some(keyIsAOpRef));diffed[aOpRef]=[Op.SpliceArray,nKey,nKey]}nKey<diffed[aOpRef][1]&&(diffed[aOpRef][1]=nKey),nKey>diffed[aOpRef][2]&&(diffed[aOpRef][2]=nKey)}else diffed[key]=Op.Delete;else diffed[key]=[Op.Copy,"object"!==_typeof(destP)||null===destP?destP:clone(destP)]}return Object.keys(diffed).length>0?diffed:null}},patch:{value:function patch(orig,diffed){for(var keys=Object.keys(diffed||{}),patched=clone(orig),i=0,klen=keys.length;i<klen;++i){var key=keys[i],diffedP=diffed[key];if(diffedP===Op.Delete)delete patched[key];else if(diffedP instanceof Array)switch(diffedP[0]){case Op.SpliceArray:patched.splice(diffedP[1],diffedP[2]-diffedP[1]+1);break;case Op.Copy:patched[key]=clone(diffedP[1]);break;case Op.CopyDate:patched[key]=new Date(diffedP[1])}else patched[key]=patch(patched[key],diffedP)}return patched}}}))),Op,L10n=(_patternRe=/\{\w+\}/g,_hasPatternRe=new RegExp(_patternRe.source),Object.freeze(Object.defineProperties({},{init:{value:function(){strings&&Object.keys(strings).length>0&&Object.keys(l10nStrings).forEach((function(id){try{var value;switch(id){case"identity":value=strings.identity;break;case"aborting":value=strings.aborting;break;case"cancel":value=strings.cancel;break;case"close":value=strings.close;break;case"ok":value=strings.ok;break;case"errorTitle":value=strings.errors.title;break;case"errorNonexistentPassage":value=strings.errors.nonexistentPassage;break;case"errorSaveMissingData":value=strings.errors.saveMissingData;break;case"errorSaveIdMismatch":value=strings.errors.saveIdMismatch;break;case"warningDegraded":value=strings.warnings.degraded;break;case"debugViewTitle":value=strings.debugView.title;break;case"debugViewToggle":value=strings.debugView.toggle;break;case"uiBarToggle":value=strings.uiBar.toggle;break;case"uiBarBackward":value=strings.uiBar.backward;break;case"uiBarForward":value=strings.uiBar.forward;break;case"uiBarJumpto":value=strings.uiBar.jumpto;break;case"jumptoTitle":value=strings.jumpto.title;break;case"jumptoTurn":value=strings.jumpto.turn;break;case"jumptoUnavailable":value=strings.jumpto.unavailable;break;case"savesTitle":value=strings.saves.title;break;case"savesDisallowed":value=strings.saves.disallowed;break;case"savesIncapable":value=strings.saves.incapable;break;case"savesLabelAuto":value=strings.saves.labelAuto;break;case"savesLabelDelete":value=strings.saves.labelDelete;break;case"savesLabelExport":value=strings.saves.labelExport;break;case"savesLabelImport":value=strings.saves.labelImport;break;case"savesLabelLoad":value=strings.saves.labelLoad;break;case"savesLabelClear":value=strings.saves.labelClear;break;case"savesLabelSave":value=strings.saves.labelSave;break;case"savesLabelSlot":value=strings.saves.labelSlot;break;case"savesUnavailable":value=strings.saves.unavailable;break;case"savesUnknownDate":value=strings.saves.unknownDate;break;case"settingsTitle":value=strings.settings.title;break;case"settingsOff":value=strings.settings.off;break;case"settingsOn":value=strings.settings.on;break;case"settingsReset":value=strings.settings.reset;break;case"restartTitle":value=strings.restart.title;break;case"restartPrompt":value=strings.restart.prompt;break;case"shareTitle":value=strings.share.title;break;case"alertTitle":break;case"autoloadTitle":value=strings.autoload.title;break;case"autoloadCancel":value=strings.autoload.cancel;break;case"autoloadOk":value=strings.autoload.ok;break;case"autoloadPrompt":value=strings.autoload.prompt;break;case"macroBackText":value=strings.macros.back.text;break;case"macroReturnText":value=strings.macros.return.text}value&&(l10nStrings[id]=value.replace(/%\w+%/g,(function(pat){return"{".concat(pat.slice(1,-1),"}")})))}catch(ex){}}))}},get:{value:function(ids,overrides){if(!ids)return"";var selectedId,id=((Array.isArray(ids)?ids:[ids]).some((function(id){return!!l10nStrings.hasOwnProperty(id)&&(selectedId=id,!0)})),selectedId);if(!id)return"";for(var processed=l10nStrings[id],iteration=0;_hasPatternRe.test(processed);){if(++iteration>50)throw new Error("L10n.get exceeded maximum replacement iterations, probable infinite loop");_patternRe.lastIndex=0,processed=processed.replace(_patternRe,(function(pat){var subId=pat.slice(1,-1);return overrides&&overrides.hasOwnProperty(subId)?overrides[subId]:l10nStrings.hasOwnProperty(subId)?l10nStrings[subId]:void 0}))}return processed}}}))),_patternRe,_hasPatternRe,strings={errors:{},warnings:{},debugView:{},uiBar:{},jumpto:{},saves:{},settings:{},restart:{},share:{},autoload:{},macros:{back:{},return:{}}},l10nStrings={identity:"game",aborting:"Aborting",cancel:"Cancel",close:"Close",ok:"OK",errorTitle:"Error",errorToggle:"Toggle the error view",errorNonexistentPassage:'the passage "{passage}" does not exist',errorSaveDiskLoadFailed:"failed to load save file from disk",errorSaveMissingData:"save is missing required data. Either the loaded file is not a save or the save has become corrupted",errorSaveIdMismatch:"save is from the wrong {identity}",_warningIntroLacking:"Your browser either lacks or has disabled",_warningOutroDegraded:", so this {identity} is running in a degraded mode. You may be able to continue, however, some parts may not work properly.",warningNoWebStorage:"{_warningIntroLacking} the Web Storage API{_warningOutroDegraded}",warningDegraded:"{_warningIntroLacking} some of the capabilities required by this {identity}{_warningOutroDegraded}",debugBarToggle:"Toggle the debug bar",debugBarNoWatches:"— no watches set —",debugBarAddWatch:"Add watch",debugBarDeleteWatch:"Delete watch",debugBarWatchAll:"Watch all",debugBarWatchNone:"Delete all",debugBarLabelAdd:"Add",debugBarLabelWatch:"Watch",debugBarLabelTurn:"Turn",debugBarLabelViews:"Views",debugBarViewsToggle:"Toggle the debug views",debugBarWatchToggle:"Toggle the watch panel",uiBarToggle:"Toggle the UI bar",uiBarBackward:"Go backward within the {identity} history",uiBarForward:"Go forward within the {identity} history",uiBarJumpto:"Jump to a specific point within the {identity} history",jumptoTitle:"Jump To",jumptoTurn:"Turn",jumptoUnavailable:"No jump points currently available…",savesTitle:"Saves",savesDisallowed:"Saving has been disallowed on this passage.",savesIncapable:"{_warningIntroLacking} the capabilities required to support saves, so saves have been disabled for this session.",savesLabelAuto:"Autosave",savesLabelDelete:"Delete",savesLabelExport:"Save to Disk…",savesLabelImport:"Load from Disk…",savesLabelLoad:"Load",savesLabelClear:"Delete All",savesLabelSave:"Save",savesLabelSlot:"Slot",savesUnavailable:"No save slots found…",savesUnknownDate:"unknown",settingsTitle:"Settings",settingsOff:"Off",settingsOn:"On",settingsReset:"Reset to Defaults",restartTitle:"Restart",restartPrompt:"Are you sure that you want to restart? Unsaved progress will be lost.",shareTitle:"Share",alertTitle:"Alert",autoloadTitle:"Autoload",autoloadCancel:"Go to start",autoloadOk:"Load autosave",autoloadPrompt:"An autosave exists. Load it now or go to the start?",macroBackText:"Back",macroReturnText:"Return"},Config=(_debug=!1,_addVisitedLinkClass=!1,_cleanupWikifierOutput=!1,_loadDelay=0,_audioPauseOnFadeToZero=!0,_audioPreloadMetadata=!0,_historyControls=!0,_historyMaxStates=40,_macrosIfAssignmentError=!0,_macrosMaxLoopIterations=1e3,_macrosTypeSkipKey=" ",_macrosTypeVisitedPassages=!0,_passagesDisplayTitles=!1,_passagesNobr=!1,_savesId="untitled-story",_savesSlots=8,_savesTryDiskOnMobile=!0,_uiStowBarInitially=800,_uiUpdateStoryElements=!0,_errHistoryModeDeprecated="Config.history.mode has been deprecated and is no longer used by SugarCube, please remove it from your code",Object.freeze({get debug(){return _debug},set debug(value){_debug=Boolean(value)},get addVisitedLinkClass(){return _addVisitedLinkClass},set addVisitedLinkClass(value){_addVisitedLinkClass=Boolean(value)},get cleanupWikifierOutput(){return _cleanupWikifierOutput},set cleanupWikifierOutput(value){_cleanupWikifierOutput=Boolean(value)},get loadDelay(){return _loadDelay},set loadDelay(value){if(!Number.isSafeInteger(value)||value<0)throw new RangeError("Config.loadDelay must be a non-negative integer");_loadDelay=value},audio:Object.freeze({get pauseOnFadeToZero(){return _audioPauseOnFadeToZero},set pauseOnFadeToZero(value){_audioPauseOnFadeToZero=Boolean(value)},get preloadMetadata(){return _audioPreloadMetadata},set preloadMetadata(value){_audioPreloadMetadata=Boolean(value)}}),history:Object.freeze({get controls(){return _historyControls},set controls(value){var controls=Boolean(value);if(1===_historyMaxStates&&controls)throw new Error("Config.history.controls must be false when Config.history.maxStates is 1");_historyControls=controls},get maxStates(){return _historyMaxStates},set maxStates(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.history.maxStates must be a positive integer");_historyMaxStates=value,_historyControls&&1===value&&(_historyControls=!1)},get mode(){throw new Error(_errHistoryModeDeprecated)},set mode(_){throw new Error(_errHistoryModeDeprecated)},get tracking(){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")},set tracking(_){throw new Error("Config.history.tracking has been deprecated, use Config.history.maxStates instead")}}),macros:Object.freeze({get ifAssignmentError(){return _macrosIfAssignmentError},set ifAssignmentError(value){_macrosIfAssignmentError=Boolean(value)},get maxLoopIterations(){return _macrosMaxLoopIterations},set maxLoopIterations(value){if(!Number.isSafeInteger(value)||value<1)throw new RangeError("Config.macros.maxLoopIterations must be a positive integer");_macrosMaxLoopIterations=value},get typeSkipKey(){return _macrosTypeSkipKey},set typeSkipKey(value){_macrosTypeSkipKey=String(value)},get typeVisitedPassages(){return _macrosTypeVisitedPassages},set typeVisitedPassages(value){_macrosTypeVisitedPassages=Boolean(value)}}),navigation:Object.freeze({get override(){return _navigationOverride},set override(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.navigation.override must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_navigationOverride=value}}),passages:Object.freeze({get descriptions(){return _passagesDescriptions},set descriptions(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"Object"!==valueType&&"function"!==valueType)throw new TypeError("Config.passages.descriptions must be a boolean, object, function, or null/undefined (received: ".concat(valueType,")"))}_passagesDescriptions=value},get displayTitles(){return _passagesDisplayTitles},set displayTitles(value){_passagesDisplayTitles=Boolean(value)},get nobr(){return _passagesNobr},set nobr(value){_passagesNobr=Boolean(value)},get onProcess(){return _passagesOnProcess},set onProcess(value){if(null!=value){var valueType=Util.getType(value);if("function"!==valueType)throw new TypeError("Config.passages.onProcess must be a function or null/undefined (received: ".concat(valueType,")"))}_passagesOnProcess=value},get start(){return _passagesStart},set start(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType)throw new TypeError("Config.passages.start must be a string or null/undefined (received: ".concat(valueType,")"))}_passagesStart=value},get transitionOut(){return _passagesTransitionOut},set transitionOut(value){if(null!=value){var valueType=Util.getType(value);if("string"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.passages.transitionOut must be a string, non-negative integer, or null/undefined (received: ".concat(valueType,")"))}_passagesTransitionOut=value}}),saves:Object.freeze({get autoload(){return _savesAutoload},set autoload(value){if(null!=value){var valueType=Util.getType(value);if("boolean"!==valueType&&"string"!==valueType&&"function"!==valueType)throw new TypeError("Config.saves.autoload must be a boolean, string, function, or null/undefined (received: ".concat(valueType,")"))}_savesAutoload=value},get autosave(){return _savesAutosave},set autosave(value){if(null!=value){var valueType=Util.getType(value);if("string"===valueType)return void(_savesAutosave=[value]);if("boolean"!==valueType&&("Array"!==valueType||!value.every((function(item){return"string"==typeof item})))&&"function"!==valueType)throw new TypeError("Config.saves.autosave must be a boolean, Array<string>, function, or null/undefined (received: ".concat(valueType).concat("Array"===valueType?"<any>":"",")"))}_savesAutosave=value},get id(){return _savesId},set id(value){if("string"!=typeof value||""===value)throw new TypeError("Config.saves.id must be a non-empty string (received: ".concat(Util.getType(value),")"));_savesId=value},get isAllowed(){return _savesIsAllowed},set isAllowed(value){if(!(null==value||value instanceof Function))throw new TypeError("Config.saves.isAllowed must be a function or null/undefined (received: ".concat(Util.getType(value),")"));_savesIsAllowed=value},get slots(){return _savesSlots},set slots(value){if(!Number.isSafeInteger(value)||value<0)throw new TypeError("Config.saves.slots must be a non-negative integer (received: ".concat(Util.getType(value),")"));_savesSlots=value},get tryDiskOnMobile(){return _savesTryDiskOnMobile},set tryDiskOnMobile(value){_savesTryDiskOnMobile=Boolean(value)},get version(){return _savesVersion},set version(value){_savesVersion=value},get onLoad(){throw new Error("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead")},set onLoad(value){console.warn("Config.saves.onLoad has been deprecated, use the Save.onLoad API instead"),Save.onLoad.add(value)},get onSave(){throw new Error("Config.saves.onSave has been deprecated, use the Save.onSave API instead")},set onSave(value){console.warn("Config.saves.onSave has been deprecated, use the Save.onSave API instead"),Save.onSave.add(value)}}),ui:Object.freeze({get stowBarInitially(){return _uiStowBarInitially},set stowBarInitially(value){var valueType=Util.getType(value);if("boolean"!==valueType&&("number"!==valueType||!Number.isSafeInteger(value)||value<0))throw new TypeError("Config.ui.stowBarInitially must be a boolean or non-negative integer (received: ".concat(valueType,")"));_uiStowBarInitially=value},get updateStoryElements(){return _uiUpdateStoryElements},set updateStoryElements(value){_uiUpdateStoryElements=Boolean(value)}})})),_navigationOverride,_passagesDescriptions,_passagesStart,_passagesOnProcess,_passagesTransitionOut,_savesAutoload,_savesAutosave,_savesIsAllowed,_savesVersion,_debug,_addVisitedLinkClass,_cleanupWikifierOutput,_loadDelay,_audioPauseOnFadeToZero,_audioPreloadMetadata,_historyControls,_historyMaxStates,_macrosIfAssignmentError,_macrosMaxLoopIterations,_macrosTypeSkipKey,_macrosTypeVisitedPassages,_passagesDisplayTitles,_passagesNobr,_savesId,_savesSlots,_savesTryDiskOnMobile,_uiStowBarInitially,_uiUpdateStoryElements,_errHistoryModeDeprecated,SimpleAudio=function(){var _hasPromise,_gestureEventNames=Object.freeze(["click","contextmenu","dblclick","keyup","mouseup","pointerup","touchend"]),_specialIds=Object.freeze([":not",":all",":looped",":muted",":paused",":playing"]),_formatSpecRe=/^([\w-]+)\s*\|\s*(\S.*)$/,_badIdRe=/[:\s]/,_tracks=new Map,_groups=new Map,_lists=new Map,_subscribers=new Map,_masterRate=1,_masterVolume=1,_masterMute=!1,_masterMuteOnHidden=!1,_playReturnsPromise=(_hasPromise=null,function(){if(null!==_hasPromise)return _hasPromise;if(_hasPromise=!1,Has.audio)try{var audio=document.createElement("audio");audio.muted=!0;var value=audio.play();value.catch((function(){})),_hasPromise=value instanceof Promise}catch(ex){}return _hasPromise}),AudioTrack=function(){function AudioTrack(obj){if(_classCallCheck(this,AudioTrack),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioTrack))throw new Error("sources parameter must be either an array, of URIs or source objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioTrack,[{key:"_create",value:function(sourceList){var dataUriRe=/^data:\s*audio\/(?:x-)?([^;,]+)\s*[;,]/i,extRe=/\.([^./\\]+)$/,formats=AudioTrack.formats,usedSources=[],audio=document.createElement("audio");audio.preload="none",sourceList.forEach((function(src){var srcUri=null;switch(_typeof(src)){case"string":var match;if("data:"===src.slice(0,5)){if(null===(match=dataUriRe.exec(src)))throw new Error("source data URI missing media type")}else if(null===(match=extRe.exec(Util.parseUrl(src).pathname)))throw new Error("source URL missing file extension");formats[match[1]]&&(srcUri=src);break;case"object":if(null===src)throw new Error("source object cannot be null");if(!src.hasOwnProperty("src"))throw new Error('source object missing required "src" property');if(!src.hasOwnProperty("format"))throw new Error('source object missing required "format" property');formats[src.format]&&(srcUri=src.src);break;default:throw new Error("invalid source value (type: ".concat(_typeof(src),")"))}if(null!==srcUri){var source=document.createElement("source");source.src=srcUri,audio.appendChild(source),usedSources.push(srcUri)}})),audio.hasChildNodes()&&Config.audio.preloadMetadata&&(audio.preload="metadata"),this._finalize(audio,usedSources,clone(sourceList))}},{key:"_copy",value:function(obj){this._finalize(obj.audio.cloneNode(!0),clone(obj.sources),clone(obj.originals))}},{key:"_finalize",value:function(audio,sources,originals){var _this3=this;Object.defineProperties(this,{audio:{configurable:!0,value:audio},sources:{value:Object.freeze(sources)},originals:{value:Object.freeze(originals)},_error:{writable:!0,value:!1},_faderId:{writable:!0,value:null},_mute:{writable:!0,value:!1},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1}}),jQuery(this.audio).on("loadstart.AudioTrack",(function(){return _this3._error=!1})).on("error.AudioTrack",(function(){return _this3._error=!0})).find("source:last-of-type").on("error.AudioTrack",(function(){return _this3._trigger("error")})),function(id,callback){if("function"!=typeof callback)throw new Error("callback parameter must be a function");_subscribers.set(id,callback)}(this,(function(mesg){if(_this3.audio)switch(mesg){case"loadwithscreen":if(_this3.hasSource()){var lockId=LoadScreen.lock();_this3.one("canplaythrough.AudioTrack_loadwithscreen error.AudioTrack_loadwithscreen",(function(){jQuery(this).off(".AudioTrack_loadwithscreen"),LoadScreen.unlock(lockId)})).load()}break;case"load":_this3.load();break;case"mute":_this3._updateAudioMute();break;case"rate":_this3._updateAudioRate();break;case"stop":_this3.stop();break;case"volume":_this3._updateAudioVolume();break;case"unload":_this3.unload()}else unsubscribe(_this3)})),this._updateAudioMute(),this._updateAudioRate(),this._updateAudioVolume()}},{key:"_trigger",value:function(eventName){jQuery(this.audio).triggerHandler(eventName)}},{key:"_destroy",value:function(){unsubscribe(this),this.audio&&(jQuery(this.audio).off(),this.unload(),this._error=!0,delete this.audio)}},{key:"clone",value:function(){return new AudioTrack(this)}},{key:"load",value:function(){var _this4=this;if(this.fadeStop(),this.audio.pause(),!this.audio.hasChildNodes()){if(0===this.sources.length)return;this.sources.forEach((function(srcUri){var source=document.createElement("source");source.src=srcUri,_this4.audio.appendChild(source)}))}"auto"!==this.audio.preload&&(this.audio.preload="auto"),this.isLoading()||this.audio.load()}},{key:"unload",value:function(){this.fadeStop(),this.stop();var audio=this.audio;for(audio.preload="none";audio.hasChildNodes();)audio.removeChild(audio.firstChild);audio.load()}},{key:"play",value:function(){var _this5=this;if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));"auto"!==this.audio.preload&&(this.audio.preload="auto");var namespace=".AudioTrack_play";return _playReturnsPromise()?this.audio.play():new Promise((function(resolve,reject){_this5.isPlaying()?resolve():(jQuery(_this5.audio).off(namespace).one("error".concat(namespace," playing").concat(namespace," timeupdate").concat(namespace),(function(ev){jQuery(_this5).off(namespace),"error"===ev.type?reject(new Error("unknown audio play error")):resolve()})),_this5.audio.play())}))}},{key:"playWhenAllowed",value:function(){var _this6=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioTrack_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioTrack_playWhenAllowed"),_this6.audio.play()}))}))}},{key:"pause",value:function(){this.audio.pause()}},{key:"stop",value:function(){this.audio.pause(),this.time(0),this._trigger(":stopped")}},{key:"fade",value:function(duration,toVol,fromVol){var _this7=this;if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(!this.hasSource())return Promise.reject(new Error("none of the candidate sources were acceptable"));if(this.isUnloaded())return Promise.reject(new Error("no sources are loaded"));if(this.isFailed())return Promise.reject(new Error("failed to load any of the sources"));this.fadeStop();var from=Math.clamp(null==fromVol?this.volume():fromVol,0,1),to=Math.clamp(toVol,0,1);return from!==to?(this.volume(from),jQuery(this.audio).off("timeupdate.AudioTrack_fade").one("timeupdate.AudioTrack_fade",(function(){var min,max;from<to?(min=from,max=to):(min=to,max=from);var time=Math.max(duration,1),delta=(to-from)/(time/.025);_this7._trigger(":fading"),_this7._faderId=setInterval((function(){_this7.isPlaying()?(_this7.volume(Math.clamp(_this7.volume()+delta,min,max)),Config.audio.pauseOnFadeToZero&&0===_this7.volume()&&_this7.pause(),_this7.volume()===to&&(_this7.fadeStop(),_this7._trigger(":faded"))):_this7.fadeStop()}),25)})),this.play()):void 0}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this._faderId&&(clearInterval(this._faderId),this._faderId=null)}},{key:"loop",value:function(_loop){return null==_loop?this.audio.loop:(this.audio.loop=!!_loop,this)}},{key:"mute",value:function(_mute){return null==_mute?this._mute:(this._mute=!!_mute,this._updateAudioMute(),this)}},{key:"_updateAudioMute",value:function(){this.audio.muted=this._mute||_masterMute}},{key:"rate",value:function(_rate){if(null==_rate)return this._rate;if("number"!=typeof _rate)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate,.2,5),this._updateAudioRate(),this}},{key:"_updateAudioRate",value:function(){this.audio.playbackRate=Math.clamp(this._rate*_masterRate,.2,5)}},{key:"time",value:function(_time){var _this8=this;if(null==_time)return this.audio.currentTime;if("number"!=typeof _time)throw new TypeError("time parameter must be a number");return this.hasMetadata()?this.audio.currentTime=_time:jQuery(this.audio).off("loadedmetadata.AudioTrack_time").one("loadedmetadata.AudioTrack_time",(function(){return _this8.audio.currentTime=_time})),this}},{key:"volume",value:function(_volume){if(null==_volume)return this._volume;if("number"!=typeof _volume)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume,0,1),this._updateAudioVolume(),this}},{key:"_updateAudioVolume",value:function(){this.audio.volume=Math.clamp(this._volume*_masterVolume,0,1)}},{key:"duration",value:function(){return this.audio.duration}},{key:"remaining",value:function(){return this.audio.duration-this.audio.currentTime}},{key:"isFailed",value:function(){return this._error}},{key:"isLoading",value:function(){return this.audio.networkState===HTMLMediaElement.NETWORK_LOADING}},{key:"isUnloaded",value:function(){return!this.audio.hasChildNodes()}},{key:"isUnavailable",value:function(){return!this.hasSource()||this.isUnloaded()||this.isFailed()}},{key:"isPlaying",value:function(){return!this.audio.paused&&this.hasSomeData()}},{key:"isPaused",value:function(){return this.audio.paused&&(this.audio.duration===1/0||this.audio.currentTime>0)&&!this.audio.ended}},{key:"isStopped",value:function(){return this.audio.paused&&0===this.audio.currentTime}},{key:"isEnded",value:function(){return this.audio.ended}},{key:"isFading",value:function(){return null!==this._faderId}},{key:"isSeeking",value:function(){return this.audio.seeking}},{key:"hasSource",value:function(){return this.sources.length>0}},{key:"hasNoData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_NOTHING}},{key:"hasMetadata",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_METADATA}},{key:"hasSomeData",value:function(){return this.audio.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA}},{key:"hasData",value:function(){return this.audio.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA}},{key:"on",value:function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return jQuery.fn.on.apply(jQuery(this.audio),args),this}},{key:"one",value:function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return jQuery.fn.one.apply(jQuery(this.audio),args),this}},{key:"off",value:function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return jQuery.fn.off.apply(jQuery(this.audio),args),this}}]),AudioTrack}();Object.defineProperties(AudioTrack,{formats:{value:function(){var audio=document.createElement("audio"),types=new Map;function canPlay(mimeType){return types.has(mimeType)||types.set(mimeType,""!==audio.canPlayType(mimeType).replace(/^no$/i,"")),types.get(mimeType)}return Object.assign(Object.create(null),{aac:canPlay("audio/aac"),caf:canPlay("audio/x-caf")||canPlay("audio/caf"),flac:canPlay("audio/x-flac")||canPlay("audio/flac"),mp3:canPlay('audio/mpeg; codecs="mp3"')||canPlay("audio/mpeg")||canPlay("audio/mp3")||canPlay("audio/mpa"),mpeg:canPlay("audio/mpeg"),m4a:canPlay("audio/x-m4a")||canPlay("audio/m4a")||canPlay("audio/aac"),mp4:canPlay("audio/x-mp4")||canPlay("audio/mp4")||canPlay("audio/aac"),ogg:canPlay("audio/ogg"),oga:canPlay("audio/ogg"),opus:canPlay('audio/ogg; codecs="opus"')||canPlay("audio/opus"),wav:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),wave:canPlay('audio/wave; codecs="1"')||canPlay('audio/wav; codecs="1"')||canPlay("audio/wave")||canPlay("audio/wav"),weba:canPlay("audio/webm"),webm:canPlay("audio/webm")})}()}});var AudioList=function(){function AudioList(obj){if(_classCallCheck(this,AudioList),obj instanceof Array)this._create(obj);else{if(!(obj instanceof AudioList))throw new Error("tracks parameter must be either an array, of track objects, or an AudioTrack instance");this._copy(obj)}}return _createClass(AudioList,[{key:"_create",value:function(trackList){var _this9=this;this._finalize(trackList.map((function(trackObj){if("object"!==_typeof(trackObj))throw new Error("tracks parameter array members must be objects");var own,rate,track,volume;if(trackObj instanceof AudioTrack)own=!0,rate=trackObj.rate(),track=trackObj.clone(),volume=trackObj.volume();else{if(!trackObj.hasOwnProperty("track"))throw new Error('track object missing required "track" property');if(!(trackObj.track instanceof AudioTrack))throw new Error('track object\'s "track" property must be an AudioTrack object');own=trackObj.hasOwnProperty("own")&&trackObj.own,rate=trackObj.hasOwnProperty("rate")?trackObj.rate:trackObj.track.rate(),track=trackObj.track,volume=trackObj.hasOwnProperty("volume")?trackObj.volume:trackObj.track.volume()}return track.stop(),track.loop(!1),track.mute(!1),track.rate(rate),track.volume(volume),track.on("ended.AudioList",(function(){return _this9._onEnd()})),{own:own,track:track,volume:volume,rate:rate}})))}},{key:"_copy",value:function(obj){this._finalize(clone(obj.tracks))}},{key:"_finalize",value:function(tracks){Object.defineProperties(this,{tracks:{configurable:!0,value:Object.freeze(tracks)},queue:{configurable:!0,value:[]},current:{writable:!0,value:null},_rate:{writable:!0,value:1},_volume:{writable:!0,value:1},_mute:{writable:!0,value:!1},_loop:{writable:!0,value:!1},_shuffle:{writable:!0,value:!1}})}},{key:"_destroy",value:function(){this.stop(),this.tracks.filter((function(trackObj){return trackObj.own})).forEach((function(trackObj){return trackObj.track._destroy()})),delete this.tracks,delete this.queue}},{key:"load",value:function(){this.tracks.forEach((function(trackObj){return trackObj.track.load()}))}},{key:"unload",value:function(){this.stop(),this.tracks.forEach((function(trackObj){return trackObj.track.unload()}))}},{key:"play",value:function(){return null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||(0===this.queue.length&&this._fillQueue(),this._next())?this.current.track.play():Promise.reject(new Error("no tracks were available"))}},{key:"playWhenAllowed",value:function(){var _this10=this;this.play().catch((function(){var gestures=_gestureEventNames.map((function(name){return"".concat(name,".AudioList_playWhenAllowed")})).join(" ");jQuery(document).one(gestures,(function(){jQuery(document).off(".AudioList_playWhenAllowed"),_this10.play()}))}))}},{key:"pause",value:function(){null!==this.current&&this.current.track.pause()}},{key:"stop",value:function(){null!==this.current&&(this.current.track.stop(),this.current=null),this._drainQueue()}},{key:"skip",value:function(){this._next()?this.current.track.play():this._loop&&this.play()}},{key:"fade",value:function(duration,toVol,fromVol){if("number"!=typeof duration)throw new TypeError("duration parameter must be a number");if("number"!=typeof toVol)throw new TypeError("toVolume parameter must be a number");if(null!=fromVol&&"number"!=typeof fromVol)throw new TypeError("fromVolume parameter must be a number");if(0===this.queue.length&&this._fillQueue(),null!==this.current&&!this.current.track.isUnavailable()&&!this.current.track.isEnded()||this._next()){var adjFromVol,adjToVol=Math.clamp(toVol,0,1)*this.current.volume;return null!=fromVol&&(adjFromVol=Math.clamp(fromVol,0,1)*this.current.volume),this._volume=toVol,this.current.track.fade(duration,adjToVol,adjFromVol)}}},{key:"fadeIn",value:function(duration,fromVol){return this.fade(duration,1,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){return this.fade(duration,0,fromVol)}},{key:"fadeStop",value:function(){null!==this.current&&this.current.track.fadeStop()}},{key:"loop",value:function(_loop2){return null==_loop2?this._loop:(this._loop=!!_loop2,this)}},{key:"mute",value:function(_mute2){return null==_mute2?this._mute:(this._mute=!!_mute2,null!==this.current&&this.current.track.mute(this._mute),this)}},{key:"rate",value:function(_rate2){if(null==_rate2)return this._rate;if("number"!=typeof _rate2)throw new TypeError("rate parameter must be a number");return this._rate=Math.clamp(_rate2,.2,5),null!==this.current&&this.current.track.rate(this._rate*this.current.rate),this}},{key:"shuffle",value:function(_shuffle){var _this11=this;if(null==_shuffle)return this._shuffle;if(this._shuffle=!!_shuffle,this.queue.length>0&&(this._fillQueue(),!this._shuffle&&null!==this.current&&this.queue.length>1)){var _this$queue,firstIdx=this.queue.findIndex((function(trackObj){return trackObj===_this11.current}));if(-1!==firstIdx)(_this$queue=this.queue).push.apply(_this$queue,_toConsumableArray(this.queue.splice(0,firstIdx+1)))}return this}},{key:"volume",value:function(_volume2){if(null==_volume2)return this._volume;if("number"!=typeof _volume2)throw new TypeError("volume parameter must be a number");return this._volume=Math.clamp(_volume2,0,1),null!==this.current&&this.current.track.volume(this._volume*this.current.volume),this}},{key:"duration",value:function(){if(arguments.length>0)throw new Error("duration takes no parameters");return this.tracks.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0)}},{key:"remaining",value:function(){if(arguments.length>0)throw new Error("remaining takes no parameters");var remainingTime=this.queue.map((function(trackObj){return trackObj.track.duration()})).reduce((function(prev,cur){return prev+cur}),0);return null!==this.current&&(remainingTime+=this.current.track.remaining()),remainingTime}},{key:"time",value:function(){if(arguments.length>0)throw new Error("time takes no parameters");return this.duration()-this.remaining()}},{key:"isPlaying",value:function(){return null!==this.current&&this.current.track.isPlaying()}},{key:"isPaused",value:function(){return null===this.current||this.current.track.isPaused()}},{key:"isStopped",value:function(){return 0===this.queue.length&&null===this.current}},{key:"isEnded",value:function(){return 0===this.queue.length&&(null===this.current||this.current.track.isEnded())}},{key:"isFading",value:function(){return null!==this.current&&this.current.track.isFading()}},{key:"_next",value:function(){var nextTrack;for(null!==this.current&&(this.current.track.stop(),this.current=null);nextTrack=this.queue.shift();)if(!nextTrack.track.isUnavailable()){this.current=nextTrack;break}return null!==this.current&&(this.current.track.mute(this._mute),this.current.track.rate(this._rate*this.current.rate),this.current.track.volume(this._volume*this.current.volume),this.current.track.loop(!1),!0)}},{key:"_onEnd",value:function(){if(0===this.queue.length){if(!this._loop)return;this._fillQueue()}this._next()&&this.current.track.play()}},{key:"_drainQueue",value:function(){this.queue.splice(0)}},{key:"_fillQueue",value:function(){var _this$queue2;this._drainQueue(),(_this$queue2=this.queue).push.apply(_this$queue2,_toConsumableArray(this.tracks.filter((function(trackObj){return!trackObj.track.isUnavailable()})))),0!==this.queue.length&&this._shuffle&&(this.queue.shuffle(),this.queue.length>1&&this.queue[0]===this.current&&this.queue.push(this.queue.shift()))}}]),AudioList}(),AudioRunner=function(){function AudioRunner(list){if(_classCallCheck(this,AudioRunner),!(list instanceof Set||list instanceof AudioRunner))throw new TypeError("list parameter must be a Set or a AudioRunner instance");Object.defineProperties(this,{trackIds:{value:new Set(list instanceof AudioRunner?list.trackIds:list)}})}return _createClass(AudioRunner,[{key:"load",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.load)}},{key:"unload",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.unload)}},{key:"play",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.play)}},{key:"playWhenAllowed",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.playWhenAllowed)}},{key:"pause",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.pause)}},{key:"stop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.stop)}},{key:"fade",value:function(duration,toVol,fromVol){if(null==duration||null==toVol)throw new Error("fade requires parameters");AudioRunner._run(this.trackIds,AudioTrack.prototype.fade,duration,toVol,fromVol)}},{key:"fadeIn",value:function(duration,fromVol){if(null==duration)throw new Error("fadeIn requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeIn,duration,fromVol)}},{key:"fadeOut",value:function(duration,fromVol){if(null==duration)throw new Error("fadeOut requires a parameter");AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeOut,duration,fromVol)}},{key:"fadeStop",value:function(){AudioRunner._run(this.trackIds,AudioTrack.prototype.fadeStop)}},{key:"loop",value:function(_loop3){if(null==_loop3)throw new Error("loop requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.loop,_loop3),this}},{key:"mute",value:function(_mute3){if(null==_mute3)throw new Error("mute requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.mute,_mute3),this}},{key:"rate",value:function(_rate3){if(null==_rate3)throw new Error("rate requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.rate,_rate3),this}},{key:"time",value:function(_time2){if(null==_time2)throw new Error("time requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.time,_time2),this}},{key:"volume",value:function(_volume3){if(null==_volume3)throw new Error("volume requires a parameter");return AudioRunner._run(this.trackIds,AudioTrack.prototype.volume,_volume3),this}},{key:"on",value:function(){for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.on].concat(args)),this}},{key:"one",value:function(){for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.one].concat(args)),this}},{key:"off",value:function(){for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++)args[_key10]=arguments[_key10];return AudioRunner._run.apply(AudioRunner,[this.trackIds,AudioTrack.prototype.off].concat(args)),this}}],[{key:"_run",value:function(ids,fn){for(var _len11=arguments.length,args=new Array(_len11>2?_len11-2:0),_key11=2;_key11<_len11;_key11++)args[_key11-2]=arguments[_key11];ids.forEach((function(id){var track=_tracks.get(id);track&&fn.apply(track,args)}))}}]),AudioRunner}();var _runnerParseSelector=function(){var notWsRe=/\S/g,parenRe=/[()]/g;function processNegation(str,startPos){var match;if(notWsRe.lastIndex=startPos,null===(match=notWsRe.exec(str))||"("!==match[0])throw new Error('invalid ":not()" syntax: missing parentheticals');parenRe.lastIndex=notWsRe.lastIndex;for(var start=notWsRe.lastIndex,result={str:"",nextMatch:-1},depth=1;null!==(match=parenRe.exec(str));)if("("===match[0]?++depth:--depth,depth<1){result.nextMatch=parenRe.lastIndex,result.str=str.slice(start,result.nextMatch-1);break}return result}return function parseSelector(idArg){for(var match,ids=[],idRe=/:?[^\s:()]+/g;null!==(match=idRe.exec(idArg));){var id=match[0];if(":not"===id){if(0===ids.length)throw new Error('invalid negation: no group ID preceded ":not()"');var parent=ids[ids.length-1];if(":"!==parent.id[0])throw new Error('invalid negation of track "'.concat(parent.id,'": only groups may be negated with ":not()"'));var negation=processNegation(idArg,idRe.lastIndex);if(-1===negation.nextMatch)throw new Error('unknown error parsing ":not()"');idRe.lastIndex=negation.nextMatch,parent.not=parseSelector(negation.str)}else ids.push({id:id})}return ids}}();function masterMute(mute){if(null==mute)return _masterMute;publish("mute",_masterMute=!!mute)}function unsubscribe(id){_subscribers.delete(id)}function publish(mesg,data){_subscribers.forEach((function(fn){return fn(mesg,data)}))}function _newTrack(sources){return new AudioTrack(sources.map((function(source){if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);if(passage.tags.includes("Twine.audio"))return passage.text.trim()}var match=_formatSpecRe.exec(source);return null===match?source:{format:match[1],src:match[2]}})))}return Object.freeze(Object.defineProperties({},{tracks:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("track ID"),arguments.length<2&&errors.push("sources"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='track ID "'.concat(id,'"');if(_badIdRe.test(id))throw new Error("invalid ".concat(what,": track IDs must not contain colons or whitespace"));var track,sources=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{track=_newTrack(sources)}catch(ex){throw new Error("".concat(what,": error during track initialization: ").concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("".concat(what,": no supported audio sources found"));_tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.set(id,track)}},delete:{value:function(id){return _tracks.has(id)&&_tracks.get(id)._destroy(),_tracks.delete(id)}},clear:{value:function(){_tracks.forEach((function(track){return track._destroy()})),_tracks.clear()}},has:{value:function(id){return _tracks.has(id)}},get:{value:function(id){return _tracks.get(id)||null}}}))},groups:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("group ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='group ID "'.concat(id,'"');if(":"!==id[0]||_badIdRe.test(id.slice(1)))throw new Error("invalid ".concat(what,": group IDs must start with a colon and must not contain colons or whitespace"));if(_specialIds.includes(id))throw new Error("cannot clobber special ".concat(what));var group,trackIds=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{group=new Set(trackIds.map((function(trackId){if(!_tracks.has(trackId))throw new Error('track "'.concat(trackId,'" does not exist'));return trackId})))}catch(ex){throw new Error("".concat(what,": error during group initialization: ").concat(ex.message))}_groups.set(id,Object.freeze(Array.from(group)))}},delete:{value:function(id){return _groups.delete(id)}},clear:{value:function(){_groups.clear()}},has:{value:function(id){return _groups.has(id)}},get:{value:function(id){return _groups.get(id)||null}}}))},lists:{value:Object.freeze(Object.defineProperties({},{add:{value:function(){if(arguments.length<2){var errors=[];throw arguments.length<1&&errors.push("list ID"),arguments.length<2&&errors.push("track IDs"),new Error("no ".concat(errors.join(" or ")," specified"))}var id=String(arguments[0]).trim(),what='list ID "'.concat(id,'"');if(_badIdRe.test(id))return this.error("invalid ".concat(what,": list IDs must not contain colons or whitespace"));var list,descriptors=Array.isArray(arguments[1])?Array.from(arguments[1]):Array.from(arguments).slice(1);try{list=new AudioList(descriptors.map((function(desc){if(null===desc)throw new Error("track descriptor must be a string or object (type: null)");switch(_typeof(desc)){case"string":desc={id:desc};break;case"object":if(!desc.hasOwnProperty("id")&&!desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain one of either an "id" or a "sources" property');if(desc.hasOwnProperty("id")&&desc.hasOwnProperty("sources"))throw new Error('track descriptor must contain either an "id" or a "sources" property, not both');break;default:throw new Error("track descriptor must be a string or object (type: ".concat(_typeof(desc),")"))}var own,track,volume;if(desc.hasOwnProperty("id")){if("string"!=typeof desc.id)throw new Error('"id" property must be a string');if(!_tracks.has(desc.id))throw new Error('track "'.concat(desc.id,'" does not exist'));track=_tracks.get(desc.id)}else if(desc.hasOwnProperty("sources")){if(!Array.isArray(desc.sources)||0===desc.sources.length)throw new Error('"sources" property must be a non-empty array');if(desc.hasOwnProperty("own"))throw new Error('"own" property is not allowed with the "sources" property');try{track=_newTrack(desc.sources),own=!0}catch(ex){throw new Error("error during track initialization: ".concat(ex.message))}if(Config.debug&&!track.hasSource())throw new Error("no supported audio sources found")}if(desc.hasOwnProperty("own")){if("boolean"!=typeof desc.own)throw new Error('"own" property must be a boolean');(own=desc.own)&&(track=track.clone())}if(desc.hasOwnProperty("volume")){if("number"!=typeof desc.volume||Number.isNaN(desc.volume)||!Number.isFinite(desc.volume)||desc.volume<0)throw new Error('"volume" property must be a non-negative finite number');volume=desc.volume}return{own:null!=own&&own,track:track,volume:null!=volume?volume:track.volume()}})))}catch(ex){throw new Error("".concat(what,": error during playlist initialization: ").concat(ex.message))}_lists.has(id)&&_lists.get(id)._destroy(),_lists.set(id,list)}},delete:{value:function(id){return _lists.has(id)&&_lists.get(id)._destroy(),_lists.delete(id)}},clear:{value:function(){_lists.forEach((function(list){return list._destroy()})),_lists.clear()}},has:{value:function(id){return _lists.has(id)}},get:{value:function(id){return _lists.get(id)||null}}}))},select:{value:function(){if(0===arguments.length)throw new Error("no track selector specified");var selector=String(arguments[0]).trim(),trackIds=new Set;try{var renderIds=function renderIds(idObj){var ids,id=idObj.id;switch(id){case":all":ids=allIds;break;case":looped":ids=allIds.filter((function(id){return _tracks.get(id).loop()}));break;case":muted":ids=allIds.filter((function(id){return _tracks.get(id).mute()}));break;case":paused":ids=allIds.filter((function(id){return _tracks.get(id).isPaused()}));break;case":playing":ids=allIds.filter((function(id){return _tracks.get(id).isPlaying()}));break;default:ids=":"===id[0]?_groups.get(id):[id]}if(idObj.hasOwnProperty("not")){var negated=idObj.not.map((function(idObj){return renderIds(idObj)})).flat(1/0);ids=ids.filter((function(id){return!negated.includes(id)}))}return ids},allIds=Array.from(_tracks.keys());_runnerParseSelector(selector).forEach((function(idObj){return renderIds(idObj).forEach((function(id){if(!_tracks.has(id))throw new Error('track "'.concat(id,'" does not exist'));trackIds.add(id)}))}))}catch(ex){throw new Error("error during runner initialization: ".concat(ex.message))}return new AudioRunner(trackIds)}},load:{value:function(){publish("load")}},loadWithScreen:{value:function(){publish("loadwithscreen")}},mute:{value:masterMute},muteOnHidden:{value:function(mute){if(!Visibility.isEnabled())return!1;if(null==mute)return _masterMuteOnHidden;var namespace=".SimpleAudio_masterMuteOnHidden";if(_masterMuteOnHidden=!!mute){var visibilityChange="".concat(Visibility.changeEvent).concat(namespace);jQuery(document).off(namespace).on(visibilityChange,(function(){return masterMute(Visibility.isHidden())})),Visibility.isHidden()&&masterMute(!0)}else jQuery(document).off(namespace)}},rate:{value:function(rate){if(null==rate)return _masterRate;if("number"!=typeof rate||Number.isNaN(rate)||!Number.isFinite(rate))throw new Error("rate must be a finite number");publish("rate",_masterRate=Math.clamp(rate,.2,5))}},stop:{value:function(){publish("stop")}},unload:{value:function(){publish("unload")}},volume:{value:function(volume){if(null==volume)return _masterVolume;if("number"!=typeof volume||Number.isNaN(volume)||!Number.isFinite(volume))throw new Error("volume must be a finite number");publish("volume",_masterVolume=Math.clamp(volume,0,1))}}}))}(),State=function(){var _history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null,_tempVariables={};function stateMarshal(noDelta){var stateObj={index:_activeIndex};return noDelta?stateObj.history=clone(_history):stateObj.delta=historyDeltaEncode(_history),_expired.length>0&&(stateObj.expired=_toConsumableArray(_expired)),null!==_prng&&(stateObj.seed=_prng.seed),stateObj}function stateUnmarshal(stateObj,noDelta){if(null==stateObj)throw new Error("state object is null or undefined");if(!stateObj.hasOwnProperty(noDelta?"history":"delta")||0===stateObj[noDelta?"history":"delta"].length)throw new Error("state object has no history or history is empty");if(!stateObj.hasOwnProperty("index"))throw new Error("state object has no index");if(null!==_prng&&!stateObj.hasOwnProperty("seed"))throw new Error("state object has no seed, but PRNG is enabled");if(null===_prng&&stateObj.hasOwnProperty("seed"))throw new Error("state object has seed, but PRNG is disabled");_history=noDelta?clone(stateObj.history):historyDeltaDecode(stateObj.delta),_activeIndex=stateObj.index,_expired=stateObj.hasOwnProperty("expired")?_toConsumableArray(stateObj.expired):[],stateObj.hasOwnProperty("seed")&&(_prng.seed=stateObj.seed),momentActivate(_activeIndex)}function momentCreate(title,variables){return{title:null==title?"":String(title),variables:null==variables?{}:clone(variables)}}function momentActivate(moment){if(null==moment)throw new Error("moment activation attempted with null or undefined");switch(_typeof(moment)){case"object":_active=clone(moment);break;case"number":if(historyIsEmpty())throw new Error("moment activation attempted with index on empty history");if(moment<0||moment>=historySize())throw new RangeError("moment activation attempted with out-of-bounds index; need [0, ".concat(historySize()-1,"], got ").concat(moment));_active=clone(_history[moment]);break;default:throw new TypeError('moment activation attempted with a "'.concat(_typeof(moment),'"; must be an object or valid history stack index'))}return null!==_prng&&(_prng=PRNGWrapper.unmarshal({seed:_prng.seed,pull:_active.pull})),session.set("state",stateMarshal()),jQuery.event.trigger(":historyupdate"),_active}function historyLength(){return _activeIndex+1}function historySize(){return _history.length}function historyIsEmpty(){return 0===_history.length}function historyTop(){return _history.length>0?_history[_history.length-1]:null}function historyGoTo(index){return!(null==index||index<0||index>=historySize()||index===_activeIndex)&&(momentActivate(_activeIndex=index),!0)}function historyDeltaEncode(historyArr){if(!Array.isArray(historyArr))return null;if(0===historyArr.length)return[];for(var delta=[historyArr[0]],i=1,iend=historyArr.length;i<iend;++i)delta.push(Diff.diff(historyArr[i-1],historyArr[i]));return delta}function historyDeltaDecode(delta){if(!Array.isArray(delta))return null;if(0===delta.length)return[];for(var historyArr=[clone(delta[0])],i=1,iend=delta.length;i<iend;++i)historyArr.push(Diff.patch(historyArr[i-1],delta[i]));return historyArr}function prngInit(seed,useEntropy){var scriptSection;if(!historyIsEmpty())throw scriptSection="the Story JavaScript",new Error("State.prng.init must be called during initialization, within either ".concat(scriptSection," or the StoryInit special passage"));_prng=new PRNGWrapper(seed,useEntropy),_active.pull=_prng.pull}function metadataDelete(key){if("string"!=typeof key)throw new TypeError("State.metadata.delete key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");store&&store.hasOwnProperty(key)&&(1===Object.keys(store).length?storage.delete("metadata"):(delete store[key],storage.set("metadata",store)))}return Object.freeze(Object.defineProperties({},{reset:{value:function(){session.delete("state"),_history=[],_active=momentCreate(),_activeIndex=-1,_expired=[],_prng=null===_prng?null:new PRNGWrapper(_prng.seed,!1)}},restore:{value:function(){if(session.has("state")){var stateObj=session.get("state");return null!=stateObj&&(stateUnmarshal(stateObj),!0)}return!1}},marshalForSave:{value:function(){return stateMarshal(!0)}},unmarshalForSave:{value:function(stateObj){return stateUnmarshal(stateObj,!0)}},expired:{get:function(){return _expired}},turns:{get:function(){return _expired.length+historyLength()}},passages:{get:function(){return _expired.concat(_history.slice(0,historyLength()).map((function(moment){return moment.title})))}},hasPlayed:{value:function(title){return null!=title&&""!==title&&(!!_expired.includes(title)||!!_history.slice(0,historyLength()).some((function(moment){return moment.title===title})))}},active:{get:function(){return _active}},activeIndex:{get:function(){return _activeIndex}},passage:{get:function(){return _active.title}},variables:{get:function(){return _active.variables}},history:{get:function(){return _history}},length:{get:historyLength},size:{get:historySize},isEmpty:{value:historyIsEmpty},current:{get:function(){return _history.length>0?_history[_activeIndex]:null}},top:{get:historyTop},bottom:{get:function(){return _history.length>0?_history[0]:null}},index:{value:function(index){return historyIsEmpty()||index<0||index>_activeIndex?null:_history[index]}},peek:{value:function(offset){if(historyIsEmpty())return null;var lengthOffset=1+(offset?Math.abs(offset):0);return lengthOffset>historyLength()?null:_history[historyLength()-lengthOffset]}},has:{value:function(title){if(historyIsEmpty()||null==title||""===title)return!1;for(var i=_activeIndex;i>=0;--i)if(_history[i].title===title)return!0;return!1}},create:{value:function(title){for(0,historyLength()<historySize()&&_history.splice(historyLength(),historySize()-historyLength()),_history.push(momentCreate(title,_active.variables)),_prng&&(historyTop().pull=_prng.pull);historySize()>Config.history.maxStates;)_expired.push(_history.shift().title);return momentActivate(_activeIndex=historySize()-1),historyLength()}},goTo:{value:historyGoTo},go:{value:function(offset){return null!=offset&&0!==offset&&historyGoTo(_activeIndex+offset)}},deltaEncode:{value:historyDeltaEncode},deltaDecode:{value:historyDeltaDecode},prng:{value:Object.freeze(Object.defineProperties({},{init:{value:prngInit},isEnabled:{value:function(){return null!==_prng}},pull:{get:function(){return _prng?_prng.pull:NaN}},seed:{get:function(){return _prng?_prng.seed:null}}}))},random:{value:function(){return _prng?_prng.random():Math.random()}},clearTemporary:{value:function(){TempVariables=_tempVariables={}}},temporary:{get:function(){return _tempVariables}},getVar:{value:function(varExpression){try{return Scripting.evalTwineScript(varExpression)}catch(ex){}}},setVar:{value:function(varExpression,value){try{return Scripting.evalTwineScript("".concat(varExpression," = evalTwineScript$Data$"),null,value),!0}catch(ex){}return!1}},metadata:{value:Object.freeze(Object.defineProperties({},{clear:{value:function(){storage.delete("metadata")}},delete:{value:metadataDelete},entries:{value:function(){var store=storage.get("metadata");return store&&Object.entries(store)}},get:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.get key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)?store[key]:undefined}},has:{value:function(key){if("string"!=typeof key)throw new TypeError("State.metadata.has key parameter must be a string (received: ".concat(_typeof(key),")"));var store=storage.get("metadata");return store&&store.hasOwnProperty(key)}},keys:{value:function(){var store=storage.get("metadata");return store&&Object.keys(store)}},set:{value:function(key,value){if("string"!=typeof key)throw new TypeError("State.metadata.set key parameter must be a string (received: ".concat(_typeof(key),")"));if(void 0===value)metadataDelete(key);else{var store=storage.get("metadata")||{};store[key]=value,storage.set("metadata",store)}}},size:{get:function(){var store=storage.get("metadata");return store?Object.keys(store).length:0}}}))},initPRNG:{value:prngInit},restart:{value:function(){return Engine.restart()}},backward:{value:function(){return Engine.backward()}},forward:{value:function(){return Engine.forward()}},display:{value:function(){return Engine.display.apply(Engine,arguments)}},show:{value:function(){return Engine.show.apply(Engine,arguments)}},play:{value:function(){return Engine.play.apply(Engine,arguments)}}}))}(),Scripting=function(){function addAccessibleClickHandler(targets,selector,handler,one,namespace){if(arguments.length<2)throw new Error("addAccessibleClickHandler insufficient number of parameters");var fn,opts;if("function"==typeof selector?(fn=selector,opts={namespace:one,one:!!handler}):(fn=handler,opts={namespace:namespace,one:!!one,selector:selector}),"function"!=typeof fn)throw new TypeError("addAccessibleClickHandler handler parameter must be a function");return jQuery(targets).ariaClick(opts,fn)}function insertElement(place,type,id,classNames,text,title){var $el=jQuery(document.createElement(type));return id&&$el.attr("id",id),classNames&&$el.addClass(classNames),title&&$el.attr("title",title),text&&$el.text(text),place&&$el.appendTo(place),$el[0]}function insertText(place,text){jQuery(place).append(document.createTextNode(text))}function removeChildren(node){jQuery(node).empty()}function removeElement(node){jQuery(node).remove()}function fade(el,options){var current,intervalId,direction="in"===options.fade?1:-1,proxy=el.cloneNode(!0);function setOpacity(el,opacity){el.style.zoom=1,el.style.filter="alpha(opacity=".concat(Math.floor(100*opacity),")"),el.style.opacity=opacity}el.parentNode.replaceChild(proxy,el),"in"===options.fade?(current=0,proxy.style.visibility="visible"):current=1,setOpacity(proxy,current),intervalId=window.setInterval((function(){current+=.05*direction,setOpacity(proxy,Math.easeInOut(current)),(1===direction&&current>=1||-1===direction&&current<=0)&&(el.style.visibility="in"===options.fade?"visible":"hidden",proxy.parentNode.replaceChild(el,proxy),proxy=null,window.clearInterval(intervalId),options.onComplete&&options.onComplete())}),25)}function scrollWindowTo(el,incrementBy){var increment=null!=incrementBy?Number(incrementBy):.1;Number.isNaN(increment)||!Number.isFinite(increment)||increment<0?increment=.1:increment>1&&(increment=1);var intervalId,start=window.scrollY?window.scrollY:document.body.scrollTop,end=function(el){var posTop=function(el){var curtop=0;for(;el.offsetParent;)curtop+=el.offsetTop,el=el.offsetParent;return curtop}(el),posBottom=posTop+el.offsetHeight,winTop=window.scrollY?window.scrollY:document.body.scrollTop,winHeight=window.innerHeight?window.innerHeight:document.body.clientHeight,winBottom=winTop+winHeight;return posTop>=winTop&&posBottom>winBottom&&el.offsetHeight<winHeight?posTop-(winHeight-el.offsetHeight)+20:posTop}(el),distance=Math.abs(start-end),direction=start>end?-1:1,progress=0;intervalId=window.setInterval((function(){progress+=increment,window.scroll(0,start+direction*(distance*Math.easeInOut(progress))),progress>=1&&window.clearInterval(intervalId)}),25)}function toStringOrDefault(value){return stringFrom(value)}function either(){if(0!==arguments.length)return Array.prototype.concat.apply([],arguments).random()}function forget(key){if("string"!=typeof key)throw new TypeError("forget key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.delete(key)}function hasVisited(){if(0===arguments.length)throw new Error("hasVisited called with insufficient parameters");if(State.isEmpty())return!1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,i=0,iend=needles.length;i<iend;++i)if(!played.includes(needles[i]))return!1;return!0}function lastVisited(){if(0===arguments.length)throw new Error("lastVisited called with insufficient parameters");if(State.isEmpty())return-1;for(var needles=Array.prototype.concat.apply([],arguments),played=State.passages,uBound=played.length-1,turns=State.turns,i=0,iend=needles.length;i<iend&&turns>-1;++i){var lastIndex=played.lastIndexOf(needles[i]);turns=Math.min(turns,-1===lastIndex?-1:uBound-lastIndex)}return turns}function memorize(key,value){if("string"!=typeof key)throw new TypeError("memorize key parameter must be a string (received: ".concat(Util.getType(key),")"));State.metadata.set(key,value)}function passage(){return State.passage}function previous(){var passages=State.passages;if(arguments.length>0){var offset=Number(arguments[0]);if(!Number.isSafeInteger(offset)||offset<1)throw new RangeError("previous offset parameter must be a positive integer greater than zero");return passages.length>offset?passages[passages.length-1-offset]:""}for(var i=passages.length-2;i>=0;--i)if(passages[i]!==State.passage)return passages[i];return""}function random(){var min,max;switch(arguments.length){case 0:throw new Error("random called with insufficient parameters");case 1:min=0,max=Math.trunc(arguments[0]);break;default:min=Math.trunc(arguments[0]),max=Math.trunc(arguments[1])}if(!Number.isInteger(min))throw new Error("random min parameter must be an integer");if(!Number.isInteger(max))throw new Error("random max parameter must be an integer");if(min>max){var _ref6=[max,min];min=_ref6[0],max=_ref6[1]}return Math.floor(State.random()*(max-min+1))+min}function randomFloat(){var min,max;switch(arguments.length){case 0:throw new Error("randomFloat called with insufficient parameters");case 1:min=0,max=Number(arguments[0]);break;default:min=Number(arguments[0]),max=Number(arguments[1])}if(Number.isNaN(min)||!Number.isFinite(min))throw new Error("randomFloat min parameter must be a number");if(Number.isNaN(max)||!Number.isFinite(max))throw new Error("randomFloat max parameter must be a number");if(min>max){var _ref7=[max,min];min=_ref7[0],max=_ref7[1]}return State.random()*(max-min)+min}function recall(key,defaultValue){if("string"!=typeof key)throw new TypeError("recall key parameter must be a string (received: ".concat(Util.getType(key),")"));return State.metadata.has(key)?State.metadata.get(key):defaultValue}function tags(){if(0===arguments.length)return Story.get(State.passage).tags.slice(0);for(var passages=Array.prototype.concat.apply([],arguments),tags=[],i=0,iend=passages.length;i<iend;++i)tags=tags.concat(Story.get(passages[i]).tags);return tags}function temporary(){return State.temporary}function time(){return null===Engine.lastPlay?0:Util.now()-Engine.lastPlay}function turns(){return State.turns}function variables(){return State.variables}function visited(){if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],0===arguments.length?[State.passage]:arguments),played=State.passages,count=State.turns,i=0,iend=needles.length;i<iend&&count>0;++i)count=Math.min(count,played.count(needles[i]));return count}function visitedTags(){if(0===arguments.length)throw new Error("visitedTags called with insufficient parameters");if(State.isEmpty())return 0;for(var needles=Array.prototype.concat.apply([],arguments),nLength=needles.length,played=State.passages,seen=new Map,count=0,i=0,iend=played.length;i<iend;++i){var title=played[i];if(seen.has(title))seen.get(title)&&++count;else{var _tags2=Story.get(title).tags;if(_tags2.length>0){for(var found=0,j=0;j<nLength;++j)_tags2.includes(needles[j])&&++found;found===nLength?(++count,seen.set(title,!0)):seen.set(title,!1)}}}return count}var _ref8=function(){function slugifyUrl(url){return Util.parseUrl(url).path.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w]+/g,"-").toLocaleLowerCase()}function addScript(url){return new Promise((function(resolve,reject){jQuery(document.createElement("script")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importScripts failed to load the script "'.concat(url,'".')))})).appendTo(document.head).attr({id:"script-imported-".concat(slugifyUrl(url)),type:"text/javascript",src:url})}))}function addStyle(url){return new Promise((function(resolve,reject){jQuery(document.createElement("link")).one("load abort error",(function(ev){jQuery(ev.target).off(),"load"===ev.type?resolve(ev.target):reject(new Error('importStyles failed to load the stylesheet "'.concat(url,'".')))})).appendTo(document.head).attr({id:"style-imported-".concat(slugifyUrl(url)),rel:"stylesheet",href:url})}))}function sequence(callbacks){return callbacks.reduce((function(seq,fn){return seq.then(fn)}),Promise.resolve())}return{importScripts:function(){for(var _len12=arguments.length,urls=new Array(_len12),_key12=0;_key12<_len12;_key12++)urls[_key12]=arguments[_key12];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addScript(url)}}))):addScript(oneOrSeries)})))},importStyles:function(){for(var _len13=arguments.length,urls=new Array(_len13),_key13=0;_key13<_len13;_key13++)urls[_key13]=arguments[_key13];return Promise.all(urls.map((function(oneOrSeries){return Array.isArray(oneOrSeries)?sequence(oneOrSeries.map((function(url){return function(){return addStyle(url)}}))):addStyle(oneOrSeries)})))}}}(),importScripts=_ref8.importScripts,importStyles=_ref8.importStyles,parse=function(){var tokenTable=Util.toEnum({$:"State.variables.",_:"State.temporary.",to:"=",eq:"==",neq:"!=",is:"===",isnot:"!==",gt:">",gte:">=",lt:"<",lte:"<=",and:"&&",or:"||",not:"!",def:'"undefined" !== typeof',ndef:'"undefined" === typeof'}),parseRe=new RegExp(["(?:\"\"|''|``)",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(`(?:\\\\.|[^`\\\\])+`)","(?:[=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}]+)","([^\"'=+\\-*\\/%<>&\\|\\^~!?:,;\\(\\)\\[\\]{}\\s]+)"].join("|"),"g"),notSpaceRe=/\S/,varTest=new RegExp("^".concat(Patterns.variable)),withColonTestRe=/^\s*:/,withNotTestRe=/^\s+not\b/;function parse(rawCodeString){if(0!==parseRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start");for(var match,code=rawCodeString;null!==(match=parseRe.exec(code));)if(match[1]){var rawTemplate=match[1],parsedTemplate=parseTemplate(rawTemplate);parsedTemplate!==rawTemplate&&(code=code.splice(match.index,rawTemplate.length,parsedTemplate),parseRe.lastIndex+=parsedTemplate.length-rawTemplate.length)}else if(match[2]){var token=match[2];if("$"===token||"_"===token)continue;if(varTest.test(token))token=token[0];else if("is"===token){var start=parseRe.lastIndex,ahead=code.slice(start);withNotTestRe.test(ahead)&&(code=code.splice(start,ahead.search(notSpaceRe)),token="isnot")}else{var _ahead=code.slice(parseRe.lastIndex);if(withColonTestRe.test(_ahead))continue}tokenTable[token]&&(code=code.splice(match.index,token.length,tokenTable[token]),parseRe.lastIndex+=tokenTable[token].length-token.length)}return code}var templateGroupStartRe=/\$\{/g,templateGroupParseRe=new RegExp(["(?:\"\"|'')",'(?:"(?:\\\\.|[^"\\\\])+")',"(?:'(?:\\\\.|[^'\\\\])+')","(\\{)","(\\})"].join("|"),"g");function parseTemplate(rawTemplateLiteral){if(0!==templateGroupStartRe.lastIndex)throw new RangeError("Scripting.parse last index is non-zero at start of template literal");for(var startMatch,template=rawTemplateLiteral;null!==(startMatch=templateGroupStartRe.exec(template));){var startIdx=startMatch.index+2,endIdx=startIdx,depth=1,endMatch=void 0;for(templateGroupParseRe.lastIndex=startIdx;null!==(endMatch=templateGroupParseRe.exec(template));)if(endMatch[1]?++depth:endMatch[2]&&--depth,0===depth){endIdx=endMatch.index;break}if(endIdx>startIdx){var parseIndex=parseRe.lastIndex,rawGroup=template.slice(startIdx,endIdx);parseRe.lastIndex=0;var parsedGroup=parse(rawGroup);parseRe.lastIndex=parseIndex,template=template.splice(startIdx,rawGroup.length,parsedGroup),templateGroupStartRe.lastIndex+=parsedGroup.length-rawGroup.length}}return template}return parse}();function evalJavaScript(code,output,data){return function(code,output,evalJavaScript$Data$){return eval(code)}.call(output?{output:output}:null,String(code),output,data)}function evalTwineScript(code,output,data){return function(code,output,evalTwineScript$Data$){return eval(code)}.call(output?{output:output}:null,parse(String(code)),output,data)}return Object.freeze(Object.defineProperties({},{parse:{value:parse},evalJavaScript:{value:evalJavaScript},evalTwineScript:{value:evalTwineScript}}))}(),_ref9=function(){var Lexer=function(){function Lexer(source,initialState){if(_classCallCheck(this,Lexer),arguments.length<2)throw new Error("Lexer constructor called with too few parameters (source:string , initialState:function)");Object.defineProperties(this,{source:{value:source},initial:{value:initialState},state:{writable:!0,value:initialState},start:{writable:!0,value:0},pos:{writable:!0,value:0},depth:{writable:!0,value:0},items:{writable:!0,value:[]},data:{writable:!0,value:{}}})}return _createClass(Lexer,[{key:"reset",value:function(){this.state=this.initial,this.start=0,this.pos=0,this.depth=0,this.items=[],this.data={}}},{key:"run",value:function(){for(;null!==this.state;)this.state=this.state(this);return this.items}},{key:"nextItem",value:function(){for(;0===this.items.length&&null!==this.state;)this.state=this.state(this);return this.items.shift()}},{key:"next",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos++]}},{key:"peek",value:function(){return this.pos>=this.source.length?-1:this.source[this.pos]}},{key:"backup",value:function(num){this.pos-=num||1}},{key:"forward",value:function(num){this.pos+=num||1}},{key:"ignore",value:function(){this.start=this.pos}},{key:"accept",value:function(valid){var ch=this.next();return-1!==ch&&(!!valid.includes(ch)||(this.backup(),!1))}},{key:"acceptRe",value:function(validRe){var ch=this.next();return-1!==ch&&(!!validRe.test(ch)||(this.backup(),!1))}},{key:"acceptRun",value:function(valid){for(;;){var ch=this.next();if(-1===ch)return;if(!valid.includes(ch))break}this.backup()}},{key:"acceptRunRe",value:function(validRe){for(;;){var ch=this.next();if(-1===ch)return;if(!validRe.test(ch))break}this.backup()}},{key:"emit",value:function(type){this.items.push({type:type,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),this.start=this.pos}},{key:"error",value:function(type,message){if(arguments.length<2)throw new Error("Lexer.prototype.error called with too few parameters (type:number , message:string)");return this.items.push({type:type,message:message,text:this.source.slice(this.start,this.pos),start:this.start,pos:this.pos}),null}}],[{key:"enumFromNames",value:function(names){var obj=names.reduce((function(obj,name,i){return obj[name]=i,obj}),{});return Object.freeze(Object.assign(Object.create(null),obj))}}]),Lexer}();return{EOF:-1,Lexer:Lexer}}(),EOF=_ref9.EOF,Lexer=_ref9.Lexer,Wikifier=function(){var _optionsStack,lookaheadRe,idOrClassRe,_callDepth=0,Wikifier=function(){function Wikifier(destination,source,options){_classCallCheck(this,Wikifier),Wikifier.Parser.Profile.isEmpty()&&Wikifier.Parser.Profile.compile(),Object.defineProperties(this,{source:{value:String(source)},options:{writable:!0,value:Object.assign({profile:"all"},options)},nextMatch:{writable:!0,value:0},output:{writable:!0,value:null},_rawArgs:{writable:!0,value:""}}),null==destination?this.output=document.createDocumentFragment():destination.jquery?this.output=destination[0]:this.output=destination;try{++_callDepth,this.subWikify(this.output),1===_callDepth&&Config.cleanupWikifierOutput&&convertBreaks(this.output)}finally{--_callDepth}}return _createClass(Wikifier,[{key:"subWikify",value:function(output,terminator,options){var newOptions,oldOptions,oldOutput=this.output;this.output=output,Wikifier.Option.length>0&&(newOptions=Object.assign(newOptions||{},Wikifier.Option.options)),null!==options&&"object"===_typeof(options)&&(newOptions=Object.assign(newOptions||{},options)),newOptions&&(oldOptions=this.options,this.options=Object.assign({},this.options,newOptions));var terminatorMatch,parserMatch,parsersProfile=Wikifier.Parser.Profile.get(this.options.profile),terminatorRegExp=terminator?new RegExp("(?:".concat(terminator,")"),this.options.ignoreTerminatorCase?"gim":"gm"):null;do{if(parsersProfile.parserRegExp.lastIndex=this.nextMatch,terminatorRegExp&&(terminatorRegExp.lastIndex=this.nextMatch),parserMatch=parsersProfile.parserRegExp.exec(this.source),(terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null)&&(!parserMatch||terminatorMatch.index<=parserMatch.index))return terminatorMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,terminatorMatch.index),this.matchStart=terminatorMatch.index,this.matchLength=terminatorMatch[0].length,this.matchText=terminatorMatch[0],this.nextMatch=terminatorRegExp.lastIndex,this.output=oldOutput,void(oldOptions&&(this.options=oldOptions));if(parserMatch){parserMatch.index>this.nextMatch&&this.outputText(this.output,this.nextMatch,parserMatch.index),this.matchStart=parserMatch.index,this.matchLength=parserMatch[0].length,this.matchText=parserMatch[0],this.nextMatch=parsersProfile.parserRegExp.lastIndex;for(var matchingParser=void 0,i=1,iend=parserMatch.length;i<iend;++i)if(parserMatch[i]){matchingParser=i-1;break}if(parsersProfile.parsers[matchingParser].handler(this),null!=TempState.break)break}}while(terminatorMatch||parserMatch);null==TempState.break?this.nextMatch<this.source.length&&(this.outputText(this.output,this.nextMatch,this.source.length),this.nextMatch=this.source.length):this.output.lastChild&&this.output.lastChild.nodeType===Node.ELEMENT_NODE&&"BR"===this.output.lastChild.nodeName.toUpperCase()&&jQuery(this.output.lastChild).remove(),this.output=oldOutput,oldOptions&&(this.options=oldOptions)}},{key:"outputText",value:function(destination,startPos,endPos){jQuery(destination).append(document.createTextNode(this.source.substring(startPos,endPos)))}},{key:"rawArgs",value:function(){return this._rawArgs}},{key:"fullArgs",value:function(){return Scripting.parse(this._rawArgs)}}],[{key:"wikifyEval",value:function(text){var output=document.createDocumentFragment();new Wikifier(output,text);var errors=output.querySelector(".error");if(null!==errors)throw new Error(errors.textContent.replace(errorPrologRegExp,""));return output}},{key:"createInternalLink",value:function(destination,passage,text,callback){var $link=jQuery(document.createElement("a"));return null!=passage&&($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken"),$link.ariaClick({one:!0},(function(){"function"==typeof callback&&callback(),Engine.play(passage)}))),text&&$link.append(document.createTextNode(text)),destination&&$link.appendTo(destination),$link[0]}},{key:"createExternalLink",value:function(destination,url,text){var $link=jQuery(document.createElement("a")).attr("target","_blank").addClass("link-external").text(text).appendTo(destination);return null!=url&&$link.attr({href:url,tabindex:0}),$link[0]}},{key:"isExternalLink",value:function(link){return!Story.has(link)&&(new RegExp("^".concat(Patterns.url),"gim").test(link)||/[/.?#]/.test(link))}}]),Wikifier}();return Object.defineProperty(Wikifier,"Option",{value:(_optionsStack=[],Object.freeze(Object.defineProperties({},{length:{get:function(){return _optionsStack.length}},options:{get:function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_optionsStack)))}},clear:{value:function(){_optionsStack=[]}},get:{value:function(idx){return _optionsStack[idx]}},pop:{value:function(){return _optionsStack.pop()}},push:{value:function(options){if("object"!==_typeof(options)||null===options)throw new TypeError("Wikifier.Option.push options parameter must be an object (received: ".concat(Util.getType(options),")"));return _optionsStack.push(options)}}})))}),Object.defineProperty(Wikifier,"Parser",{value:function(){var _profiles,_parsers=[];function parsersHas(name){return!!_parsers.find((function(parser){return parser.name===name}))}return Object.freeze(Object.defineProperties({},{parsers:{get:function(){return _parsers}},add:{value:function(parser){if("object"!==_typeof(parser))throw new Error("Wikifier.Parser.add parser parameter must be an object");if(!parser.hasOwnProperty("name"))throw new Error('parser object missing required "name" property');if("string"!=typeof parser.name)throw new Error('parser object "name" property must be a string');if(!parser.hasOwnProperty("match"))throw new Error('parser object missing required "match" property');if("string"!=typeof parser.match)throw new Error('parser object "match" property must be a string');if(!parser.hasOwnProperty("handler"))throw new Error('parser object missing required "handler" property');if("function"!=typeof parser.handler)throw new Error('parser object "handler" property must be a function');if(parser.hasOwnProperty("profiles")&&!Array.isArray(parser.profiles))throw new Error('parser object "profiles" property must be an array');if(parsersHas(parser.name))throw new Error('cannot clobber existing parser "'.concat(parser.name,'"'));_parsers.push(parser)}},delete:{value:function(name){var parser=_parsers.find((function(parser){return parser.name===name}));parser&&_parsers.delete(parser)}},isEmpty:{value:function(){return 0===_parsers.length}},has:{value:parsersHas},get:{value:function(name){return _parsers.find((function(parser){return parser.name===name}))||null}},Profile:{value:Object.freeze(Object.defineProperties({},{profiles:{get:function(){return _profiles}},compile:{value:function(){var all=_parsers,core=all.filter((function(parser){return!Array.isArray(parser.profiles)||parser.profiles.includes("core")}));return _profiles=Object.freeze({all:{parsers:all,parserRegExp:new RegExp(all.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")},core:{parsers:core,parserRegExp:new RegExp(core.map((function(parser){return"(".concat(parser.match,")")})).join("|"),"gm")}})}},isEmpty:{value:function(){return"object"!==_typeof(_profiles)||0===Object.keys(_profiles).length}},has:{value:function(profile){return"object"===_typeof(_profiles)&&_profiles.hasOwnProperty(profile)}},get:{value:function(profile){if("object"!==_typeof(_profiles)||!_profiles.hasOwnProperty(profile))throw new Error('nonexistent parser profile "'.concat(profile,'"'));return _profiles[profile]}}}))}}))}()}),Object.defineProperties(Wikifier,{helpers:{value:{}},getValue:{value:State.getVar},setValue:{value:State.setVar},parse:{value:Scripting.parse},evalExpression:{value:Scripting.evalTwineScript},evalStatements:{value:Scripting.evalTwineScript},textPrimitives:{value:Patterns}}),Object.defineProperties(Wikifier.helpers,{inlineCss:{value:(lookaheadRe=new RegExp(Patterns.inlineCss,"gm"),idOrClassRe=new RegExp("(".concat(Patterns.cssIdOrClassSigil,")(").concat(Patterns.anyLetter,"+)"),"g"),function(w){var matched,css={classes:[],id:"",styles:{}};do{lookaheadRe.lastIndex=w.nextMatch;var match=lookaheadRe.exec(w.source);if(matched=match&&match.index===w.nextMatch){if(match[1])css.styles[Util.fromCssProperty(match[1])]=match[2].trim();else if(match[3])css.styles[Util.fromCssProperty(match[3])]=match[4].trim();else if(match[5]){var subMatch=void 0;for(idOrClassRe.lastIndex=0;null!==(subMatch=idOrClassRe.exec(match[5]));)"."===subMatch[1]?css.classes.push(subMatch[2]):css.id=subMatch[2]}w.nextMatch=lookaheadRe.lastIndex}}while(matched);return css})},evalText:{value:function(text){var result;try{switch(_typeof(result=Scripting.evalTwineScript(text))){case"string":""===result.trim()&&(result=text);break;case"number":result=String(result);break;default:result=text}}catch(ex){result=text}return result}},evalPassageId:{value:function(passage){return null==passage||Story.has(passage)?passage:Wikifier.helpers.evalText(passage)}},hasBlockContext:{value:function(nodes){for(var hasGCS="function"==typeof window.getComputedStyle,i=nodes.length-1;i>=0;--i){var node=nodes[i];switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.nodeName.toUpperCase();if("BR"===tagName)return!0;var styles=hasGCS?window.getComputedStyle(node,null):node.currentStyle;if(styles&&styles.display){if("none"===styles.display)continue;return"block"===styles.display}switch(tagName){case"ADDRESS":case"ARTICLE":case"ASIDE":case"BLOCKQUOTE":case"CENTER":case"DIV":case"DL":case"FIGURE":case"FOOTER":case"FORM":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HR":case"MAIN":case"NAV":case"OL":case"P":case"PRE":case"SECTION":case"TABLE":case"UL":return!0}return!1;case Node.COMMENT_NODE:continue;default:return!1}}return!0}},createShadowSetterCallback:{value:function(){var macroParser=null;function getMacroContextShadowView(){for(var macro=macroParser||function(){if(!macroParser&&!(macroParser=Wikifier.Parser.get("macro")))throw new Error('cannot find "macro" parser');return macroParser}(),view=new Set,context=macro.context;null!==context;context=context.parent)context._shadows&&context._shadows.forEach((function(name){return view.add(name)}));return _toConsumableArray(view)}return function(code){var shadowStore={};return getMacroContextShadowView().forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]})),function(){var shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null;try{return shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),Scripting.evalJavaScript(code)}finally{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}}()},parseSquareBracketedMarkup:{value:function(){var Item=Lexer.enumFromNames(["Error","DelimLTR","DelimRTL","InnerMeta","ImageMeta","LinkMeta","Link","RightMeta","Setter","Source","Text"]),Delim=Lexer.enumFromNames(["None","LTR","RTL"]);function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexLeftMeta(lexer){if(!lexer.accept("["))return lexer.error(Item.Error,"malformed square-bracketed markup");if(lexer.accept("["))lexer.data.isLink=!0,lexer.emit(Item.LinkMeta);else{if(lexer.accept("<>"),!(lexer.accept("Ii")&&lexer.accept("Mm")&&lexer.accept("Gg")&&lexer.accept("[")))return lexer.error(Item.Error,"malformed square-bracketed markup");lexer.data.isLink=!1,lexer.emit(Item.ImageMeta)}return lexer.depth=2,lexCoreComponents}function lexCoreComponents(lexer){for(var what=lexer.data.isLink?"link":"image",delim=Delim.None;;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup"));break;case"|":delim===Delim.None&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(),lexer.emit(Item.DelimLTR));break;case"-":delim===Delim.None&&">"===lexer.peek()&&(delim=Delim.LTR,lexer.backup(),lexer.emit(Item.Text),lexer.forward(2),lexer.emit(Item.DelimLTR));break;case"<":delim===Delim.None&&"-"===lexer.peek()&&(delim=Delim.RTL,lexer.backup(),lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.DelimRTL));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.InnerMeta),lexer.data.isLink?lexSetter:lexImageLink;case"]":return--lexer.depth,lexer.backup(),delim===Delim.RTL?lexer.emit(Item.Text):lexer.emit(lexer.data.isLink?Item.Link:Item.Source),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexImageLink(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup link component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)switch(lexer.peek()){case"[":return++lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.InnerMeta),lexSetter;case"]":return--lexer.depth,lexer.backup(),lexer.emit(Item.Link),lexer.forward(2),lexer.emit(Item.RightMeta),null;default:return lexer.error(Item.Error,"malformed ".concat(what," markup"))}}}function lexSetter(lexer){for(var what=lexer.data.isLink?"link":"image";;)switch(lexer.next()){case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case'"':if(slurpQuote(lexer,'"')===EOF)return lexer.error(Item.Error,"unterminated double quoted string in ".concat(what," markup setter component"));break;case"'":if(slurpQuote(lexer,"'")===EOF)return lexer.error(Item.Error,"unterminated single quoted string in ".concat(what," markup setter component"));break;case"[":++lexer.depth;break;case"]":if(--lexer.depth,1===lexer.depth)return"]"!==lexer.peek()?lexer.error(Item.Error,"malformed ".concat(what," markup")):(--lexer.depth,lexer.backup(),lexer.emit(Item.Setter),lexer.forward(2),lexer.emit(Item.RightMeta),null)}}return function(w){var lexer=new Lexer(w.source,lexLeftMeta);lexer.start=lexer.pos=w.matchStart;var markup={},items=lexer.run(),last=items.last();return last&&last.type===Item.Error?markup.error=last.message:items.forEach((function(item){var text=item.text.trim();switch(item.type){case Item.ImageMeta:markup.isImage=!0,"<"===text[1]?markup.align="left":">"===text[1]&&(markup.align="right");break;case Item.LinkMeta:markup.isLink=!0;break;case Item.Link:"~"===text[0]?(markup.forceInternal=!0,markup.link=text.slice(1)):markup.link=text;break;case Item.Setter:markup.setter=text;break;case Item.Source:markup.source=text;break;case Item.Text:markup.text=text}})),markup.pos=lexer.pos,markup}}()}}),Wikifier}();!function(){function _verbatimTagHandler(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createDocumentFragment()).append(match[1]).appendTo(w.output))}Wikifier.Parser.add({name:"quoteByBlock",profiles:["block"],match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("blockquote")).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"quoteByLine",profiles:["block"],match:"^>+",lookahead:/^>+/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,i,destStack=[w.output],curLevel=0,newLevel=w.matchLength;do{if(newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement("blockquote")).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();curLevel=newLevel,w.subWikify(destStack[destStack.length-1],this.terminator),jQuery(document.createElement("br")).appendTo(destStack[destStack.length-1]),this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);(matched=match&&match.index===w.nextMatch)&&(newLevel=match[0].length,w.nextMatch+=match[0].length)}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"macro",profiles:["core"],match:"<<",lookahead:new RegExp("<<(/?".concat(Patterns.macroName,")(?:\\s*)((?:(?:/\\*[^*]*\\*+(?:[^/*][^*]*\\*+)*/)|(?://.*\\n)|(?:`(?:\\\\.|[^`\\\\])*`)|(?:\"(?:\\\\.|[^\"\\\\])*\")|(?:'(?:\\\\.|[^'\\\\])*')|(?:\\[(?:[<>]?[Ii][Mm][Gg])?\\[[^\\r\\n]*?\\]\\]+)|[^>]|(?:>(?!>)))*)>>"),"gm"),working:{source:"",name:"",arguments:"",index:0},context:null,handler:function(w){var matchStart=this.lookahead.lastIndex=w.matchStart;if(this.parseTag(w)){var macro,nextMatch=w.nextMatch,name=this.working.name,rawArgs=this.working.arguments;try{if(!(macro=Macro.get(name))){if(Macro.tags.has(name)){var tags=Macro.tags.get(name);return throwError(w.output,"child tag <<".concat(name,">> was found outside of a call to its parent macro").concat(1===tags.length?"":"s"," <<").concat(tags.join(">>, <<"),">>"),w.source.slice(matchStart,w.nextMatch))}return throwError(w.output,"macro <<".concat(name,">> does not exist"),w.source.slice(matchStart,w.nextMatch))}var payload=null;if(void 0!==macro.tags&&!(payload=this.parseBody(w,macro)))return w.nextMatch=nextMatch,throwError(w.output,"cannot find a closing tag for macro <<".concat(name,">>"),"".concat(w.source.slice(matchStart,w.nextMatch),"…"));if("function"!=typeof macro.handler)return throwError(w.output,"macro <<".concat(name,">> handler function ").concat(void 0===macro.handler?"does not exist":"is not a function"),w.source.slice(matchStart,w.nextMatch));var args=payload?payload[0].args:this.createArgs(rawArgs,this.skipArgs(macro,macro.name));if(void 0!==macro._MACRO_API){this.context=new MacroContext({macro:macro,name:name,args:args,payload:payload,source:w.source.slice(matchStart,w.nextMatch),parent:this.context,parser:w});try{macro.handler.call(this.context)}finally{this.context=this.context.parent}}else{var prevRawArgs=w._rawArgs;w._rawArgs=rawArgs;try{macro.handler(w.output,name,args,w,payload)}finally{w._rawArgs=prevRawArgs}}}catch(ex){return throwError(w.output,"cannot execute ".concat(macro&&macro.isWidget?"widget":"macro"," <<").concat(name,">>: ").concat(ex.message),w.source.slice(matchStart,w.nextMatch))}finally{this.working.source="",this.working.name="",this.working.arguments="",this.working.index=0}}else w.outputText(w.output,w.matchStart,w.nextMatch)},parseTag:function(w){var match=this.lookahead.exec(w.source);return!(!match||match.index!==w.matchStart||!match[1])&&(w.nextMatch=this.lookahead.lastIndex,this.working.source=w.source.slice(match.index,this.lookahead.lastIndex),this.working.name=match[1],this.working.arguments=match[2],this.working.index=match.index,!0)},parseBody:function(w,macro){for(var openTag=this.working.name,closeTag="/".concat(openTag),closeAlt="end".concat(openTag),bodyTags=!!Array.isArray(macro.tags)&&macro.tags,payload=[],end=-1,opened=1,curSource=this.working.source,curTag=this.working.name,curArgument=this.working.arguments,contentStart=w.nextMatch;-1!==(w.matchStart=w.source.indexOf(this.match,w.nextMatch));)if(this.parseTag(w)){var tagSource=this.working.source,tagName=this.working.name,tagArgs=this.working.arguments,tagBegin=this.working.index,tagEnd=w.nextMatch,hasArgs=""!==tagArgs.trim();switch(tagName){case openTag:++opened;break;case closeAlt:case closeTag:if(hasArgs)throw w.nextMatch=tagBegin+2+tagName.length,new Error('malformed closing tag: "'.concat(tagSource,'"'));--opened;break;default:if(hasArgs&&(tagName.startsWith("/")||tagName.startsWith("end"))){this.lookahead.lastIndex=w.nextMatch=tagBegin+2+tagName.length;continue}if(1===opened&&bodyTags)for(var i=0,iend=bodyTags.length;i<iend;++i)tagName===bodyTags[i]&&(payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),curSource=tagSource,curTag=tagName,curArgument=tagArgs,contentStart=tagEnd)}if(0===opened){payload.push({source:curSource,name:curTag,arguments:curArgument,args:this.createArgs(curArgument,this.skipArgs(macro,curTag)),contents:w.source.slice(contentStart,tagBegin)}),end=tagEnd;break}}else this.lookahead.lastIndex=w.nextMatch=w.matchStart+this.match.length;return-1!==end?(w.nextMatch=end,payload):null},createArgs:function(rawArgsString,skipArgs){var args=skipArgs?[]:this.parseArgs(rawArgsString);return Object.defineProperties(args,{raw:{value:rawArgsString},full:{value:Scripting.parse(rawArgsString)}}),args},skipArgs:function(macro,tagName){if(void 0!==macro.skipArgs){var sa=macro.skipArgs;return"boolean"==typeof sa&&sa||Array.isArray(sa)&&sa.includes(tagName)}return void 0!==macro.skipArg0&&(macro.skipArg0&&macro.name===tagName)},parseArgs:function(){var Item=Lexer.enumFromNames(["Error","Bareword","Expression","String","SquareBracket"]),spaceRe=new RegExp(Patterns.space),notSpaceRe=new RegExp(Patterns.notSpace),varTest=new RegExp("^".concat(Patterns.variable));function slurpQuote(lexer,endQuote){loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return EOF;case endQuote:break loop}return lexer.pos}function lexSpace(lexer){var offset=lexer.source.slice(lexer.pos).search(notSpaceRe);if(offset===EOF)return null;switch(0!==offset&&(lexer.pos+=offset,lexer.ignore()),lexer.next()){case"`":return lexExpression;case'"':return lexDoubleQuote;case"'":return lexSingleQuote;case"[":return lexSquareBracket;default:return lexBareword}}function lexExpression(lexer){return slurpQuote(lexer,"`")===EOF?lexer.error(Item.Error,"unterminated backquote expression"):(lexer.emit(Item.Expression),lexSpace)}function lexDoubleQuote(lexer){return slurpQuote(lexer,'"')===EOF?lexer.error(Item.Error,"unterminated double quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSingleQuote(lexer){return slurpQuote(lexer,"'")===EOF?lexer.error(Item.Error,"unterminated single quoted string"):(lexer.emit(Item.String),lexSpace)}function lexSquareBracket(lexer){var what;if(lexer.accept("<>IiMmGg")?(what="image",lexer.acceptRun("<>IiMmGg")):what="link",!lexer.accept("["))return lexer.error(Item.Error,"malformed ".concat(what," markup"));lexer.depth=2;loop:for(;;)switch(lexer.next()){case"\\":var ch=lexer.next();if(ch!==EOF&&"\n"!==ch)break;case EOF:case"\n":return lexer.error(Item.Error,"unterminated ".concat(what," markup"));case"[":++lexer.depth;break;case"]":if(--lexer.depth,lexer.depth<0)return lexer.error(Item.Error,"unexpected right square bracket ']'");if(1===lexer.depth){if("]"===lexer.next()){--lexer.depth;break loop}lexer.backup()}}return lexer.emit(Item.SquareBracket),lexSpace}function lexBareword(lexer){var offset=lexer.source.slice(lexer.pos).search(spaceRe);return lexer.pos=offset===EOF?lexer.source.length:lexer.pos+offset,lexer.emit(Item.Bareword),offset===EOF?null:lexSpace}return function(rawArgsString){var lexer=new Lexer(rawArgsString,lexSpace),args=[];return lexer.run().forEach((function(item){var arg=item.text;switch(item.type){case Item.Error:throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(item.message));case Item.Bareword:if(varTest.test(arg))arg=State.getVar(arg);else if(/^(?:settings|setup)[.[]/.test(arg))try{arg=Scripting.evalTwineScript(arg)}catch(ex){throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(ex.message))}else if("null"===arg)arg=null;else if("undefined"===arg)arg=undefined;else if("true"===arg)arg=!0;else if("false"===arg)arg=!1;else if("NaN"===arg)arg=NaN;else{var argAsNum=Number(arg);Number.isNaN(argAsNum)||(arg=argAsNum)}break;case Item.Expression:if(""===(arg=arg.slice(1,-1).trim()))arg=undefined;else try{arg=Scripting.evalTwineScript("(".concat(arg,")"))}catch(ex){throw new Error('unable to parse macro argument expression "'.concat(arg,'": ').concat(ex.message))}break;case Item.String:try{arg=Scripting.evalJavaScript(arg)}catch(ex){throw new Error('unable to parse macro argument string "'.concat(arg,'": ').concat(ex.message))}break;case Item.SquareBracket:var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:arg,matchStart:0});if(markup.hasOwnProperty("error"))throw new Error('unable to parse macro argument "'.concat(arg,'": ').concat(markup.error));if(markup.pos<arg.length)throw new Error('unable to parse macro argument "'.concat(arg,'": unexpected character(s) "').concat(arg.slice(markup.pos),'" (pos: ').concat(markup.pos,")"));markup.isLink?((arg={isLink:!0}).count=markup.hasOwnProperty("text")?2:1,arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):arg.link,arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null):markup.isImage&&(arg=function(source){var imgObj={source:source,isImage:!0};if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(imgObj.source=passage.text,imgObj.passage=passage.title)}return imgObj}(Wikifier.helpers.evalPassageId(markup.source)),markup.hasOwnProperty("align")&&(arg.align=markup.align),markup.hasOwnProperty("text")&&(arg.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("link")&&(arg.link=Wikifier.helpers.evalPassageId(markup.link),arg.external=!markup.forceInternal&&Wikifier.isExternalLink(arg.link)),arg.setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null)}args.push(arg)})),args}}()}),Wikifier.Parser.add({name:"link",profiles:["core"],match:"\\[\\[[^[]",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{w.nextMatch=markup.pos;var link=Wikifier.helpers.evalPassageId(markup.link),text=markup.hasOwnProperty("text")?Wikifier.helpers.evalText(markup.text):link,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,output=(Config.debug?new DebugView(w.output,"link-markup","[[link]]",w.source.slice(w.matchStart,w.nextMatch)):w).output;markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(output,link,text,setFn):Wikifier.createExternalLink(output,link,text)}}}),Wikifier.Parser.add({name:"urlLink",profiles:["core"],match:Patterns.url,handler:function(w){w.outputText(Wikifier.createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch)}}),Wikifier.Parser.add({name:"image",profiles:["core"],match:"\\[[<>]?[Ii][Mm][Gg]\\[",handler:function(w){var markup=Wikifier.helpers.parseSquareBracketedMarkup(w);if(markup.hasOwnProperty("error"))w.outputText(w.output,w.matchStart,w.nextMatch);else{var debugView;w.nextMatch=markup.pos,Config.debug&&(debugView=new DebugView(w.output,"image-markup",markup.hasOwnProperty("link")?"[img[][link]]":"[img[]]",w.source.slice(w.matchStart,w.nextMatch))).modes({block:!0});var source,setFn=markup.hasOwnProperty("setter")?Wikifier.helpers.createShadowSetterCallback(Scripting.parse(markup.setter)):null,el=(Config.debug?debugView:w).output;if(markup.hasOwnProperty("link")){var link=Wikifier.helpers.evalPassageId(markup.link);(el=markup.forceInternal||!Wikifier.isExternalLink(link)?Wikifier.createInternalLink(el,link,null,setFn):Wikifier.createExternalLink(el,link)).classList.add("link-image")}if(el=jQuery(document.createElement("img")).appendTo(el).get(0),"data:"!==(source=Wikifier.helpers.evalPassageId(markup.source)).slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(el.setAttribute("data-passage",passage.title),source=passage.text.trim())}el.src=source,markup.hasOwnProperty("text")&&(el.title=Wikifier.helpers.evalText(markup.text)),markup.hasOwnProperty("align")&&(el.align=markup.align)}}}),Wikifier.Parser.add({name:"monospacedByBlock",profiles:["block"],match:"^\\{\\{\\{\\n",lookahead:/^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){var pre=jQuery(document.createElement("pre"));jQuery(document.createElement("code")).text(match[1]).appendTo(pre),pre.appendTo(w.output),w.nextMatch=this.lookahead.lastIndex}}}),Wikifier.Parser.add({name:"formatByChar",profiles:["core"],match:"''|//|__|\\^\\^|~~|==|\\{\\{\\{",handler:function(w){switch(w.matchText){case"''":w.subWikify(jQuery(document.createElement("strong")).appendTo(w.output).get(0),"''");break;case"//":w.subWikify(jQuery(document.createElement("em")).appendTo(w.output).get(0),"//");break;case"__":w.subWikify(jQuery(document.createElement("u")).appendTo(w.output).get(0),"__");break;case"^^":w.subWikify(jQuery(document.createElement("sup")).appendTo(w.output).get(0),"\\^\\^");break;case"~~":w.subWikify(jQuery(document.createElement("sub")).appendTo(w.output).get(0),"~~");break;case"==":w.subWikify(jQuery(document.createElement("s")).appendTo(w.output).get(0),"==");break;case"{{{":var lookahead=/\{\{\{((?:.|\n)*?)\}\}\}/gm;lookahead.lastIndex=w.matchStart;var match=lookahead.exec(w.source);match&&match.index===w.matchStart&&(jQuery(document.createElement("code")).text(match[1]).appendTo(w.output),w.nextMatch=lookahead.lastIndex)}}}),Wikifier.Parser.add({name:"customStyle",profiles:["core"],match:"@@",terminator:"@@",blockRe:/\s*\n/gm,handler:function(w){var css=Wikifier.helpers.inlineCss(w);this.blockRe.lastIndex=w.nextMatch;var blockMatch=this.blockRe.exec(w.source),blockLevel=blockMatch&&blockMatch.index===w.nextMatch,$el=jQuery(document.createElement(blockLevel?"div":"span")).appendTo(w.output);0===css.classes.length&&""===css.id&&0===Object.keys(css.styles).length?$el.addClass("marked"):(css.classes.forEach((function(className){return $el.addClass(className)})),""!==css.id&&$el.attr("id",css.id),$el.css(css.styles)),blockLevel?(w.nextMatch+=blockMatch[0].length,w.subWikify($el[0],"\\n?".concat(this.terminator))):w.subWikify($el[0],this.terminator)}}),Wikifier.Parser.add({name:"verbatimText",profiles:["core"],match:'"{3}|<[Nn][Oo][Ww][Ii][Kk][Ii]>',lookahead:/(?:"{3}((?:.|\n)*?)"{3})|(?:<[Nn][Oo][Ww][Ii][Kk][Ii]>((?:.|\n)*?)<\/[Nn][Oo][Ww][Ii][Kk][Ii]>)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex,jQuery(document.createElement("span")).addClass("verbatim").text(match[1]||match[2]).appendTo(w.output))}}),Wikifier.Parser.add({name:"horizontalRule",profiles:["core"],match:"^----+$\\n?|<[Hh][Rr]\\s*/?>\\n?",handler:function(w){jQuery(document.createElement("hr")).appendTo(w.output)}}),Wikifier.Parser.add({name:"emdash",profiles:["core"],match:"--",handler:function(w){jQuery(document.createTextNode("—")).appendTo(w.output)}}),Wikifier.Parser.add({name:"doubleDollarSign",profiles:["core"],match:"\\${2}",handler:function(w){jQuery(document.createTextNode("$")).appendTo(w.output)}}),Wikifier.Parser.add({name:"nakedVariable",profiles:["core"],match:"".concat(Patterns.variable,"(?:(?:\\.").concat(Patterns.identifier,")|(?:\\[\\d+\\])|(?:\\[\"(?:\\\\.|[^\"\\\\])+\"\\])|(?:\\['(?:\\\\.|[^'\\\\])+'\\])|(?:\\[").concat(Patterns.variable,"\\]))*"),handler:function(w){var result=State.getVar(w.matchText);null==result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"variable",w.matchText,w.matchText):w).output,stringFrom(result))}}),Wikifier.Parser.add({name:"template",profiles:["core"],match:"\\?".concat(Patterns.templateName),handler:function(w){var name=w.matchText.slice(1),template=Template.get(name),result=null;switch(template instanceof Array&&(template=template.random()),_typeof(template)){case"function":try{result=stringFrom(template.call({name:name}))}catch(ex){return throwError(w.output,"cannot execute function template ?".concat(name,": ").concat(ex.message),w.source.slice(w.matchStart,w.nextMatch))}break;case"string":result=template}null===result?jQuery(document.createTextNode(w.matchText)).appendTo(w.output):new Wikifier((Config.debug?new DebugView(w.output,"template",w.matchText,w.matchText):w).output,result)}}),Wikifier.Parser.add({name:"heading",profiles:["block"],match:"^!{1,6}",terminator:"\\n",handler:function(w){Wikifier.helpers.hasBlockContext(w.output.childNodes)?w.subWikify(jQuery(document.createElement("h".concat(w.matchLength))).appendTo(w.output).get(0),this.terminator):jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"table",profiles:["block"],match:"^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",lookahead:/^\|([^\n]*)\|([fhck]?)$/gm,rowTerminator:"\\|(?:[cfhk]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[cfhk]?$\\n?)",cellTerminator:"(?:\\u0020*)\\|",rowTypes:{c:"caption",f:"tfoot",h:"thead","":"tbody"},handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){var matched,table=jQuery(document.createElement("table")).appendTo(w.output).get(0),prevColumns=[],curRowType=null,$rowContainer=null,rowCount=0;w.nextMatch=w.matchStart;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var nextRowType=match[2];"k"===nextRowType?(table.className=match[1],w.nextMatch+=match[0].length+1):(nextRowType!==curRowType&&(curRowType=nextRowType,$rowContainer=jQuery(document.createElement(this.rowTypes[nextRowType])).appendTo(table)),"c"===curRowType?($rowContainer.css("caption-side",0===rowCount?"top":"bottom"),w.nextMatch+=1,w.subWikify($rowContainer[0],this.rowTerminator)):this.rowHandler(w,jQuery(document.createElement("tr")).appendTo($rowContainer).get(0),prevColumns),++rowCount)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))},rowHandler:function(w,rowEl,prevColumns){var matched,_this12=this,cellRe=new RegExp(this.cellPattern,"gm"),col=0,curColCount=1;do{cellRe.lastIndex=w.nextMatch;var cellMatch=cellRe.exec(w.source);if(matched=cellMatch&&cellMatch.index===w.nextMatch){if("~"===cellMatch[1]){var last=prevColumns[col];last&&(++last.rowCount,last.$element.attr("rowspan",last.rowCount).css("vertical-align","middle")),w.nextMatch=cellMatch.index+cellMatch[0].length-1}else if(">"===cellMatch[1])++curColCount,w.nextMatch=cellMatch.index+cellMatch[0].length-1;else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}!function(){++w.nextMatch;for(var css=Wikifier.helpers.inlineCss(w),spaceLeft=!1,spaceRight=!1,$cell=void 0;" "===w.source.substr(w.nextMatch,1);)spaceLeft=!0,++w.nextMatch;"!"===w.source.substr(w.nextMatch,1)?($cell=jQuery(document.createElement("th")).appendTo(rowEl),++w.nextMatch):$cell=jQuery(document.createElement("td")).appendTo(rowEl),prevColumns[col]={rowCount:1,$element:$cell},curColCount>1&&($cell.attr("colspan",curColCount),curColCount=1),w.subWikify($cell[0],_this12.cellTerminator)," "===w.matchText.substr(w.matchText.length-2,1)&&(spaceRight=!0),css.classes.forEach((function(className){return $cell.addClass(className)})),""!==css.id&&$cell.attr("id",css.id),spaceLeft&&spaceRight?css.styles["text-align"]="center":spaceLeft?css.styles["text-align"]="right":spaceRight&&(css.styles["text-align"]="left"),$cell.css(css.styles),w.nextMatch=w.nextMatch-1}()}++col}}while(matched)}}),Wikifier.Parser.add({name:"list",profiles:["block"],match:"^(?:(?:\\*+)|(?:#+))",lookahead:/^(?:(\*+)|(#+))/gm,terminator:"\\n",handler:function(w){if(Wikifier.helpers.hasBlockContext(w.output.childNodes)){w.nextMatch=w.matchStart;var matched,i,destStack=[w.output],curType=null,curLevel=0;do{this.lookahead.lastIndex=w.nextMatch;var match=this.lookahead.exec(w.source);if(matched=match&&match.index===w.nextMatch){var newType=match[2]?"ol":"ul",newLevel=match[0].length;if(w.nextMatch+=match[0].length,newLevel>curLevel)for(i=curLevel;i<newLevel;++i)destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0));else if(newLevel<curLevel)for(i=curLevel;i>newLevel;--i)destStack.pop();else newLevel===curLevel&&newType!==curType&&(destStack.pop(),destStack.push(jQuery(document.createElement(newType)).appendTo(destStack[destStack.length-1]).get(0)));curLevel=newLevel,curType=newType,w.subWikify(jQuery(document.createElement("li")).appendTo(destStack[destStack.length-1]).get(0),this.terminator)}}while(matched)}else jQuery(w.output).append(document.createTextNode(w.matchText))}}),Wikifier.Parser.add({name:"commentByBlock",profiles:["core"],match:"(?:/(?:%|\\*))|(?:\x3c!--)",lookahead:/(?:\/(%|\*)(?:(?:.|\n)*?)\1\/)|(?:<!--(?:(?:.|\n)*?)-->)/gm,handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);match&&match.index===w.matchStart&&(w.nextMatch=this.lookahead.lastIndex)}}),Wikifier.Parser.add({name:"lineContinuation",profiles:["core"],match:"\\\\".concat(Patterns.spaceNoTerminator,"*\\n|\\n").concat(Patterns.spaceNoTerminator,"*\\\\|\\n?\\\\").concat(Patterns.spaceNoTerminator,"*$|^").concat(Patterns.spaceNoTerminator,"*\\\\\\n?"),handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"lineBreak",profiles:["core"],match:"\\n|<[Bb][Rr]\\s*/?>",handler:function(w){w.options.nobr||jQuery(document.createElement("br")).appendTo(w.output)}}),Wikifier.Parser.add({name:"htmlCharacterReference",profiles:["core"],match:"(?:(?:&#?[0-9A-Za-z]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9A-Fa-f]|1D[C-Fc-f][0-9A-Fa-f]|20[D-Fd-f][0-9A-Fa-f]|FE2[0-9A-Fa-f])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[0-9A-Za-z]{2,8};)",handler:function(w){jQuery(document.createDocumentFragment()).append(w.matchText).appendTo(w.output)}}),Wikifier.Parser.add({name:"xmlProlog",profiles:["core"],match:"<\\?[Xx][Mm][Ll][^>]*\\?>",handler:function(w){w.nextMatch=w.matchStart+w.matchLength}}),Wikifier.Parser.add({name:"verbatimHtml",profiles:["core"],match:"<[Hh][Tt][Mm][Ll]>",lookahead:/<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"verbatimScriptTag",profiles:["core"],match:"<[Ss][Cc][Rr][Ii][Pp][Tt][^>]*>",lookahead:/(<[Ss][Cc][Rr][Ii][Pp][Tt]*>(?:.|\n)*?<\/[Ss][Cc][Rr][Ii][Pp][Tt]>)/gm,handler:_verbatimTagHandler}),Wikifier.Parser.add({name:"styleTag",profiles:["core"],match:"<[Ss][Tt][Yy][Ll][Ee][^>]*>",lookahead:/(<[Ss][Tt][Yy][Ll][Ee]*>)((?:.|\n)*?)(<\/[Ss][Tt][Yy][Ll][Ee]>)/gm,imageMarkup:new RegExp(Patterns.cssImage,"g"),hasImageMarkup:new RegExp(Patterns.cssImage),handler:function(w){this.lookahead.lastIndex=w.matchStart;var match=this.lookahead.exec(w.source);if(match&&match.index===w.matchStart){w.nextMatch=this.lookahead.lastIndex;var css=match[2];this.hasImageMarkup.test(css)&&(this.imageMarkup.lastIndex=0,css=css.replace(this.imageMarkup,(function(wikiImage){var markup=Wikifier.helpers.parseSquareBracketedMarkup({source:wikiImage,matchStart:0});if(markup.hasOwnProperty("error")||markup.pos<wikiImage.length)return wikiImage;var source=markup.source;if("data:"!==source.slice(0,5)&&Story.has(source)){var passage=Story.get(source);passage.tags.includes("Twine.image")&&(source=passage.text)}return'url("'.concat(source.replace(/"/g,"%22"),'")')}))),jQuery(document.createDocumentFragment()).append(match[1]+css+match[3]).appendTo(w.output)}}}),Wikifier.Parser.add({name:"svgTag",profiles:["core"],match:"<[Ss][Vv][Gg][^>]*>",lookahead:/<(\/?)[Ss][Vv][Gg][^>]*>/gm,namespace:"http://www.w3.org/2000/svg",handler:function(w){var _this13=this;this.lookahead.lastIndex=w.nextMatch;for(var match,depth=1;depth>0&&null!==(match=this.lookahead.exec(w.source));)depth+="/"===match[1]?-1:1;if(0===depth){w.nextMatch=this.lookahead.lastIndex;var svgTag=w.source.slice(w.matchStart,this.lookahead.lastIndex),$frag=jQuery(document.createDocumentFragment()).append(svgTag);$frag.find("a[data-passage],image[data-passage]").each((function(_,el){var tagName=el.tagName.toLowerCase();try{_this13.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"svg|<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}el.hasAttribute("data-passage")&&_this13.processDataAttributes(el,tagName)})),$frag.appendTo(w.output)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref10){var name=_ref10.name,value=_ref10.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if("image"===tagName)"data:"!==passage.slice(0,5)&&Story.has(passage)&&(passage=Story.get(passage)).tags.includes("Twine.image")&&el.setAttribute("href",passage.text.trim());else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}}),Wikifier.Parser.add({name:"htmlTag",profiles:["core"],match:"<".concat(Patterns.htmlTagName,"(?:\\s+[^\\u0000-\\u001F\\u007F-\\u009F\\s\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*?\"|'[^']*?'|[^\\s\"'=<>`]+))?)*\\s*\\/?>"),tagRe:new RegExp("^<(".concat(Patterns.htmlTagName,")")),mediaTags:["audio","img","source","track","video"],nobrTags:["audio","colgroup","datalist","dl","figure","meter","ol","optgroup","picture","progress","ruby","select","table","tbody","tfoot","thead","tr","ul","video"],voidTags:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],handler:function(w){var tagMatch=this.tagRe.exec(w.matchText),tag=tagMatch&&tagMatch[1],tagName=tag&&tag.toLowerCase();if(tagName){var terminator,terminatorMatch,isVoid=this.voidTags.includes(tagName)||w.matchText.endsWith("/>"),isNobr=this.nobrTags.includes(tagName);if(!isVoid){terminator="<\\/".concat(tagName,"\\s*>");var terminatorRe=new RegExp(terminator,"gim");terminatorRe.lastIndex=w.matchStart,terminatorMatch=terminatorRe.exec(w.source)}if(!isVoid&&!terminatorMatch)return throwError(w.output,"cannot find a closing tag for HTML <".concat(tag,">"),"".concat(w.matchText,"…"));var debugView,output=w.output,el=document.createElement(w.output.tagName);for(el.innerHTML=w.matchText;el.firstChild;)el=el.firstChild;try{this.processAttributeDirectives(el)}catch(ex){return throwError(w.output,"<".concat(tagName,">: ").concat(ex.message),"".concat(w.matchText,"…"))}if(el.hasAttribute("data-passage")&&(this.processDataAttributes(el,tagName),Config.debug&&((debugView=new DebugView(w.output,"html-".concat(tagName),tagName,w.matchText)).modes({block:"img"===tagName,nonvoid:terminatorMatch}),output=debugView.output)),terminatorMatch){try{Wikifier.Option.push({nobr:isNobr}),w.subWikify(el,terminator,{ignoreTerminatorCase:!0})}finally{Wikifier.Option.pop()}debugView&&jQuery(el).find(".debug.block").length>0&&debugView.modes({block:!0})}output.appendChild("track"===tagName?el.cloneNode(!0):el)}},processAttributeDirectives:function(el){_toConsumableArray(el.attributes).forEach((function(_ref11){var name=_ref11.name,value=_ref11.value,evalShorthand="@"===name[0];if(evalShorthand||name.startsWith("sc-eval:")){var result,newName=name.slice(evalShorthand?1:8);if("data-setter"===newName)throw new Error('evaluation directive is not allowed on the data-setter attribute: "'.concat(name,'"'));try{result=Scripting.evalTwineScript(value)}catch(ex){throw new Error('bad evaluation from attribute directive "'.concat(name,'": ').concat(ex.message))}try{el.setAttribute(newName,result),el.removeAttribute(name)}catch(ex){throw new Error('cannot transform attribute directive "'.concat(name,'" into attribute "').concat(newName,'"'))}}}))},processDataAttributes:function(el,tagName){var passage=el.getAttribute("data-passage");if(null!=passage){var evaluated=Wikifier.helpers.evalPassageId(passage);if(evaluated!==passage&&(passage=evaluated,el.setAttribute("data-passage",evaluated)),""!==passage)if(this.mediaTags.includes(tagName)){if("data:"!==passage.slice(0,5)&&Story.has(passage)){var parentName,twineTag;switch(passage=Story.get(passage),tagName){case"audio":case"video":twineTag="Twine.".concat(tagName);break;case"img":twineTag="Twine.image";break;case"track":twineTag="Twine.vtt";break;case"source":var $parent=$(el).closest("audio,picture,video");$parent.length&&(parentName=$parent.get(0).tagName.toLowerCase(),twineTag="Twine.".concat("picture"===parentName?"image":parentName))}passage.tags.includes(twineTag)&&(el["picture"===parentName?"srcset":"src"]=passage.text.trim())}}else{var setFn,setter=el.getAttribute("data-setter");null!=setter&&""!==(setter=String(setter).trim())&&(setFn=Wikifier.helpers.createShadowSetterCallback(Scripting.parse(setter))),Story.has(passage)?(el.classList.add("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&el.classList.add("link-visited")):el.classList.add("link-broken"),jQuery(el).ariaClick({one:!0},(function(){"function"==typeof setFn&&setFn.call(this),Engine.play(passage)}))}}}})}();var Template=(_templates=new Map,_validNameRe=new RegExp("^(?:".concat(Patterns.templateName,")$")),_validType=function(template){var templateType=_typeof(template);return"function"===templateType||"string"===templateType},Object.freeze(Object.defineProperties({},{add:{value:function(name,template){if(!(_validType(template)||template instanceof Array&&template.length>0&&template.every(_validType)))throw new TypeError("invalid template type (".concat(name,"); templates must be: functions, strings, or an array of either"));(name instanceof Array?name:[name]).forEach((function(name){if(!_validNameRe.test(name))throw new Error('invalid template name "'.concat(name,'"'));if(_templates.has(name))throw new Error("cannot clobber existing template ?".concat(name));_templates.set(name,template)}))}},delete:{value:function(name){(name instanceof Array?name:[name]).forEach((function(name){return _templates.delete(name)}))}},get:{value:function(name){return _templates.has(name)?_templates.get(name):null}},has:{value:function(name){return _templates.has(name)}},size:{get:function(){return _templates.size}}}))),_templates,_validNameRe,_validType,Macro=function(){var _macros={},_tags={},_validNameRe=new RegExp("^(?:".concat(Patterns.macroName,")$"));function macrosHas(name){return _macros.hasOwnProperty(name)}function tagsRegister(parent,bodyTags){if(!parent)throw new Error("no parent specified");for(var endTags=["/".concat(parent),"end".concat(parent)],allTags=[].concat(endTags,Array.isArray(bodyTags)?bodyTags:[]),i=0;i<allTags.length;++i){var tag=allTags[i];if(macrosHas(tag))throw new Error("cannot register tag for an existing macro");tagsHas(tag)?_tags[tag].includes(parent)||(_tags[tag].push(parent),_tags[tag].sort()):_tags[tag]=[parent]}}function tagsUnregister(parent){if(!parent)throw new Error("no parent specified");Object.keys(_tags).forEach((function(tag){var i=_tags[tag].indexOf(parent);-1!==i&&(1===_tags[tag].length?delete _tags[tag]:_tags[tag].splice(i,1))}))}function tagsHas(name){return _tags.hasOwnProperty(name)}return Object.freeze(Object.defineProperties({},{add:{value:function macrosAdd(name,def){if(Array.isArray(name))name.forEach((function(name){return macrosAdd(name,def)}));else{if(!_validNameRe.test(name))throw new Error('invalid macro name "'.concat(name,'"'));if(macrosHas(name))throw new Error("cannot clobber existing macro <<".concat(name,">>"));if(tagsHas(name))throw new Error("cannot clobber child tag <<".concat(name,">> of parent macro").concat(1===_tags[name].length?"":"s"," <<").concat(_tags[name].join(">>, <<"),">>"));try{if("object"===_typeof(def))_macros[name]=Object.assign(Object.create(null),def,{_MACRO_API:!0});else{if(!macrosHas(def))throw new Error("cannot create alias of nonexistent macro <<".concat(def,">>"));_macros[name]=Object.create(_macros[def],{_ALIAS_OF:{enumerable:!0,value:def}})}Object.defineProperty(_macros,name,{writable:!1})}catch(ex){throw"TypeError"===ex.name?new Error("cannot clobber protected macro <<".concat(name,">>")):new Error("unknown error when attempting to add macro <<".concat(name,">>: [").concat(ex.name,"] ").concat(ex.message))}if(void 0!==_macros[name].tags)if(null==_macros[name].tags)tagsRegister(name);else{if(!Array.isArray(_macros[name].tags))throw new Error('bad value for "tags" property of macro <<'.concat(name,">>"));tagsRegister(name,_macros[name].tags)}}}},delete:{value:function macrosDelete(name){if(Array.isArray(name))name.forEach((function(name){return macrosDelete(name)}));else if(macrosHas(name)){void 0!==_macros[name].tags&&tagsUnregister(name);try{Object.defineProperty(_macros,name,{writable:!0}),delete _macros[name]}catch(ex){throw new Error("unknown error removing macro <<".concat(name,">>: ").concat(ex.message))}}else if(tagsHas(name))throw new Error("cannot remove child tag <<".concat(name,">> of parent macro <<").concat(_tags[name],">>"))}},isEmpty:{value:function(){return 0===Object.keys(_macros).length}},has:{value:macrosHas},get:{value:function(name){var macro=null;return macrosHas(name)&&"function"==typeof _macros[name].handler?macro=_macros[name]:macros.hasOwnProperty(name)&&"function"==typeof macros[name].handler&&(macro=macros[name]),macro}},init:{value:function(){var handler=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"init";Object.keys(_macros).forEach((function(name){"function"==typeof _macros[name][handler]&&_macros[name][handler](name)})),Object.keys(macros).forEach((function(name){"function"==typeof macros[name][handler]&&macros[name][handler](name)}))}},tags:{value:Object.freeze(Object.defineProperties({},{register:{value:tagsRegister},unregister:{value:tagsUnregister},has:{value:tagsHas},get:{value:function(name){return tagsHas(name)?_tags[name]:null}}}))},evalStatements:{value:function(){return Scripting.evalJavaScript.apply(Scripting,arguments)}}}))}(),MacroContext=function(){var MacroContext=function(){function MacroContext(contextData){_classCallCheck(this,MacroContext);var context=Object.assign({parent:null,macro:null,name:"",displayName:"",args:null,payload:null,parser:null,source:""},contextData);if(null===context.macro||""===context.name||null===context.parser)throw new TypeError("context object missing required properties");Object.defineProperties(this,{self:{value:context.macro},name:{value:void 0===context.macro._ALIAS_OF?context.name:context.macro._ALIAS_OF},displayName:{value:context.name},args:{value:context.args},payload:{value:context.payload},source:{value:context.source},parent:{value:context.parent},parser:{value:context.parser},_output:{value:context.parser.output},_shadows:{writable:!0,value:null},_debugView:{writable:!0,value:null},_debugViewEnabled:{writable:!0,value:Config.debug}})}return _createClass(MacroContext,[{key:"output",get:function(){return this._debugViewEnabled?this.debugView.output:this._output}},{key:"shadows",get:function(){return _toConsumableArray(this._shadows)}},{key:"shadowView",get:function(){var view=new Set;return this.contextSelectAll((function(ctx){return ctx._shadows})).forEach((function(ctx){return ctx._shadows.forEach((function(name){return view.add(name)}))})),_toConsumableArray(view)}},{key:"debugView",get:function(){return this._debugViewEnabled?null!==this._debugView?this._debugView:this.createDebugView():null}},{key:"contextHas",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return!0;return!1}},{key:"contextSelect",value:function(filter){for(var context=this;null!==(context=context.parent);)if(filter(context))return context;return null}},{key:"contextSelectAll",value:function(filter){for(var result=[],context=this;null!==(context=context.parent);)filter(context)&&result.push(context);return result}},{key:"addShadow",value:function(){var _this14=this;this._shadows||(this._shadows=new Set);for(var varRe=new RegExp("^".concat(Patterns.variable,"$")),_len14=arguments.length,names=new Array(_len14),_key14=0;_key14<_len14;_key14++)names[_key14]=arguments[_key14];names.flat(1/0).forEach((function(name){if("string"!=typeof name)throw new TypeError("variable name must be a string; type: ".concat(_typeof(name)));if(!varRe.test(name))throw new Error('invalid variable name "'.concat(name,'"'));_this14._shadows.add(name)}))}},{key:"createShadowWrapper",value:function(callback,doneCallback,startCallback){var shadowStore,shadowContext=this;return"function"==typeof callback&&(shadowStore={},this.shadowView.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey]}))),function(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++)args[_key15]=arguments[_key15];if("function"==typeof startCallback&&startCallback.apply(this,args),"function"==typeof callback){var contextCache,shadowNames=Object.keys(shadowStore),valueCache=shadowNames.length>0?{}:null,macroParser=Wikifier.Parser.get("macro");try{shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),store[varKey]=shadowStore[varName]})),contextCache=macroParser.context,macroParser.context=shadowContext,callback.apply(this,args)}finally{contextCache!==undefined&&(macroParser.context=contextCache),shadowNames.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;shadowStore[varName]=store[varKey],valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}"function"==typeof doneCallback&&doneCallback.apply(this,args)}}},{key:"createDebugView",value:function(name,title){return this._debugView=new DebugView(this._output,"macro",name||this.displayName,title||this.source),null!==this.payload&&this.payload.length>0&&this._debugView.modes({nonvoid:!0}),this._debugViewEnabled=!0,this._debugView}},{key:"removeDebugView",value:function(){null!==this._debugView&&(this._debugView.remove(),this._debugView=null),this._debugViewEnabled=!1}},{key:"error",value:function(message,source){return throwError(this._output,"<<".concat(this.displayName,">>: ").concat(message),source||this.source)}}]),MacroContext}();return MacroContext}();!function(){if(Macro.add("capture",{skipArgs:!0,tags:null,tsVarRe:new RegExp("(".concat(Patterns.variable,")"),"g"),handler:function(){if(0===this.args.raw.length)return this.error("no story/temporary variable list specified");var valueCache={};try{for(var match,tsVarRe=this.self.tsVarRe;null!==(match=tsVarRe.exec(this.args.raw));){var varName=match[1],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;store.hasOwnProperty(varKey)&&(valueCache[varKey]=store[varKey]),this.addShadow(varName)}new Wikifier(this.output,this.payload[0].contents)}finally{this.shadows.forEach((function(varName){var varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary;valueCache.hasOwnProperty(varKey)?store[varKey]=valueCache[varKey]:delete store[varKey]}))}}}),Macro.add("set",{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("unset",{skipArgs:!0,jsVarRe:new RegExp("State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story/temporary variable list specified");for(var match,jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var store=State[match[1]],name=match[2];store.hasOwnProperty(name)&&delete store[name]}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remember",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}for(var match,remember=storage.get("remember")||{},jsVarRe=this.self.jsVarRe;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];remember[name]=State.variables[name]}if(!storage.set("remember",remember))return this.error("unknown error, cannot remember: ".concat(this.args.raw));Config.debug&&this.debugView.modes({hidden:!0})},init:function(){var remember=storage.get("remember");remember&&Object.keys(remember).forEach((function(name){return State.variables[name]=remember[name]}))}}),Macro.add("forget",{skipArgs:!0,jsVarRe:new RegExp("State\\.variables\\.(".concat(Patterns.identifier,")"),"g"),handler:function(){if(0===this.args.full.length)return this.error("no story variable list specified");for(var match,remember=storage.get("remember"),jsVarRe=this.self.jsVarRe,needStore=!1;null!==(match=jsVarRe.exec(this.args.full));){var name=match[1];State.variables.hasOwnProperty(name)&&delete State.variables[name],remember&&remember.hasOwnProperty(name)&&(needStore=!0,delete remember[name])}if(needStore)if(0===Object.keys(remember).length){if(!storage.delete("remember"))return this.error("unknown error, cannot update remember store")}else if(!storage.set("remember",remember))return this.error("unknown error, cannot update remember store");Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("run","set"),Macro.add("script",{skipArgs:!0,tags:null,handler:function(){var output=document.createDocumentFragment();try{Scripting.evalJavaScript(this.payload[0].contents,output)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}Config.debug&&this.createDebugView(),output.hasChildNodes()&&this.output.appendChild(output)}}),Macro.add("include",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?(Config.debug&&this.debugView.modes({block:!0}),passage=Story.get(passage),void(this.args[1]?jQuery(document.createElement(this.args[1])).addClass("".concat(passage.domId," macro-").concat(this.name)).attr("data-passage",passage.title).appendTo(this.output):jQuery(this.output)).wiki(passage.processText())):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("nobr",{skipArgs:!0,tags:null,handler:function(){new Wikifier(this.output,this.payload[0].contents.replace(/^\n+|\n+$/g,"").replace(/\n+/g," "))}}),Macro.add(["print","=","-"],{skipArgs:!0,handler:function(){if(0===this.args.full.length)return this.error("no expression specified");try{var result=stringFrom(Scripting.evalJavaScript(this.args.full));null!==result&&new Wikifier(this.output,"-"===this.name?Util.escape(result):result)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("silently",{skipArgs:!0,tags:null,handler:function(){var frag=document.createDocumentFragment();if(new Wikifier(frag,this.payload[0].contents.trim()),Config.debug)this.debugView.modes({block:!0,hidden:!0}),this.output.appendChild(frag);else{var errList=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent}));if(errList.length>0)return this.error("error".concat(1===errList.length?"":"s"," within contents (").concat(errList.join("; "),")"))}}}),Macro.add("type",{isAsync:!0,tags:null,typeId:0,handler:function(){if(0===this.args.length)return this.error("no speed specified");var cursor,speed=Util.fromCssTime(this.args[0]);if(speed<0)return this.error("speed time value must be non-negative (received: ".concat(this.args[0],")"));for(var elClass="",elId="",elTag="div",skipKey=Config.macros.typeSkipKey,start=400,options=this.args.slice(1);options.length>0;){var option=options.shift();switch(option){case"class":if(0===options.length)return this.error("class option missing required class name(s)");if(""===(elClass=options.shift()))throw new Error('class option class name(s) must be non-empty (received: "")');break;case"element":if(0===options.length)return this.error("element option missing required element tag name");if(""===(elTag=options.shift()))throw new Error('element option tag name must be non-empty (received: "")');break;case"id":if(0===options.length)return this.error("id option missing required ID");if(""===(elId=options.shift()))throw new Error('id option ID must be non-empty (received: "")');break;case"keep":cursor="keep";break;case"none":cursor="none";break;case"skipkey":if(0===options.length)return this.error("skipkey option missing required key value");if(""===(skipKey=options.shift()))throw new Error('skipkey option key value must be non-empty (received: "")');break;case"start":if(0===options.length)return this.error("start option missing required time value");var value=options.shift();if((start=Util.fromCssTime(value))<0)throw new Error("start option time value must be non-negative (received: ".concat(value,")"));break;default:return this.error("unknown option: ".concat(option))}}var contents=this.payload[0].contents;if(""!==contents.trim()){Config.debug&&this.debugView.modes({block:!0});var className="macro-".concat(this.name),namespace=".".concat(className),$target=jQuery(document.createElement(elTag)).addClass("".concat(className," ").concat(className,"-target")).appendTo(this.output);TempState.macroTypeQueue||(TempState.macroTypeQueue=[],$(document).off(namespace).one(":passageinit".concat(namespace),(function(){return $(document).off(namespace)})));var startTyping=0===TempState.macroTypeQueue.length,selfId=++this.self.typeId;TempState.macroTypeQueue.push({id:selfId,handler:function(){var $wrapper=jQuery(document.createElement(elTag)).addClass(className);elId&&$wrapper.attr("id",elId),elClass&&$wrapper.addClass(elClass),new Wikifier($wrapper,contents);var passage=State.passage,turn=State.turns;if(!Config.macros.typeVisitedPassages&&State.passages.slice(0,-1).some((function(title){return title===passage}))||$wrapper.find(".error").length>0)return $target.replaceWith($wrapper),TempState.macroTypeQueue.shift(),void(TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().handler());var typer=new NodeTyper({targetNode:$wrapper.get(0),classNames:"none"===cursor?null:"".concat(className,"-cursor")});$target.replaceWith($wrapper);var keydownAndNS="keydown".concat(namespace),typingStopAndNS="".concat(":typingstop").concat(namespace);$(document).off(keydownAndNS).on(keydownAndNS,(function(ev){Util.scrubEventKey(ev.key)!==skipKey||ev.target!==document.body&&ev.target!==document.documentElement||(ev.preventDefault(),$(document).off(keydownAndNS),typer.finish())})).one(typingStopAndNS,(function(){TempState.macroTypeQueue&&(0===TempState.macroTypeQueue.length?jQuery.event.trigger(":typingcomplete"):TempState.macroTypeQueue.first().handler())}));var typeNode=function(){var typeNodeMember=function(typeIntervalId){State.passage===passage&&State.turns===turn&&typer.type()||(typeIntervalId&&clearInterval(typeIntervalId),TempState.macroTypeQueue&&TempState.macroTypeQueue.length>0&&TempState.macroTypeQueue.first().id===selfId&&TempState.macroTypeQueue.shift(),$wrapper.trigger(":typingstop"),$wrapper.addClass("".concat(className,"-done")),"keep"===cursor&&$wrapper.addClass("".concat(className,"-cursor")))};$wrapper.trigger(":typingstart"),typeNodeMember();var typeNodeMemberId=setInterval((function(){return typeNodeMember(typeNodeMemberId)}),speed)};start?setTimeout(typeNode,start):typeNode()}}),startTyping&&(Engine.isPlaying()?$(document).one(":passageend".concat(namespace),(function(){return TempState.macroTypeQueue.first().handler()})):TempState.macroTypeQueue.first().handler())}}}),Macro.add("display","include"),Macro.add("if",{skipArgs:!0,tags:["elseif","else"],elseifWsRe:/^\s*if\b/i,ifAssignRe:/[^!=&^|<>*/%+-]=[^=>]/,handler:function(){var i;try{var len=this.payload.length,elseifWsRe=this.self.elseifWsRe,ifAssignRe=this.self.ifAssignRe;for(i=0;i<len;++i)if("else"===this.payload[i].name){if(this.payload[i].args.raw.length>0)return elseifWsRe.test(this.payload[i].args.raw)?this.error('whitespace is not allowed between the "else" and "if" in <<elseif>> clause'.concat(i>0?" (#"+i+")":"")):this.error("<<else>> does not accept a conditional expression (perhaps you meant to use <<elseif>>), invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<else>> must be the final clause")}else{if(0===this.payload[i].args.full.length)return this.error("no conditional expression specified for <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""));if(Config.macros.ifAssignmentError&&ifAssignRe.test(this.payload[i].args.full))return this.error("assignment operator found within <<".concat(this.payload[i].name,">> clause").concat(i>0?" (#"+i+")":""," (perhaps you meant to use an equality operator: ==, ===, eq, is), invalid: ").concat(this.payload[i].args.raw))}var evalJavaScript=Scripting.evalJavaScript,success=!1;for(i=0;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"else"===this.payload[i].name||evalJavaScript(this.payload[i].args.full)){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!success,invalid:!success})}}catch(ex){return this.error("bad conditional expression in <<".concat(0===i?"if":"elseif",">> clause").concat(i>0?" (#"+i+")":"",": ").concat("object"===_typeof(ex)?ex.message:ex))}}}),Macro.add("switch",{skipArgs:["switch"],tags:["case","default"],handler:function(){if(0===this.args.full.length)return this.error("no expression specified");var i,result,len=this.payload.length;if(1===len)return this.error("no cases specified");for(i=1;i<len;++i)if("default"===this.payload[i].name){if(this.payload[i].args.length>0)return this.error("<<default>> does not accept values, invalid: ".concat(this.payload[i].args.raw));if(i+1!==len)return this.error("<<default>> must be the final case")}else if(0===this.payload[i].args.length)return this.error("no value(s) specified for <<".concat(this.payload[i].name,">> (#").concat(i,")"));try{result=Scripting.evalJavaScript(this.args.full)}catch(ex){return this.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}var debugView=this.debugView,success=!1;for(Config.debug&&debugView.modes({nonvoid:!1,hidden:!0}),i=1;i<len;++i){if(Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1}),"default"===this.payload[i].name||this.payload[i].args.some((function(val){return val===result}))){success=!0,new Wikifier(this.output,this.payload[i].contents);break}Config.debug&&this.debugView.modes({hidden:!0,invalid:!0})}if(Config.debug){for(++i;i<len;++i)this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0,invalid:!0});debugView.modes({nonvoid:!1,hidden:!0,invalid:!success}),this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0,invalid:!success})}}}),Macro.add("for",{skipArgs:!0,tags:null,hasRangeRe:new RegExp("^\\S".concat(Patterns.anyChar,"*?\\s+range\\s+\\S").concat(Patterns.anyChar,"*?$")),rangeRe:new RegExp("^(?:State\\.(variables|temporary)\\.(".concat(Patterns.identifier,")\\s*,\\s*)?State\\.(variables|temporary)\\.(").concat(Patterns.identifier,")\\s+range\\s+(\\S").concat(Patterns.anyChar,"*?)$")),threePartRe:/^([^;]*?)\s*;\s*([^;]*?)\s*;\s*([^;]*?)$/,forInRe:/^\S+\s+in\s+\S+/i,forOfRe:/^\S+\s+of\s+\S+/i,handler:function(){var argsStr=this.args.full.trim(),payload=this.payload[0].contents.replace(/\n$/,"");if(0===argsStr.length)this.self.handleFor.call(this,payload,null,!0,null);else if(this.self.hasRangeRe.test(argsStr)){var parts=argsStr.match(this.self.rangeRe);if(null===parts)return this.error("invalid range form syntax, format: [index ,] value range collection");this.self.handleForRange.call(this,payload,{type:parts[1],name:parts[2]},{type:parts[3],name:parts[4]},parts[5])}else{var init,condition,post;if(-1===argsStr.indexOf(";")){if(this.self.forInRe.test(argsStr))return this.error("invalid syntax, for…in is not supported; see: for…range");if(this.self.forOfRe.test(argsStr))return this.error("invalid syntax, for…of is not supported; see: for…range");condition=argsStr}else{var _parts=argsStr.match(this.self.threePartRe);if(null===_parts)return this.error("invalid 3-part conditional form syntax, format: [init] ; [condition] ; [post]");init=_parts[1],condition=_parts[2].trim(),post=_parts[3],0===condition.length&&(condition=!0)}this.self.handleFor.call(this,payload,init,condition,post)}},handleFor:function(payload,init,condition,post){var evalJavaScript=Scripting.evalJavaScript,first=!0,safety=Config.macros.maxLoopIterations;Config.debug&&this.debugView.modes({block:!0});try{if(TempState.break=null,init)try{evalJavaScript(init)}catch(ex){return this.error("bad init expression: ".concat("object"===_typeof(ex)?ex.message:ex))}for(;evalJavaScript(condition);){if(--safety<0)return this.error("exceeded configured maximum loop iterations (".concat(Config.macros.maxLoopIterations,")"));if(new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}if(post)try{evalJavaScript(post)}catch(ex){return this.error("bad post expression: ".concat("object"===_typeof(ex)?ex.message:ex))}}}catch(ex){return this.error("bad conditional expression: ".concat("object"===_typeof(ex)?ex.message:ex))}finally{TempState.break=null}},handleForRange:function(payload,indexVar,valueVar,rangeExp){var rangeList,first=!0;try{rangeList=this.self.toRangeList(rangeExp)}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});try{TempState.break=null;for(var i=0;i<rangeList.length;++i)if(indexVar.name&&(State[indexVar.type][indexVar.name]=rangeList[i][0]),State[valueVar.type][valueVar.name]=rangeList[i][1],new Wikifier(this.output,first?payload.replace(/^\n/,""):payload),first&&(first=!1),null!=TempState.break)if(1===TempState.break)TempState.break=null;else if(2===TempState.break){TempState.break=null;break}}catch(ex){return this.error("object"===_typeof(ex)?ex.message:ex)}finally{TempState.break=null}},toRangeList:function(rangeExp){var value,list,evalJavaScript=Scripting.evalJavaScript;try{value=evalJavaScript("{"===rangeExp[0]?"(".concat(rangeExp,")"):rangeExp)}catch(ex){if("object"!==_typeof(ex))throw new Error("bad range expression: ".concat(ex));throw ex.message="bad range expression: ".concat(ex.message),ex}switch(_typeof(value)){case"string":list=[];for(var i=0;i<value.length;){var obj=Util.charAndPosAt(value,i);list.push([i,obj.char]),i=1+obj.end}break;case"object":if(Array.isArray(value))list=value.map((function(val,i){return[i,val]}));else if(value instanceof Set)list=_toConsumableArray(value).map((function(val,i){return[i,val]}));else if(value instanceof Map)list=_toConsumableArray(value.entries());else{if("Object"!==Util.toStringTag(value))throw new Error("unsupported range expression type: ".concat(Util.toStringTag(value)));list=Object.keys(value).map((function(key){return[key,value[key]]}))}break;default:throw new Error("unsupported range expression type: ".concat(_typeof(value)))}return list}}),Macro.add(["break","continue"],{skipArgs:!0,handler:function(){if(!this.contextHas((function(ctx){return"for"===ctx.name})))return this.error("must only be used in conjunction with its parent macro <<for>>");TempState.break="continue"===this.name?1:2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["button","link"],{isAsync:!0,tags:null,handler:function(){var _this15=this;if(0===this.args.length)return this.error("no ".concat("button"===this.name?"button":"link"," text specified"));var passage,$link=jQuery(document.createElement("button"===this.name?"button":"a"));if("object"===_typeof(this.args[0]))if(this.args[0].isImage){var $image=jQuery(document.createElement("img")).attr("src",this.args[0].source).appendTo($link);$link.addClass("link-image"),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link}else $link.append(document.createTextNode(this.args[0].text)),passage=this.args[0].link;else $link.wikiWithOptions({profile:"core"},this.args[0]),passage=this.args.length>1?this.args[1]:undefined;null!=passage?($link.attr("data-passage",passage),Story.has(passage)?($link.addClass("link-internal"),Config.addVisitedLinkClass&&State.hasPlayed(passage)&&$link.addClass("link-visited")):$link.addClass("link-broken")):$link.addClass("link-internal"),$link.addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:null!=passage?"link":"button",one:null!=passage},this.createShadowWrapper(""!==this.payload[0].contents?function(){return Wikifier.wikifyEval(_this15.payload[0].contents.trim())}:null,null!=passage?function(){return Engine.play(passage)}:null)).appendTo(this.output)}}),Macro.add("checkbox",{isAsync:!0,handler:function(){if(this.args.length<3){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("unchecked value"),this.args.length<3&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),uncheckValue=this.args[1],checkValue=this.args[2],el=document.createElement("input");switch(jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:"checkbox",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.checked?checkValue:uncheckValue)}))).appendTo(this.output),this.args[3]){case"autocheck":State.getVar(varName)===checkValue?el.checked=!0:State.setVar(varName,uncheckValue);break;case"checked":el.checked=!0,State.setVar(varName,checkValue);break;default:State.setVar(varName,uncheckValue)}}}),Macro.add(["cycle","listbox"],{isAsync:!0,skipArgs:["optionsfrom"],tags:["option","optionsfrom"],handler:function(){var _this16=this;if(0===this.args.length)return this.error("no variable name specified");if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),len=this.payload.length;if(1===len)return this.error("no options specified");for(var config={autoselect:!1,once:!1},i=1;i<this.args.length;++i){var arg=this.args[i];switch(arg){case"once":config.once=!0;break;case"autoselect":config.autoselect=!0;break;default:return this.error("unknown argument: ".concat(arg))}}for(var options=[],tagCount={option:0,optionsfrom:0},selectedIdx=-1,_i5=1;_i5<len;++_i5){var payload=this.payload[_i5];if("option"===payload.name){if(++tagCount.option,0===payload.args.length)return this.error("no arguments specified for <<".concat(payload.name,">> (#").concat(tagCount.option,")"));var option={label:String(payload.args[0])},isSelected=!1;switch(payload.args.length){case 1:option.value=payload.args[0];break;case 2:"selected"===payload.args[1]?(option.value=payload.args[0],isSelected=!0):option.value=payload.args[1];break;default:option.value=payload.args[1],"selected"===payload.args[2]&&(isSelected=!0)}if(options.push(option),isSelected){if(config.autoselect)return this.error("cannot specify both the autoselect and selected keywords");if(-1!==selectedIdx)return this.error("multiple selected keywords specified for <<".concat(payload.name,">> (#").concat(selectedIdx+1," & #").concat(tagCount.option,")"));selectedIdx=options.length-1}}else{var _ret=function(){if(++tagCount.optionsfrom,0===payload.args.full.length)return{v:_this16.error("no expression specified for <<".concat(payload.name,">> (#").concat(tagCount.optionsfrom,")"))};var result=void 0;try{var exp=payload.args.full;result=Scripting.evalJavaScript("{"===exp[0]?"(".concat(exp,")"):exp)}catch(ex){return{v:_this16.error("bad evaluation: ".concat("object"===_typeof(ex)?ex.message:ex))}}if("object"!==_typeof(result)||null===result)return{v:_this16.error("expression must yield a supported collection or generic object (type: ".concat(null===result?"null":_typeof(result),")"))};if(result instanceof Array||result instanceof Set)result.forEach((function(val){return options.push({label:String(val),value:val})}));else if(result instanceof Map)result.forEach((function(val,key){return options.push({label:String(key),value:val})}));else{var oType=Util.toStringTag(result);if("Object"!==oType)return{v:_this16.error("expression must yield a supported collection or generic object (object type: ".concat(oType,")"))};Object.keys(result).forEach((function(key){return options.push({label:key,value:result[key]})}))}}();if("object"===_typeof(_ret))return _ret.v}}if(-1===selectedIdx)if(config.autoselect){var sameValueZero=Util.sameValueZero,curValue=State.getVar(varName),curValueIdx=options.findIndex((function(opt){return sameValueZero(opt.value,curValue)}));selectedIdx=-1===curValueIdx?0:curValueIdx}else selectedIdx=0;if("cycle"===this.name){var lastIdx=options.length-1;if(config.once&&selectedIdx===lastIdx)jQuery(this.output).wikiWithOptions({profile:"core"},options[selectedIdx].label);else{var cycleIdx=selectedIdx;jQuery(document.createElement("a")).wikiWithOptions({profile:"core"},options[selectedIdx].label).attr("id","".concat(this.name,"-").concat(varId)).addClass("macro-".concat(this.name)).ariaClick({namespace:".macros",role:"button"},this.createShadowWrapper((function(){var $this=$(this);cycleIdx=(cycleIdx+1)%options.length,State.setVar(varName,options[cycleIdx].value),$this.empty().wikiWithOptions({profile:"core"},options[cycleIdx].label),config.once&&cycleIdx===lastIdx&&$this.off().contents().unwrap()}))).appendTo(this.output)}}else{var $select=jQuery(document.createElement("select"));options.forEach((function(opt,i){jQuery(document.createElement("option")).val(i).text(opt.label).appendTo($select)})),$select.attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),tabindex:0}).addClass("macro-".concat(this.name)).val(selectedIdx).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,options[Number(this.value)].value)}))).appendTo(this.output)}State.setVar(varName,options[selectedIdx].value)}}),Macro.add(["linkappend","linkprepend","linkreplace"],{isAsync:!0,tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this17=this;if(0===this.args.length)return this.error("no link text specified");var $link=jQuery(document.createElement("a")),$insert=jQuery(document.createElement("span")),transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]);$link.wikiWithOptions({profile:"core"},this.args[0]).addClass("link-internal macro-".concat(this.name)).ariaClick({namespace:".macros",one:!0},this.createShadowWrapper((function(){if("linkreplace"===_this17.name?$link.remove():$link.wrap('<span class="macro-'.concat(_this17.name,'"></span>')).replaceWith((function(){return $link.html()})),""!==_this17.payload[0].contents){var frag=document.createDocumentFragment();new Wikifier(frag,_this17.payload[0].contents),$insert.append(frag)}transition&&setTimeout((function(){return $insert.removeClass("macro-".concat(_this17.name,"-in"))}),Engine.minDomActionDelay)}))).appendTo(this.output),$insert.addClass("macro-".concat(this.name,"-insert")),transition&&$insert.addClass("macro-".concat(this.name,"-in")),"linkprepend"===this.name?$insert.insertBefore($link):$insert.insertAfter($link)}}),Macro.add(["numberbox","textbox"],{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var asNumber="numberbox"===this.name,defaultValue=asNumber?Number(this.args[1]):this.args[1];if(asNumber&&Number.isNaN(defaultValue))return this.error('default value "'.concat(this.args[1],'" is neither a number nor can it be parsed into a number'));var passage,varId=Util.slugify(varName),el=document.createElement("input"),autofocus=!1;this.args.length>3?(passage=this.args[2],autofocus="autofocus"===this.args[3]):this.args.length>2&&("autofocus"===this.args[2]?autofocus=!0:passage=this.args[2]),"object"===_typeof(passage)&&(passage=passage.link),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),type:asNumber?"number":"text",inputmode:asNumber?"decimal":"text",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,asNumber?Number(this.value):this.value)}))).on("keypress.macros",this.createShadowWrapper((function(ev){13===ev.which&&(ev.preventDefault(),State.setVar(varName,asNumber?Number(this.value):this.value),null!=passage&&Engine.play(passage))}))).appendTo(this.output),asNumber&&(el.step="any"),State.setVar(varName,defaultValue),el.value=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("radiobutton",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("checked value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));var varId=Util.slugify(varName),checkValue=this.args[1],el=document.createElement("input");switch(TempState.hasOwnProperty(this.name)||(TempState[this.name]={}),TempState[this.name].hasOwnProperty(varId)||(TempState[this.name][varId]=0),jQuery(el).attr({id:"".concat(this.name,"-").concat(varId,"-").concat(TempState[this.name][varId]++),name:"".concat(this.name,"-").concat(varId),type:"radio",tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){this.checked&&State.setVar(varName,checkValue)}))).appendTo(this.output),this.args[2]){case"autocheck":State.getVar(varName)===checkValue&&(el.checked=!0);break;case"checked":el.checked=!0,State.setVar(varName,checkValue)}}}),Macro.add("textarea",{isAsync:!0,handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("variable name"),this.args.length<2&&errors.push("default value"),this.error("no ".concat(errors.join(" or ")," specified"))}if("string"!=typeof this.args[0])return this.error("variable name argument is not a string");var varName=this.args[0].trim();if("$"!==varName[0]&&"_"!==varName[0])return this.error('variable name "'.concat(this.args[0],'" is missing its sigil ($ or _)'));Config.debug&&this.debugView.modes({block:!0});var varId=Util.slugify(varName),defaultValue=this.args[1],autofocus="autofocus"===this.args[2],el=document.createElement("textarea");jQuery(el).attr({id:"".concat(this.name,"-").concat(varId),name:"".concat(this.name,"-").concat(varId),rows:4,tabindex:0}).addClass("macro-".concat(this.name)).on("change.macros",this.createShadowWrapper((function(){State.setVar(varName,this.value)}))).appendTo(this.output),State.setVar(varName,defaultValue),el.textContent=defaultValue,autofocus&&(el.setAttribute("autofocus","autofocus"),postdisplay["#autofocus:".concat(el.id)]=function(task){delete postdisplay[task],setTimeout((function(){return el.focus()}),Engine.minDomActionDelay)})}}),Macro.add("click","link"),Macro.add("actions",{handler:function(){for(var $list=jQuery(document.createElement("ul")).addClass(this.name).appendTo(this.output),i=0;i<this.args.length;++i){var passage=void 0,text=void 0,$image=void 0,setFn=void 0;if("object"===_typeof(this.args[i])?this.args[i].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[i].source),this.args[i].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[i].passage),this.args[i].hasOwnProperty("title")&&$image.attr("title",this.args[i].title),this.args[i].hasOwnProperty("align")&&$image.attr("align",this.args[i].align),passage=this.args[i].link,setFn=this.args[i].setFn):(text=this.args[i].text,passage=this.args[i].link,setFn=this.args[i].setFn):text=passage=this.args[i],!(State.variables.hasOwnProperty("#actions")&&State.variables["#actions"].hasOwnProperty(passage)&&State.variables["#actions"][passage])){var $link=jQuery(Wikifier.createInternalLink(jQuery(document.createElement("li")).appendTo($list),passage,null,function(passage,fn){return function(){State.variables.hasOwnProperty("#actions")||(State.variables["#actions"]={}),State.variables["#actions"][passage]=!0,"function"==typeof fn&&fn()}}(passage,setFn))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text));$image&&$link.addClass("link-image")}}}}),Macro.add(["back","return"],{handler:function(){if(this.args.length>1)return this.error("too many arguments specified, check the documentation for details");var passage,text,$image,$link,momentIndex=-1;if(1===this.args.length&&("object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),this.args[0].hasOwnProperty("link")&&(passage=this.args[0].link)):(1===this.args[0].count||(text=this.args[0].text),passage=this.args[0].link):1===this.args.length&&(text=this.args[0])),null==passage){for(var i=State.length-2;i>=0;--i)if(State.history[i].title!==State.passage){momentIndex=i,passage=State.history[i].title;break}if(null==passage&&"return"===this.name)for(var _i6=State.expired.length-1;_i6>=0;--_i6)if(State.expired[_i6]!==State.passage){passage=State.expired[_i6];break}}else{if(!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));if("back"===this.name){for(var _i7=State.length-2;_i7>=0;--_i7)if(State.history[_i7].title===passage){momentIndex=_i7;break}if(-1===momentIndex)return this.error('cannot find passage "'.concat(passage,'" in the current story history'))}}if(null==passage)return this.error("cannot find passage");"back"!==this.name||-1!==momentIndex?($link=jQuery(document.createElement("a")).addClass("link-internal").ariaClick({one:!0},"return"===this.name?function(){return Engine.play(passage)}:function(){return Engine.goTo(momentIndex)}),$image&&$link.addClass("link-image")):$link=jQuery(document.createElement("span")).addClass("link-disabled"),$link.addClass("macro-".concat(this.name)).append($image||document.createTextNode(text||L10n.get("macro".concat(this.name.toUpperFirst(),"Text")))).appendTo(this.output)}}),Macro.add("choice",{handler:function(){if(0===this.args.length)return this.error("no passage specified");var passage,text,$image,setFn,$link,choiceId=State.passage;if(1===this.args.length?"object"===_typeof(this.args[0])?this.args[0].isImage?($image=jQuery(document.createElement("img")).attr("src",this.args[0].source),this.args[0].hasOwnProperty("passage")&&$image.attr("data-passage",this.args[0].passage),this.args[0].hasOwnProperty("title")&&$image.attr("title",this.args[0].title),this.args[0].hasOwnProperty("align")&&$image.attr("align",this.args[0].align),passage=this.args[0].link,setFn=this.args[0].setFn):(text=this.args[0].text,passage=this.args[0].link,setFn=this.args[0].setFn):text=passage=this.args[0]:(passage=this.args[0],text=this.args[1]),State.variables.hasOwnProperty("#choice")&&State.variables["#choice"].hasOwnProperty(choiceId)&&State.variables["#choice"][choiceId])return $link=jQuery(document.createElement("span")).addClass("link-disabled macro-".concat(this.name)).attr("tabindex",-1).append($image||document.createTextNode(text)).appendTo(this.output),void($image&&$link.addClass("link-image"));$link=jQuery(Wikifier.createInternalLink(this.output,passage,null,(function(){State.variables.hasOwnProperty("#choice")||(State.variables["#choice"]={}),State.variables["#choice"][choiceId]=!0,"function"==typeof setFn&&setFn()}))).addClass("macro-".concat(this.name)).append($image||document.createTextNode(text)),$image&&$link.addClass("link-image")}}),Macro.add(["addclass","toggleclass"],{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("selector"),this.args.length<2&&errors.push("class names"),this.error("no ".concat(errors.join(" or ")," specified"))}var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));switch(this.name){case"addclass":$targets.addClass(this.args[1].trim());break;case"toggleclass":$targets.toggleClass(this.args[1].trim())}Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeclass",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));this.args.length>1?$targets.removeClass(this.args[1].trim()):$targets.removeClass(),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("copy",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));jQuery(this.output).append($targets.html()),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add(["append","prepend","replace"],{tags:null,t8nRe:/^(?:transition|t8n)$/,handler:function(){var _this18=this;if(0===this.args.length)return this.error("no selector specified");var $insert,$targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));if(""!==this.payload[0].contents)switch(this.args.length>1&&this.self.t8nRe.test(this.args[1])?(($insert=jQuery(document.createElement("span"))).addClass("macro-".concat(this.name,"-insert macro-").concat(this.name,"-in")),setTimeout((function(){return $insert.removeClass("macro-".concat(_this18.name,"-in"))}),Engine.minDomActionDelay)):$insert=jQuery(document.createDocumentFragment()),$insert.wiki(this.payload[0].contents),this.name){case"replace":$targets.empty();case"append":$targets.append($insert);break;case"prepend":$targets.prepend($insert)}else"replace"===this.name&&$targets.empty();Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("remove",{handler:function(){if(0===this.args.length)return this.error("no selector specified");var $targets=jQuery(this.args[0]);if(0===$targets.length)return this.error('no elements matched the selector "'.concat(this.args[0],'"'));$targets.remove(),Config.debug&&this.debugView.modes({hidden:!0})}}),Has.audio){var errorOnePlaybackAction=function(cur,prev){return'only one playback action allowed per invocation, "'.concat(cur,'" cannot be combined with "').concat(prev,'"')};Macro.add("audio",{handler:function(){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track and/or group IDs"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var selected;try{selected=SimpleAudio.select(this.args[0])}catch(ex){return this.error(ex.message)}for(var action,fadeTo,loop,mute,passage,time,volume,args=this.args.slice(1),fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors=[];return args.length<1&&_errors.push("seconds"),args.length<2&&_errors.push("level"),this.error("fadeoverto missing required ".concat(_errors.join(" and ")," value").concat(_errors.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"time":if(0===args.length)return this.error("time missing required seconds value");if(raw=args.shift(),time=Number.parseFloat(raw),Number.isNaN(time)||!Number.isFinite(time))return this.error("cannot parse time: ".concat(raw));break;case"loop":case"unloop":loop="loop"===arg;break;case"goto":if(0===args.length)return this.error("goto missing required passage title");if(raw=args.shift(),passage="object"===_typeof(raw)?raw.link:raw,!Story.has(passage))return this.error('passage "'.concat(passage,'" does not exist'));break;default:return this.error("unknown action: ".concat(arg))}}try{if(null!=volume&&selected.volume(volume),null!=time&&selected.time(time),null!=mute&&selected.mute(mute),null!=loop&&selected.loop(loop),null!=passage){var nsEnded="ended.macros.macro-".concat(this.name,"_goto");selected.off(nsEnded).one(nsEnded,(function(){selected.off(nsEnded),Engine.play(passage)}))}switch(action){case"fade":selected.fade(fadeOver,fadeTo);break;case"load":selected.load();break;case"pause":selected.pause();break;case"play":selected.playWhenAllowed();break;case"stop":selected.stop();break;case"unload":selected.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("cacheaudio",{handler:function(){var _this19=this;if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("track ID"),this.args.length<2&&errors.push("sources"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim(),oldFmtRe=/^format:\s*([\w-]+)\s*;\s*/i;try{SimpleAudio.tracks.add(id,this.args.slice(1).map((function(source){if(oldFmtRe.test(source)){if(Config.debug)return _this19.error('track ID "'.concat(id,'": format specifier migration required, "format:formatId;" → "formatId|"'));source=source.replace(oldFmtRe,"$1|")}return source})))}catch(ex){return this.error(ex.message)}if(Config.debug&&!SimpleAudio.tracks.get(id).hasSource())return this.error('track ID "'.concat(id,'": no supported audio sources found'));Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("createaudiogroup",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no group ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var groupId=String(this.args[0]).trim(),trackIds=[],i=1,len=this.payload.length;i<len;++i){if(this.payload[i].args.length<1)return this.error("no track ID specified");trackIds.push(String(this.payload[i].args[0]).trim()),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.groups.add(groupId,trackIds)}catch(ex){return this.error(ex.message)}Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("createplaylist",{tags:["track"],handler:function(){if(0===this.args.length)return this.error("no list ID specified");if(1===this.payload.length)return this.error("no tracks defined via <<track>>");var playlist=Macro.get("playlist");if(null!==playlist.from&&"createplaylist"!==playlist.from)return this.error("a playlist has already been defined with <<setplaylist>>");Config.debug&&this.debugView.modes({nonvoid:!1,hidden:!0});for(var listId=String(this.args[0]).trim(),trackObjs=[],i=1,len=this.payload.length;i<len;++i){if(0===this.payload[i].args.length)return this.error("no track ID specified");for(var trackObj={id:String(this.payload[i].args[0]).trim()},args=this.payload[i].args.slice(1);args.length>0;){var arg=args.shift(),raw=void 0,parsed=void 0;switch(arg){case"copy":case"own":trackObj.own=!0;break;case"rate":args.length>0&&args.shift();break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),parsed=Number.parseFloat(raw),Number.isNaN(parsed)||!Number.isFinite(parsed))return this.error("cannot parse volume: ".concat(raw));trackObj.volume=parsed;break;default:return this.error("unknown action: ".concat(arg))}}trackObjs.push(trackObj),Config.debug&&this.createDebugView(this.payload[i].name,this.payload[i].source).modes({nonvoid:!1,hidden:!0})}try{SimpleAudio.lists.add(listId,trackObjs)}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="createplaylist"),Config.debug&&this.createDebugView("/".concat(this.name),"<</".concat(this.name,">>")).modes({nonvoid:!1,hidden:!0})}}),Macro.add("masteraudio",{handler:function(){if(0===this.args.length)return this.error("no actions specified");for(var action,mute,muteOnHide,volume,args=this.args.slice(0);args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"mute":case"unmute":mute="mute"===arg;break;case"muteonhide":case"nomuteonhide":muteOnHide="muteonhide"===arg;break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=mute&&SimpleAudio.mute(mute),null!=muteOnHide&&SimpleAudio.muteOnHidden(muteOnHide),null!=volume&&SimpleAudio.volume(volume),action){case"load":SimpleAudio.load();break;case"stop":SimpleAudio.stop();break;case"unload":SimpleAudio.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("playlist",{from:null,handler:function(){var list,args,action,from=this.self.from;if(null===from)return this.error("no playlists have been created");if("createplaylist"===from){if(this.args.length<2){var errors=[];return this.args.length<1&&errors.push("list ID"),this.args.length<2&&errors.push("actions"),this.error("no ".concat(errors.join(" or ")," specified"))}var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));list=SimpleAudio.lists.get(id),args=this.args.slice(1)}else{if(0===this.args.length)return this.error("no actions specified");list=SimpleAudio.lists.get("setplaylist"),args=this.args.slice(0)}for(var fadeTo,loop,mute,shuffle,volume,fadeOver=5;args.length>0;){var arg=args.shift(),raw=void 0;switch(arg){case"load":case"pause":case"play":case"skip":case"stop":case"unload":if(action)return this.error(errorOnePlaybackAction(arg,action));action=arg;break;case"fadein":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=1;break;case"fadeout":if(action)return this.error(errorOnePlaybackAction(arg,action));action="fade",fadeTo=0;break;case"fadeto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(0===args.length)return this.error("fadeto missing required level value");if(action="fade",raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeto: ".concat(raw));break;case"fadeoverto":if(action)return this.error(errorOnePlaybackAction(arg,action));if(args.length<2){var _errors2=[];return args.length<1&&_errors2.push("seconds"),args.length<2&&_errors2.push("level"),this.error("fadeoverto missing required ".concat(_errors2.join(" and ")," value").concat(_errors2.length>1?"s":""))}if(action="fade",raw=args.shift(),fadeOver=Number.parseFloat(raw),Number.isNaN(fadeOver)||!Number.isFinite(fadeOver))return this.error("cannot parse fadeoverto: ".concat(raw));if(raw=args.shift(),fadeTo=Number.parseFloat(raw),Number.isNaN(fadeTo)||!Number.isFinite(fadeTo))return this.error("cannot parse fadeoverto: ".concat(raw));break;case"volume":if(0===args.length)return this.error("volume missing required level value");if(raw=args.shift(),volume=Number.parseFloat(raw),Number.isNaN(volume)||!Number.isFinite(volume))return this.error("cannot parse volume: ".concat(raw));break;case"mute":case"unmute":mute="mute"===arg;break;case"loop":case"unloop":loop="loop"===arg;break;case"shuffle":case"unshuffle":shuffle="shuffle"===arg;break;default:return this.error("unknown action: ".concat(arg))}}try{switch(null!=volume&&list.volume(volume),null!=mute&&list.mute(mute),null!=loop&&list.loop(loop),null!=shuffle&&list.shuffle(shuffle),action){case"fade":list.fade(fadeOver,fadeTo);break;case"load":list.load();break;case"pause":list.pause();break;case"play":list.playWhenAllowed();break;case"skip":list.skip();break;case"stop":list.stop();break;case"unload":list.unload()}Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error("error executing action: ".concat(ex.message))}}}),Macro.add("removeaudiogroup",{handler:function(){if(0===this.args.length)return this.error("no group ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.groups.has(id))return this.error('group "'.concat(id,'" does not exist'));SimpleAudio.groups.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("removeplaylist",{handler:function(){if(0===this.args.length)return this.error("no list ID specified");var id=String(this.args[0]).trim();if(!SimpleAudio.lists.has(id))return this.error('playlist "'.concat(id,'" does not exist'));SimpleAudio.lists.delete(id),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("waitforaudio",{skipArgs:!0,handler:function(){SimpleAudio.loadWithScreen()}}),Macro.add("setplaylist",{handler:function(){if(0===this.args.length)return this.error("no track ID(s) specified");var playlist=Macro.get("playlist");if(null!==playlist.from&&"setplaylist"!==playlist.from)return this.error("playlists have already been defined with <<createplaylist>>");try{SimpleAudio.lists.add("setplaylist",this.args.slice(0))}catch(ex){return this.error(ex.message)}null===playlist.from&&(playlist.from="setplaylist"),Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("stopallaudio",{skipArgs:!0,handler:function(){SimpleAudio.select(":all").stop(),Config.debug&&this.debugView.modes({hidden:!0})}})}else Macro.add(["audio","cacheaudio","createaudiogroup","createplaylist","masteraudio","playlist","removeaudiogroup","removeplaylist","waitforaudio","setplaylist","stopallaudio"],{skipArgs:!0,handler:function(){Config.debug&&this.debugView.modes({hidden:!0})}});Macro.add("done",{skipArgs:!0,tags:null,handler:function(){var contents=this.payload[0].contents.trim();""!==contents&&setTimeout(this.createShadowWrapper((function(){return $.wiki(contents)})),Engine.minDomActionDelay)}}),Macro.add("goto",{handler:function(){return 0===this.args.length?this.error("no passage specified"):(passage="object"===_typeof(this.args[0])?this.args[0].link:this.args[0],Story.has(passage)?void setTimeout((function(){return Engine.play(passage)}),Engine.minDomActionDelay):this.error('passage "'.concat(passage,'" does not exist')));var passage}}),Macro.add("repeat",{isAsync:!0,tags:null,timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){var delay,_this20=this;if(0===this.args.length)return this.error("no time value specified");try{delay=Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0]))}catch(ex){return this.error(ex.message)}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerInterval(this.createShadowWrapper((function(){var frag=document.createDocumentFragment();new Wikifier(frag,_this20.payload[0].contents);var $output=$wrapper;transition&&($output=jQuery(document.createElement("span")).addClass("macro-repeat-insert macro-repeat-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-repeat-in")}),Engine.minDomActionDelay)})),delay)},registerInterval:function(callback,delay){var _this21=this;if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null;timerId=setInterval((function(){if(State.passage!==passage||State.turns!==turn)return clearInterval(timerId),void timers.delete(timerId);var timerIdCache;try{TempState.break=null,TempState.hasOwnProperty("repeatTimerId")&&(timerIdCache=TempState.repeatTimerId),TempState.repeatTimerId=timerId,callback.call(_this21)}finally{void 0!==timerIdCache?TempState.repeatTimerId=timerIdCache:delete TempState.repeatTimerId,TempState.break=null}}),delay),timers.add(timerId),prehistory.hasOwnProperty("#repeat-timers-cleanup")||(prehistory["#repeat-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearInterval(timerId)})),timers.clear()})}}),Macro.add("stop",{skipArgs:!0,handler:function(){if(!TempState.hasOwnProperty("repeatTimerId"))return this.error("must only be used in conjunction with its parent macro <<repeat>>");var timers=Macro.get("repeat").timers,timerId=TempState.repeatTimerId;clearInterval(timerId),timers.delete(timerId),TempState.break=2,Config.debug&&this.debugView.modes({hidden:!0})}}),Macro.add("timed",{isAsync:!0,tags:["next"],timers:new Set,t8nRe:/^(?:transition|t8n)$/,handler:function(){if(0===this.args.length)return this.error("no time value specified in <<timed>>");var i,items=[];try{items.push({name:this.name,source:this.source,delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.args[0])),content:this.payload[0].contents})}catch(ex){return this.error("".concat(ex.message," in <<timed>>"))}if(this.payload.length>1)try{var len;for(i=1,len=this.payload.length;i<len;++i)items.push({name:this.payload[i].name,source:this.payload[i].source,delay:0===this.payload[i].args.length?items[items.length-1].delay:Math.max(Engine.minDomActionDelay,Util.fromCssTime(this.payload[i].args[0])),content:this.payload[i].contents})}catch(ex){return this.error("".concat(ex.message," in <<next>> (#").concat(i,")"))}Config.debug&&this.debugView.modes({block:!0});var transition=this.args.length>1&&this.self.t8nRe.test(this.args[1]),$wrapper=jQuery(document.createElement("span")).addClass("macro-".concat(this.name)).appendTo(this.output);this.self.registerTimeout(this.createShadowWrapper((function(item){var frag=document.createDocumentFragment();new Wikifier(frag,item.content);var $output=$wrapper;Config.debug&&"next"===item.name&&($output=jQuery(new DebugView($output[0],"macro",item.name,item.source).output)),transition&&($output=jQuery(document.createElement("span")).addClass("macro-timed-insert macro-timed-in").appendTo($output)),$output.append(frag),transition&&setTimeout((function(){return $output.removeClass("macro-timed-in")}),Engine.minDomActionDelay)})),items)},registerTimeout:function(callback,items){if("function"!=typeof callback)throw new TypeError("callback parameter must be a function");var passage=State.passage,turn=State.turns,timers=this.timers,timerId=null,nextItem=items.shift();timerId=setTimeout((function worker(){if(timers.delete(timerId),State.passage===passage&&State.turns===turn){var curItem=nextItem;null!=(nextItem=items.shift())&&(timerId=setTimeout(worker,nextItem.delay),timers.add(timerId)),callback.call(this,curItem)}}),nextItem.delay),timers.add(timerId),prehistory.hasOwnProperty("#timed-timers-cleanup")||(prehistory["#timed-timers-cleanup"]=function(task){delete prehistory[task],timers.forEach((function(timerId){return clearTimeout(timerId)})),timers.clear()})}}),Macro.add("widget",{tags:null,handler:function(){if(0===this.args.length)return this.error("no widget name specified");var widgetCode,widgetName=this.args[0],isNonVoid=this.args.length>1&&"container"===this.args[1];if(Macro.has(widgetName)){if(!Macro.get(widgetName).isWidget)return this.error('cannot clobber existing macro "'.concat(widgetName,'"'));Macro.delete(widgetName)}try{var widgetDef={isWidget:!0,handler:(widgetCode=this.payload[0].contents,function(){var shadowStore={};State.temporary.hasOwnProperty("args")&&(shadowStore._args=State.temporary.args),State.temporary.args=_toConsumableArray(this.args),State.temporary.args.raw=this.args.raw,State.temporary.args.full=this.args.full,this.addShadow("_args"),isNonVoid&&(State.temporary.hasOwnProperty("contents")&&(shadowStore._contents=State.temporary.contents),State.temporary.contents=this.payload[0].contents,this.addShadow("_contents")),State.variables.hasOwnProperty("args")&&(shadowStore.$args=State.variables.args),State.variables.args=State.temporary.args,this.addShadow("$args");try{var resFrag=document.createDocumentFragment(),errList=[];if(new Wikifier(resFrag,widgetCode),Array.from(resFrag.querySelectorAll(".error")).forEach((function(errEl){errList.push(errEl.textContent)})),0!==errList.length)return this.error("error".concat(errList.length>1?"s":""," within widget code (").concat(errList.join("; "),")"));this.output.appendChild(resFrag)}catch(ex){return this.error("cannot execute widget: ".concat(ex.message))}finally{shadowStore.hasOwnProperty("_args")?State.temporary.args=shadowStore._args:delete State.temporary.args,isNonVoid&&(shadowStore.hasOwnProperty("_contents")?State.temporary.contents=shadowStore._contents:delete State.temporary.contents),shadowStore.hasOwnProperty("$args")?State.variables.args=shadowStore.$args:delete State.variables.args}})};isNonVoid&&(widgetDef.tags=[]),Macro.add(widgetName,widgetDef),Config.debug&&this.debugView.modes({hidden:!0})}catch(ex){return this.error('cannot create widget macro "'.concat(widgetName,'": ').concat(ex.message))}}})}();var Dialog=function(){var _$overlay=null,_$dialog=null,_$dialogTitle=null,_$dialogBody=null,_lastActive=null,_scrollbarWidth=0,_dialogObserver=null;function dialogClose(ev){return _$dialogBody.trigger(":dialogclosing"),jQuery(document).off(".dialog-close"),_dialogObserver?(_dialogObserver.disconnect(),_dialogObserver=null):_$dialogBody.off(".dialog-resize"),jQuery(window).off(".dialog-resize"),_$dialog.removeClass("open").css({left:"",right:"",top:"",bottom:""}),jQuery("#ui-bar,#story").find("[tabindex=-2]").removeAttr("aria-hidden").attr("tabindex",0),jQuery("body>[tabindex=-3]").removeAttr("aria-hidden").removeAttr("tabindex"),_$overlay.removeClass("open"),jQuery(document.documentElement).removeAttr("data-dialog"),_$dialogTitle.empty(),_$dialogBody.empty().removeClass(),null!==_lastActive&&(jQuery(_lastActive).focus(),_lastActive=null),ev&&ev.data&&"function"==typeof ev.data.closeFn&&ev.data.closeFn(ev),_$dialogBody.trigger(":dialogclose"),_$dialogBody.trigger(":dialogclosed"),Dialog}function dialogIsOpen(classNames){return _$dialog.hasClass("open")&&(!classNames||classNames.splitOrEmpty(/\s+/).every((function(cn){return _$dialogBody.hasClass(cn)})))}function dialogOpen(options,closeFn){_$dialogBody.trigger(":dialogopening");var top=jQuery.extend({top:50},options).top;return dialogIsOpen()||(_lastActive=safeActiveElement()),jQuery(document.documentElement).attr("data-dialog","open"),_$overlay.addClass("open"),null!==_$dialogBody[0].querySelector("img")&&_$dialogBody.imagesLoaded().always((function(){return _resizeHandler({data:{top:top}})})),jQuery("body>:not(script,#store-area,tw-storydata,#ui-bar,#ui-overlay,#ui-dialog)").attr("tabindex",-3).attr("aria-hidden",!0),jQuery("#ui-bar,#story").find("[tabindex]:not([tabindex^=-])").attr("tabindex",-2).attr("aria-hidden",!0),_$dialog.css(_calcPosition(top)).addClass("open").focus(),jQuery(window).on("resize.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),Has.mutationObserver?(_dialogObserver=new MutationObserver((function(mutations){for(var i=0;i<mutations.length;++i)if("childList"===mutations[i].type){_resizeHandler({data:{top:top}});break}}))).observe(_$dialogBody[0],{childList:!0,subtree:!0}):_$dialogBody.on("DOMNodeInserted.dialog-resize DOMNodeRemoved.dialog-resize",null,{top:top},jQuery.throttle(40,_resizeHandler)),jQuery(document).one("click.dialog-close",".ui-close",{closeFn:closeFn},(function(ev){dialogClose(ev)})).one("keypress.dialog-close",".ui-close",(function(ev){13!==ev.which&&32!==ev.which||jQuery(this).trigger("click")})),_$dialogBody.trigger(":dialogopen"),_$dialogBody.trigger(":dialogopened"),Dialog}function _calcPosition(topPos){var top=null!=topPos?topPos:50,$parent=jQuery(window),dialogPos={left:"",right:"",top:"",bottom:""};_$dialog.css(dialogPos);var horzSpace=$parent.width()-_$dialog.outerWidth(!0)-1,vertSpace=$parent.height()-_$dialog.outerHeight(!0)-1;return horzSpace<=32+_scrollbarWidth&&(vertSpace-=_scrollbarWidth),vertSpace<=32+_scrollbarWidth&&(horzSpace-=_scrollbarWidth),dialogPos.left=dialogPos.right=horzSpace<=32?16:horzSpace/2>>0,dialogPos.top=vertSpace<=32?dialogPos.bottom=16:vertSpace/2>top?top:dialogPos.bottom=vertSpace/2>>0,Object.keys(dialogPos).forEach((function(key){""!==dialogPos[key]&&(dialogPos[key]+="px")})),dialogPos}function _resizeHandler(ev){var top=ev&&ev.data&&void 0!==ev.data.top?ev.data.top:50;"block"===_$dialog.css("display")&&(_$dialog.css({display:"none"}),_$dialog.css(jQuery.extend({display:""},_calcPosition(top))))}return Object.freeze(Object.defineProperties({},{append:{value:function(){var _$dialogBody2;return(_$dialogBody2=_$dialogBody).append.apply(_$dialogBody2,arguments),Dialog}},body:{value:function(){return _$dialogBody.get(0)}},close:{value:dialogClose},init:{value:function(){if(!document.getElementById("ui-dialog")){_scrollbarWidth=function(){var scrollbarWidth;try{var inner=document.createElement("p"),outer=document.createElement("div");inner.style.width="100%",inner.style.height="200px",outer.style.position="absolute",outer.style.left="0px",outer.style.top="0px",outer.style.width="100px",outer.style.height="100px",outer.style.visibility="hidden",outer.style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="auto";var w2=inner.offsetWidth;w1===w2&&(w2=outer.clientWidth),document.body.removeChild(outer),scrollbarWidth=w1-w2}catch(ex){}return scrollbarWidth||17}();var $elems=jQuery(document.createDocumentFragment()).append('<div id="ui-overlay" class="ui-close"></div><div id="ui-dialog" tabindex="0" role="dialog" aria-labelledby="ui-dialog-title"><div id="ui-dialog-titlebar"><h1 id="ui-dialog-title"></h1>'+'<button id="ui-dialog-close" class="ui-close" tabindex="0" aria-label="'.concat(L10n.get("close"),'"></button>')+'</div><div id="ui-dialog-body"></div></div>');_$overlay=jQuery($elems.find("#ui-overlay").get(0)),_$dialog=jQuery($elems.find("#ui-dialog").get(0)),_$dialogTitle=jQuery($elems.find("#ui-dialog-title").get(0)),_$dialogBody=jQuery($elems.find("#ui-dialog-body").get(0)),$elems.insertBefore("body>script#script-sugarcube")}}},isOpen:{value:dialogIsOpen},open:{value:dialogOpen},resize:{value:function(data){return _resizeHandler("object"===_typeof(data)?{data:data}:undefined)}},setup:{value:function(title,classNames){return _$dialogBody.empty().removeClass(),null!=classNames&&_$dialogBody.addClass(classNames),_$dialogTitle.empty().append((null!=title?String(title):"")||" "),_$dialogBody.get(0)}},wiki:{value:function(){var _$dialogBody3;return(_$dialogBody3=_$dialogBody).wiki.apply(_$dialogBody3,arguments),Dialog}},addClickHandler:{value:function(targets,options,startFn,doneFn,closeFn){return jQuery(targets).ariaClick((function(ev){ev.preventDefault(),"function"==typeof startFn&&startFn(ev),dialogOpen(options,closeFn),"function"==typeof doneFn&&doneFn(ev)}))}}}))}(),Engine=function(){var States=Util.toEnum({Idle:"idle",Playing:"playing",Rendering:"rendering"}),_initDebugViews=[],_state=States.Idle,_lastPlay=null,_outlinePatch=null,_updating=null;function engineGo(offset){var succeded=State.go(offset);return succeded&&engineShow(),succeded}function engineShow(){return enginePlay(State.passage,!0)}function enginePlay(title,noHistory){var passageReadyOutput,passageDoneOutput,passageTitle=title;if(_state=States.Playing,TempState={},State.clearTemporary(),"function"==typeof Config.navigation.override)try{var overrideTitle=Config.navigation.override(passageTitle);overrideTitle&&(passageTitle=overrideTitle)}catch(ex){}var passage=Story.get(passageTitle);if(jQuery.event.trigger({type:":passageinit",passage:passage}),Object.keys(prehistory).forEach((function(task){"function"==typeof prehistory[task]&&prehistory[task].call(passage,task)})),noHistory||State.create(passage.title),document.body.className&&(document.body.className=""),_lastPlay=Util.now(),Object.keys(predisplay).forEach((function(task){"function"==typeof predisplay[task]&&predisplay[task].call(passage,task)})),Story.has("PassageReady"))try{passageReadyOutput=Wikifier.wikifyEval(Story.get("PassageReady").text)}catch(ex){console.error(ex),Alert.error("PassageReady",ex.message)}_state=States.Rendering;var dataTags=passage.tags.length>0?passage.tags.join(" "):null,passageEl=document.createElement("div");jQuery(passageEl).attr({id:passage.domId,"data-passage":passage.title,"data-tags":dataTags}).addClass("passage ".concat(passage.className)),jQuery(document.body).attr("data-tags",dataTags).addClass(passage.className),jQuery(document.documentElement).attr("data-tags",dataTags),jQuery.event.trigger({type:":passagestart",content:passageEl,passage:passage}),Object.keys(prerender).forEach((function(task){"function"==typeof prerender[task]&&prerender[task].call(passage,passageEl,task)})),Story.has("PassageHeader")&&new Wikifier(passageEl,Story.get("PassageHeader").processText()),passageEl.appendChild(passage.render()),Story.has("PassageFooter")&&new Wikifier(passageEl,Story.get("PassageFooter").processText()),jQuery.event.trigger({type:":passagerender",content:passageEl,passage:passage}),Object.keys(postrender).forEach((function(task){"function"==typeof postrender[task]&&postrender[task].call(passage,passageEl,task)}));var debugView,containerEl=document.getElementById("passages");if(containerEl.hasChildNodes()&&("number"==typeof Config.passages.transitionOut||"string"==typeof Config.passages.transitionOut&&""!==Config.passages.transitionOut&&Has.transitionEndEvent?_toConsumableArray(containerEl.childNodes).forEach((function(outgoing){var $outgoing=jQuery(outgoing);if(outgoing.nodeType===Node.ELEMENT_NODE&&$outgoing.hasClass("passage")){if($outgoing.hasClass("passage-out"))return;$outgoing.attr({id:"out-".concat($outgoing.attr("id")),"aria-live":"off"}).addClass("passage-out"),"string"==typeof Config.passages.transitionOut?$outgoing.on(Has.transitionEndEvent,(function(ev){ev.propertyName===Config.passages.transitionOut&&$outgoing.remove()})):setTimeout((function(){return $outgoing.remove()}),Math.max(40,Config.passages.transitionOut))}else $outgoing.remove()})):jQuery(containerEl).empty()),jQuery(passageEl).addClass("passage-in").appendTo(containerEl),setTimeout((function(){return jQuery(passageEl).removeClass("passage-in")}),40),Story.has("StoryDisplayTitle")?null===_updating&&Config.ui.updateStoryElements||setDisplayTitle(Story.get("StoryDisplayTitle").processText()):Config.passages.displayTitles&&passage.title!==Config.passages.start&&(document.title="".concat(passage.title," | ").concat(Story.title)),window.scroll(0,0),_state=States.Playing,Story.has("PassageDone"))try{passageDoneOutput=Wikifier.wikifyEval(Story.get("PassageDone").text)}catch(ex){console.error(ex),Alert.error("PassageDone",ex.message)}(jQuery.event.trigger({type:":passagedisplay",content:passageEl,passage:passage}),Object.keys(postdisplay).forEach((function(task){"function"==typeof postdisplay[task]&&postdisplay[task].call(passage,task)})),null!==_updating?_updating.forEach((function(pair){jQuery(pair.element).empty(),new Wikifier(pair.element,Story.get(pair.passage).processText().trim())})):Config.ui.updateStoryElements&&UIBar.update(),Config.debug)&&(null!=passageReadyOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageReady","PassageReady")).modes({hidden:!0}),debugView.append(passageReadyOutput),jQuery(passageEl).prepend(debugView.output)),null!=passageDoneOutput&&((debugView=new DebugView(document.createDocumentFragment(),"special","PassageDone","PassageDone")).modes({hidden:!0}),debugView.append(passageDoneOutput),jQuery(passageEl).append(debugView.output)),1===State.turns&&_initDebugViews.length>0&&jQuery(passageEl).prepend(_initDebugViews));switch(jQuery("#story").find("a[href]:not(.link-external)").addClass("link-external").end().find("a,link,button,input,select,textarea").not("[tabindex]").attr("tabindex",0),_typeof(Config.saves.autosave)){case"boolean":Config.saves.autosave&&Save.autosave.save();break;case"object":passage.tags.some((function(tag){return Config.saves.autosave.includes(tag)}))&&Save.autosave.save();break;case"function":Config.saves.autosave()&&Save.autosave.save()}return jQuery.event.trigger({type:":passageend",content:passageEl,passage:passage}),_state=States.Idle,_lastPlay=Util.now(),passageEl}function _hideOutlines(){_outlinePatch.set("*:focus{outline:none;}")}return Object.freeze(Object.defineProperties({},{States:{value:States},minDomActionDelay:{value:40},init:{value:function(){var _lastOutlineEvent;jQuery("#init-no-js,#init-lacking").remove(),function(){var $elems=jQuery(document.createDocumentFragment()),markup=Story.has("StoryInterface")&&Story.get("StoryInterface").text.trim();if(markup){UIBar.destroy(),jQuery(document.head).find("#style-core-display").remove(),$elems.append(markup);var $passages=$elems.find("#passages");if(0===$passages.length)throw new Error('no element with ID "passages" found within "StoryInterface" special passage');$passages.empty().not("[aria-live]").attr("aria-live","polite").end(),$elems.find("[data-init-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-init-passage" content attribute'));var passage=el.getAttribute("data-init-passage").trim();if(el.hasAttribute("data-passage"))throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> must not contain a "data-passage" content attribute'));if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-init-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&jQuery(el).empty().wiki(Story.get(passage).processText().trim())}));var updating=[];$elems.find("[data-passage]").each((function(i,el){if("passages"===el.id)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' id="passages"> must not contain a "data-passage" content attribute'));var passage=el.getAttribute("data-passage").trim();if(null!==el.firstElementChild)throw new Error('"StoryInterface" element <'.concat(el.nodeName.toLowerCase(),' data-passage="').concat(passage,'"> contains child elements'));Story.has(passage)&&updating.push({passage:passage,element:el})})),updating.length>0&&(_updating=updating),Config.ui.updateStoryElements=!1}else $elems.append('<div id="story" role="main"><div id="passages" aria-live="polite"></div></div>');$elems.insertBefore("body>script#script-sugarcube")}(),_outlinePatch=new StyleWrapper(jQuery(document.createElement("style")).attr({id:"style-aria-outlines",type:"text/css"}).appendTo(document.head).get(0)),_hideOutlines(),jQuery(document).on("mousedown.aria-outlines keydown.aria-outlines",(function(ev){ev.type!==_lastOutlineEvent&&(_lastOutlineEvent=ev.type,"keydown"===ev.type?_outlinePatch.clear():_hideOutlines())}))}},start:{value:function(){if(Story.getAllInit().forEach((function(passage){try{var debugBuffer=Wikifier.wikifyEval(passage.text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","".concat(passage.title," [init-tagged]"),"".concat(passage.title," [init-tagged]"));debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("".concat(passage.title," [init-tagged]"),"object"===_typeof(ex)?ex.message:ex)}})),Story.has("StoryInit"))try{var debugBuffer=Wikifier.wikifyEval(Story.get("StoryInit").text);if(Config.debug){var debugView=new DebugView(document.createDocumentFragment(),"special","StoryInit","StoryInit");debugView.modes({hidden:!0}),debugView.append(debugBuffer),_initDebugViews.push(debugView.output)}}catch(ex){console.error(ex),Alert.error("StoryInit","object"===_typeof(ex)?ex.message:ex)}if(null==Config.passages.start)throw new Error("starting passage not selected");if(!Story.has(Config.passages.start))throw new Error('starting passage ("'.concat(Config.passages.start,'") not found'));if(jQuery(document.documentElement).focus(),State.restore())engineShow();else{var loadStart=!0;switch(_typeof(Config.saves.autoload)){case"boolean":Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!Save.autosave.load());break;case"string":"prompt"===Config.saves.autoload&&Save.autosave.ok()&&Save.autosave.has()&&(loadStart=!1,UI.buildAutoload(),Dialog.open());break;case"function":Save.autosave.ok()&&Save.autosave.has()&&Config.saves.autoload()&&(loadStart=!Save.autosave.load())}loadStart&&enginePlay(Config.passages.start)}}},restart:{value:function(){LoadScreen.show(),window.scroll(0,0),State.reset(),jQuery.event.trigger(":enginerestart"),window.location.reload()}},state:{get:function(){return _state}},isIdle:{value:function(){return _state===States.Idle}},isPlaying:{value:function(){return _state!==States.Idle}},isRendering:{value:function(){return _state===States.Rendering}},lastPlay:{get:function(){return _lastPlay}},goTo:{value:function(idx){var succeded=State.goTo(idx);return succeded&&engineShow(),succeded}},go:{value:engineGo},backward:{value:function(){return engineGo(-1)}},forward:{value:function(){return engineGo(1)}},show:{value:engineShow},play:{value:enginePlay},display:{value:function(title,link,option){var noHistory=!1;switch(option){case undefined:break;case"replace":case"back":noHistory=!0;break;default:throw new Error('Engine.display option parameter called with obsolete value "'.concat(option,'"; please notify the developer'))}enginePlay(title,noHistory)}}}))}(),Passage=(_tagsToSkip=/^(?:debug|nobr|passage|widget|twine\..*)$/i,function(){function Passage(title,el){var _this22=this;_classCallCheck(this,Passage),Object.defineProperties(this,{title:{value:Util.unescape(title)},element:{value:el||null},tags:{value:Object.freeze(el&&el.hasAttribute("tags")?Array.from(new Set(el.getAttribute("tags").trim().splitOrEmpty(/\s+/))):[])},_excerpt:{writable:!0,value:null}}),Object.defineProperties(this,{domId:{value:"passage-".concat(Util.slugify(this.title))},classes:{value:Object.freeze(0===this.tags.length?[]:_this22.tags.filter((function(tag){return!_tagsToSkip.test(tag)})).map((function(tag){return Util.slugify(tag)})))}})}return _createClass(Passage,[{key:"className",get:function(){return this.classes.join(" ")}},{key:"text",get:function(){if(null==this.element){var passage=Util.escapeMarkup(this.title),mesg="".concat(L10n.get("errorTitle"),": ").concat(L10n.get("errorNonexistentPassage",{passage:passage}));return'<div class="error-view"><span class="error">'.concat(mesg,"</span></div>")}return this.element.textContent.replace(/\r/g,"")}},{key:"description",value:function(){var descriptions=Config.passages.descriptions;switch(_typeof(descriptions)){case"boolean":if(descriptions)return this.title;break;case"object":if(descriptions.hasOwnProperty(this.title))return descriptions[this.title];break;case"function":var result=descriptions.call(this);if(result)return result}return null===this._excerpt&&(this._excerpt=Passage.getExcerptFromText(this.text)),this._excerpt}},{key:"processText",value:function(){if(null==this.element)return this.text;if(this.tags.includes("Twine.image"))return"[img[".concat(this.text,"]]");var processed=this.text;return Config.passages.onProcess&&(processed=Config.passages.onProcess.call(null,{title:this.title,tags:this.tags,text:processed})),(Config.passages.nobr||this.tags.includes("nobr"))&&(processed=processed.replace(/^\n+|\n+$/g,"").replace(/\n+/g," ")),processed}},{key:"render",value:function(options){var frag=document.createDocumentFragment();return new Wikifier(frag,this.processText(),options),this._excerpt=Passage.getExcerptFromNode(frag),frag}}],[{key:"getExcerptFromNode",value:function(node,count){if(!node.hasChildNodes())return"";var excerpt=node.textContent.trim();if(""!==excerpt){var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})"));excerpt=excerpt.replace(/\s+/g," ").match(excerptRe)}return excerpt?"".concat(excerpt[1],"…"):"…"}},{key:"getExcerptFromText",value:function(text,count){if(""===text)return"";var excerptRe=new RegExp("(\\S+(?:\\s+\\S+){0,".concat(count>0?count-1:7,"})")),excerpt=text.replace(/<<.*?>>/g," ").replace(/<.*?>/g," ").trim().replace(/^\s*\|.*\|.*?$/gm,"").replace(/\[[<>]?img\[[^\]]*\]\]/g,"").replace(/\[\[([^|\]]*?)(?:(?:\||->|<-)[^\]]*)?\]\]/g,"$1").replace(/^\s*!+(.*?)$/gm,"$1").replace(/'{2}|\/{2}|_{2}|@{2}/g,"").trim().replace(/\s+/g," ").match(excerptRe);return excerpt?"".concat(excerpt[1],"…"):"…"}}]),Passage}()),_tagsToSkip,Save=function(){var Type=Util.toEnum({Autosave:"autosave",Disk:"disk",Serialize:"serialize",Slot:"slot"}),_slotsUBound=-1,_onLoadHandlers=new Set,_onSaveHandlers=new Set;function savesObjGet(){var saves=storage.get("saves");return null===saves?{autosave:null,slots:_appendSlots([],Config.saves.slots)}:saves}function savesObjClear(){return storage.delete("saves"),!0}function autosaveOk(){return"cookie"!==storage.name&&void 0!==Config.saves.autosave}function slotsOk(){return"cookie"!==storage.name&&-1!==_slotsUBound}function slotsCount(){if(!slotsOk())return 0;for(var saves=savesObjGet(),count=0,i=0,iend=saves.slots.length;i<iend;++i)null!==saves.slots[i]&&++count;return count}function _appendSlots(array,num){for(var i=0;i<num;++i)array.push(null);return array}function _savesObjIsEmpty(saves){for(var slots=saves.slots,isSlotsEmpty=!0,i=0,iend=slots.length;i<iend;++i)if(null!==slots[i]){isSlotsEmpty=!1;break}return null===saves.autosave&&isSlotsEmpty}function _savesObjSave(saves){return _savesObjIsEmpty(saves)?(storage.delete("saves"),!0):storage.set("saves",saves)}function _savesObjUpdate(saveObj){if(null==saveObj||"object"!==_typeof(saveObj))return!1;var updated=!1;return saveObj.hasOwnProperty("state")&&saveObj.state.hasOwnProperty("delta")&&saveObj.state.hasOwnProperty("index")||(saveObj.hasOwnProperty("data")?(delete saveObj.mode,saveObj.state={delta:State.deltaEncode(saveObj.data)},delete saveObj.data):saveObj.state.hasOwnProperty("delta")?saveObj.state.hasOwnProperty("index")||delete saveObj.state.mode:(delete saveObj.state.mode,saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history),saveObj.state.index=saveObj.state.delta.length-1,updated=!0),saveObj.state.hasOwnProperty("rseed")&&(saveObj.state.seed=saveObj.state.rseed,delete saveObj.state.rseed,saveObj.state.delta.forEach((function(_,i,delta){delta[i].hasOwnProperty("rcount")&&(delta[i].pull=delta[i].rcount,delete delta[i].rcount)})),updated=!0),(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired||saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.hasOwnProperty("expired")&&"number"==typeof saveObj.state.expired&&delete saveObj.state.expired,(saveObj.state.hasOwnProperty("unique")||saveObj.state.hasOwnProperty("last"))&&(saveObj.state.expired=[],saveObj.state.hasOwnProperty("unique")&&(saveObj.state.expired.push(saveObj.state.unique),delete saveObj.state.unique),saveObj.state.hasOwnProperty("last")&&(saveObj.state.expired.push(saveObj.state.last),delete saveObj.state.last)),updated=!0),updated}function _marshal(supplemental,details){if(null!=supplemental&&"object"!==_typeof(supplemental))throw new Error("supplemental parameter must be an object");var saveObj=Object.assign({},supplemental,{id:Config.saves.id,state:State.marshalForSave()});return Config.saves.version&&(saveObj.version=Config.saves.version),_onSaveHandlers.forEach((function(fn){return fn(saveObj,details)})),saveObj.state.delta=State.deltaEncode(saveObj.state.history),delete saveObj.state.history,saveObj}function _unmarshal(saveObj){try{if(_savesObjUpdate(saveObj),!saveObj||!saveObj.hasOwnProperty("id")||!saveObj.hasOwnProperty("state"))throw new Error(L10n.get("errorSaveMissingData"));if(saveObj.state.history=State.deltaDecode(saveObj.state.delta),delete saveObj.state.delta,_onLoadHandlers.forEach((function(fn){return fn(saveObj)})),saveObj.id!==Config.saves.id)throw new Error(L10n.get("errorSaveIdMismatch"));State.unmarshalForSave(saveObj.state),Engine.show()}catch(ex){return UI.alert("".concat(ex.message.toUpperFirst(),".</p><p>").concat(L10n.get("aborting"),".")),!1}return!0}return Object.freeze(Object.defineProperties({},{init:{value:function(){if("cookie"===storage.name)return savesObjClear(),Config.saves.autoload=undefined,Config.saves.autosave=undefined,Config.saves.slots=0,!1;var saves=savesObjGet(),updated=!1;Array.isArray(saves)&&(saves={autosave:null,slots:saves},updated=!0),Config.saves.slots!==saves.slots.length&&(Config.saves.slots<saves.slots.length?(saves.slots.reverse(),saves.slots=saves.slots.filter((function(val){return!(null===val&&this.count>0)||(--this.count,!1)}),{count:saves.slots.length-Config.saves.slots}),saves.slots.reverse()):Config.saves.slots>saves.slots.length&&_appendSlots(saves.slots,Config.saves.slots-saves.slots.length),updated=!0),_savesObjUpdate(saves.autosave)&&(updated=!0);for(var i=0;i<saves.slots.length;++i)_savesObjUpdate(saves.slots[i])&&(updated=!0);return _savesObjIsEmpty(saves)&&(storage.delete("saves"),updated=!1),updated&&_savesObjSave(saves),_slotsUBound=saves.slots.length-1,!0}},get:{value:savesObjGet},clear:{value:savesObjClear},ok:{value:function(){return autosaveOk()||slotsOk()}},autosave:{value:Object.freeze(Object.defineProperties({},{ok:{value:autosaveOk},has:{value:function(){return null!==savesObjGet().autosave}},get:{value:function(){return savesObjGet().autosave}},load:{value:function(){var saves=savesObjGet();return null!==saves.autosave&&_unmarshal(saves.autosave)}},save:{value:function(title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return!1;var saves=savesObjGet(),supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.autosave=_marshal(supplemental,{type:Type.Autosave}),_savesObjSave(saves)}},delete:{value:function(){var saves=savesObjGet();return saves.autosave=null,_savesObjSave(saves)}}}))},slots:{value:Object.freeze(Object.defineProperties({},{ok:{value:slotsOk},length:{get:function(){return _slotsUBound+1}},isEmpty:{value:function(){return 0===slotsCount()}},count:{value:slotsCount},has:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])}},get:{value:function(slot){if(slot<0||slot>_slotsUBound)return null;var saves=savesObjGet();return slot>=saves.slots.length?null:saves.slots[slot]}},load:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length||null===saves.slots[slot])&&_unmarshal(saves.slots[slot])}},save:{value:function(slot,title,metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),!1;if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();if(slot>=saves.slots.length)return!1;var supplemental={title:title||Story.get(State.passage).description(),date:Date.now()};return null!=metadata&&(supplemental.metadata=metadata),saves.slots[slot]=_marshal(supplemental,{type:Type.Slot}),_savesObjSave(saves)}},delete:{value:function(slot){if(slot<0||slot>_slotsUBound)return!1;var saves=savesObjGet();return!(slot>=saves.slots.length)&&(saves.slots[slot]=null,_savesObjSave(saves))}}}))},export:{value:function(filename,metadata){if("function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed()){var str,now,MM,DD,hh,mm,ss,baseName=null==filename?Story.domId:(str=filename,Util.sanitizeFilename(str).replace(/[_\s\u2013\u2014-]+/g,"-")),saveName="".concat(baseName,"-").concat((now=new Date,MM=now.getMonth()+1,DD=now.getDate(),hh=now.getHours(),mm=now.getMinutes(),ss=now.getSeconds(),MM<10&&(MM="0".concat(MM)),DD<10&&(DD="0".concat(DD)),hh<10&&(hh="0".concat(hh)),mm<10&&(mm="0".concat(mm)),ss<10&&(ss="0".concat(ss)),"".concat(now.getFullYear()).concat(MM).concat(DD,"-").concat(hh).concat(mm).concat(ss)),".save"),supplemental=null==metadata?{}:{metadata:metadata},saveObj=LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Disk})));saveAs(new Blob([saveObj],{type:"text/plain;charset=UTF-8"}),saveName)}else Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed"))}},import:{value:function(event){var file=event.target.files[0],reader=new FileReader;jQuery(reader).one("loadend",(function(){if(reader.error){var ex=reader.error;UI.alert("".concat(L10n.get("errorSaveDiskLoadFailed").toUpperFirst()," (").concat(ex.name,": ").concat(ex.message,").</p><p>").concat(L10n.get("aborting"),"."))}else{var saveObj;try{saveObj=JSON.parse(/\.json$/i.test(file.name)||/^\{/.test(reader.result)?reader.result:LZString.decompressFromBase64(reader.result))}catch(ex){}_unmarshal(saveObj)}})),reader.readAsText(file)}},serialize:{value:function(metadata){if("function"==typeof Config.saves.isAllowed&&!Config.saves.isAllowed())return Dialog.isOpen()?$(document).one(":dialogclosed",(function(){return UI.alert(L10n.get("savesDisallowed"))})):UI.alert(L10n.get("savesDisallowed")),null;var supplemental=null==metadata?{}:{metadata:metadata};return LZString.compressToBase64(JSON.stringify(_marshal(supplemental,{type:Type.Serialize})))}},deserialize:{value:function(base64Str){var saveObj;try{saveObj=JSON.parse(LZString.decompressFromBase64(base64Str))}catch(ex){}return _unmarshal(saveObj)?saveObj.metadata:null}},onLoad:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onLoad.add handler parameter must be a function (received: ".concat(valueType,")"));_onLoadHandlers.add(handler)}},clear:{value:function(){_onLoadHandlers.clear()}},delete:{value:function(handler){return _onLoadHandlers.delete(handler)}},size:{get:function(){return _onLoadHandlers.size}}}))},onSave:{value:Object.freeze(Object.defineProperties({},{add:{value:function(handler){var valueType=Util.getType(handler);if("function"!==valueType)throw new TypeError("Save.onSave.add handler parameter must be a function (received: ".concat(valueType,")"));_onSaveHandlers.add(handler)}},clear:{value:function(){_onSaveHandlers.clear()}},delete:{value:function(handler){return _onSaveHandlers.delete(handler)}},size:{get:function(){return _onSaveHandlers.size}}}))}}))}(),Setting=function(){var Types=Util.toEnum({Header:0,Toggle:1,List:2,Range:3}),_definitions=[];function settingsCreate(){return Object.create(null)}function settingsSave(){var savedSettings=settingsCreate();return Object.keys(settings).length>0&&_definitions.filter((function(def){return def.type!==Types.Header&&settings[def.name]!==def.default})).forEach((function(def){return savedSettings[def.name]=settings[def.name]})),0===Object.keys(savedSettings).length?(storage.delete("settings"),!0):storage.set("settings",savedSettings)}function settingsLoad(){var defaultSettings=settingsCreate(),loadedSettings=storage.get("settings")||settingsCreate();_definitions.filter((function(def){return def.type!==Types.Header})).forEach((function(def){return defaultSettings[def.name]=def.default})),window.SugarCube.settings=settings=Object.assign(defaultSettings,loadedSettings)}function settingsClear(){return window.SugarCube.settings=settings=settingsCreate(),storage.delete("settings"),!0}function definitionsAdd(type,name,def){if(arguments.length<3){var errors=[];throw arguments.length<1&&errors.push("type"),arguments.length<2&&errors.push("name"),arguments.length<3&&errors.push("definition"),new Error("missing parameters, no ".concat(errors.join(" or ")," specified"))}if("object"!==_typeof(def))throw new TypeError("definition parameter must be an object");if(definitionsHas(name))throw new Error('cannot clobber existing setting "'.concat(name,'"'));var str,pos,definition={type:type,name:name,label:"string"==typeof def.label?def.label.trim():""};if("string"==typeof def.desc){var desc=def.desc.trim();""!==desc&&(definition.desc=desc)}switch(type){case Types.Header:break;case Types.Toggle:definition.default=!!def.default;break;case Types.List:if(!def.hasOwnProperty("list"))throw new Error("no list specified");if(!Array.isArray(def.list))throw new TypeError("list must be an array");if(0===def.list.length)throw new Error("list must not be empty");if(definition.list=Object.freeze(def.list),null==def.default)definition.default=def.list[0];else{var defaultIndex=def.list.indexOf(def.default);if(-1===defaultIndex)throw new Error("list does not contain default");definition.default=def.list[defaultIndex]}break;case Types.Range:if(!def.hasOwnProperty("min"))throw new Error("no min specified");if("number"!=typeof def.min||Number.isNaN(def.min)||!Number.isFinite(def.min))throw new TypeError("min must be a finite number");if(!def.hasOwnProperty("max"))throw new Error("no max specified");if("number"!=typeof def.max||Number.isNaN(def.max)||!Number.isFinite(def.max))throw new TypeError("max must be a finite number");if(!def.hasOwnProperty("step"))throw new Error("no step specified");if("number"!=typeof def.step||Number.isNaN(def.step)||!Number.isFinite(def.step)||def.step<=0)throw new TypeError("step must be a finite number greater than zero");var stepValidate=function(value){if(fracDigits>0){var ma=Number("".concat(def.min,"e").concat(fracDigits)),sa=Number("".concat(def.step,"e").concat(fracDigits)),_va=Number("".concat(value,"e").concat(fracDigits))-ma;return Number("".concat(_va-_va%sa+ma,"e-").concat(fracDigits))}var va=value-def.min;return va-va%def.step+def.min},fracDigits=(str=String(def.step),-1===(pos=str.lastIndexOf("."))?0:str.length-pos-1);if(stepValidate(def.max)!==def.max)throw new RangeError("max (".concat(def.max,") is not a multiple of the step (").concat(def.step,") plus the min (").concat(def.min,")"));if(definition.max=def.max,definition.min=def.min,definition.step=def.step,null==def.default)definition.default=def.max;else{if("number"!=typeof def.default||Number.isNaN(def.default)||!Number.isFinite(def.default))throw new TypeError("default must be a finite number");if(def.default<def.min)throw new RangeError("default (".concat(def.default,") is less than min (").concat(def.min,")"));if(def.default>def.max)throw new RangeError("default (".concat(def.default,") is greater than max (").concat(def.max,")"));definition.default=def.default}break;default:throw new Error("unknown Setting type: ".concat(type))}"function"==typeof def.onInit&&(definition.onInit=Object.freeze(def.onInit)),"function"==typeof def.onChange&&(definition.onChange=Object.freeze(def.onChange)),_definitions.push(Object.freeze(definition))}function definitionsHas(name){return _definitions.some((function(definition){return definition.name===name}))}function definitionsGet(name){return _definitions.find((function(definition){return definition.name===name}))}return Object.freeze(Object.defineProperties({},{Types:{value:Types},init:{value:function(){if(storage.has("options")){var old=storage.get("options");null!==old&&(window.SugarCube.settings=settings=Object.assign(settingsCreate(),old)),settingsSave(),storage.delete("options")}settingsLoad(),_definitions.forEach((function(def){if(def.hasOwnProperty("onInit")){var thisArg={name:def.name,value:settings[def.name],default:def.default};def.hasOwnProperty("list")&&(thisArg.list=def.list),def.onInit.call(thisArg)}}))}},create:{value:settingsCreate},save:{value:settingsSave},load:{value:settingsLoad},clear:{value:settingsClear},reset:{value:function(name){if(0===arguments.length)settingsClear(),settingsLoad();else{if(null==name||!definitionsHas(name))throw new Error('nonexistent setting "'.concat(name,'"'));var def=definitionsGet(name);def.type!==Types.Header&&(settings[name]=def.default)}return settingsSave()}},forEach:{value:function(callback,thisArg){_definitions.forEach(callback,thisArg)}},add:{value:definitionsAdd},addHeader:{value:function(name,desc){definitionsAdd(Types.Header,name,{desc:desc})}},addToggle:{value:function(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++)args[_key16]=arguments[_key16];definitionsAdd.apply(void 0,[Types.Toggle].concat(args))}},addList:{value:function(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++)args[_key17]=arguments[_key17];definitionsAdd.apply(void 0,[Types.List].concat(args))}},addRange:{value:function(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++)args[_key18]=arguments[_key18];definitionsAdd.apply(void 0,[Types.Range].concat(args))}},isEmpty:{value:function(){return 0===_definitions.length}},has:{value:definitionsHas},get:{value:definitionsGet},delete:{value:function definitionsDelete(name){definitionsHas(name)&&delete settings[name];for(var i=0;i<_definitions.length;++i)if(_definitions[i].name===name){_definitions.splice(i,1),definitionsDelete(name);break}}}}))}(),Story=function(){var _passages={},_inits=[],_scripts=[],_styles=[],_widgets=[],_title="",_ifId="",_domId="";function _storySetTitle(rawTitle){if(null==rawTitle)throw new Error("story title must not be null or undefined");var title=Util.unescape(String(rawTitle)).trim();if(""===title)throw new Error("story title must not be empty or consist solely of whitespace");if(document.title=_title=title,""===(_domId=Util.slugify(_title)))if(""!==_ifId)_domId=_ifId;else for(var i=0,len=_title.length;i<len;++i){var _Util$charAndPosAt2=Util.charAndPosAt(_title,i),char=_Util$charAndPosAt2.char,start=_Util$charAndPosAt2.start,end=_Util$charAndPosAt2.end;_domId+=char.codePointAt(0).toString(16),i+=end-start}}return Object.freeze(Object.defineProperties({},{load:{value:function(){var validationCodeTags=["init","widget"],validationNoCodeTagPassages=["PassageDone","PassageFooter","PassageHeader","PassageReady","StoryAuthor","StoryBanner","StoryCaption","StoryInit","StoryMenu","StoryShare","StorySubtitle"];function validateStartingPassage(passage){if(passage.tags.includesAny(validationCodeTags))throw new Error('starting passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(passage.tags.filter((function(tag){return validationCodeTags.includes(tag)})).sort().join('", "'),'"'))}function validateSpecialPassages(passage){if(validationNoCodeTagPassages.includes(passage.title)){for(var _len19=arguments.length,tags=new Array(_len19>1?_len19-1:0),_key19=1;_key19<_len19;_key19++)tags[_key19-1]=arguments[_key19];throw new Error('special passage "'.concat(passage.title,'" contains special tags; invalid: "').concat(tags.sort().join('", "'),'"'))}var codeTags=[].concat(validationCodeTags),foundTags=[];if(passage.tags.forEach((function(tag){codeTags.includes(tag)&&foundTags.push.apply(foundTags,_toConsumableArray(codeTags.delete(tag)))})),foundTags.length>1)throw new Error('passage "'.concat(passage.title,'" contains multiple special tags; invalid: "').concat(foundTags.sort().join('", "'),'"'))}var $storydata=jQuery("tw-storydata"),startNode=$storydata.attr("startnode")||"";Config.passages.start=null,Config.debug=/\bdebug\b/.test($storydata.attr("options")),$storydata.children("style").each((function(i){_styles.push(new Passage("tw-user-style-".concat(i),this))})),$storydata.children("script").each((function(i){_scripts.push(new Passage("tw-user-script-".concat(i),this))})),$storydata.children('tw-passagedata:not([tags~="Twine.private"],[tags~="annotation"])').each((function(){var $this=jQuery(this),pid=$this.attr("pid")||"",passage=new Passage($this.attr("name"),this);pid===startNode&&""!==startNode?(Config.passages.start=passage.title,validateStartingPassage(passage),_passages[passage.title]=passage):passage.tags.includes("init")?(validateSpecialPassages(passage,"init"),_inits.push(passage)):passage.tags.includes("widget")?(validateSpecialPassages(passage,"widget"),_widgets.push(passage)):_passages[passage.title]=passage})),_ifId=$storydata.attr("ifid"),_storySetTitle("Na vlnách finál 2"),Config.saves.id=Story.domId}},init:{value:function(){var storyStyle;storyStyle=document.createElement("style"),new StyleWrapper(storyStyle).add(_styles.map((function(style){return style.text.trim()})).join("\n")),jQuery(storyStyle).appendTo(document.head).attr({id:"style-story",type:"text/css"});for(var i=0;i<_scripts.length;++i)try{Scripting.evalJavaScript(_scripts[i].text)}catch(ex){console.error(ex),Alert.error(_scripts[i].title,"object"===_typeof(ex)?ex.message:ex)}for(var _i8=0;_i8<_widgets.length;++_i8)try{Wikifier.wikifyEval(_widgets[_i8].processText())}catch(ex){console.error(ex),Alert.error(_widgets[_i8].title,"object"===_typeof(ex)?ex.message:ex)}}},title:{get:function(){return _title}},domId:{get:function(){return _domId}},ifId:{get:function(){return _ifId}},add:{value:function(passage){if(!(passage instanceof Passage))throw new TypeError("Story.add passage parameter must be an instance of Passage");var title=passage.title;return!_passages.hasOwnProperty(title)&&(_passages[title]=passage,!0)}},has:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":return _passages.hasOwnProperty(String(title));case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.has title parameter cannot be ".concat(type))}},get:{value:function(title){var type=_typeof(title);switch(type){case"number":case"string":var id=String(title);return _passages.hasOwnProperty(id)?_passages[id]:new Passage(id||"(unknown)");case"undefined":break;case"object":type=null===title?"null":"an object";break;default:type="a ".concat(type)}throw new TypeError("Story.get title parameter cannot be ".concat(type))}},getAllInit:{value:function(){return Object.freeze(Array.from(_inits))}},getAllRegular:{value:function(){return Object.freeze(Object.assign({},_passages))}},getAllScript:{value:function(){return Object.freeze(Array.from(_scripts))}},getAllStylesheet:{value:function(){return Object.freeze(Array.from(_styles))}},getAllWidget:{value:function(){return Object.freeze(Array.from(_widgets))}},lookup:{value:function(key,value){var sortKey=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"title",results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];"object"===_typeof(passage[key])&&null!==passage[key]?passage[key]instanceof Array&&passage[key].some((function(m){return Util.sameValueZero(m,value)}))&&results.push(passage):Util.sameValueZero(passage[key],value)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}},lookupWith:{value:function(predicate){var sortKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"title";if("function"!=typeof predicate)throw new TypeError("Story.lookupWith predicate parameter must be a function");var results=[];return Object.keys(_passages).forEach((function(name){var passage=_passages[name];predicate(passage)&&results.push(passage)})),results.sort((function(a,b){return a[sortKey]==b[sortKey]?0:a[sortKey]<b[sortKey]?-1:1})),results}}}))}(),UI=function(){function uiAssembleLinkList(passage,listEl){var list=listEl,debugState=Config.debug,cleanState=Config.cleanupWikifierOutput;Config.debug=!1,Config.cleanupWikifierOutput=!1;try{null==list&&(list=document.createElement("ul"));var frag=document.createDocumentFragment();new Wikifier(frag,Story.get(passage).processText().trim());var errors=_toConsumableArray(frag.querySelectorAll(".error")).map((function(errEl){return errEl.textContent.replace(errorPrologRegExp,"")}));if(errors.length>0)throw new Error(errors.join("; "));for(;frag.hasChildNodes();){var node=frag.firstChild;if(node.nodeType===Node.ELEMENT_NODE&&"A"===node.nodeName.toUpperCase()){var li=document.createElement("li");list.appendChild(li),li.appendChild(node)}else frag.removeChild(node)}}finally{Config.cleanupWikifierOutput=cleanState,Config.debug=debugState}return list}function uiOpenAlert(message){jQuery(Dialog.setup(L10n.get("alertTitle"),"alert")).append("<p>".concat(message,'</p><ul class="buttons">')+'<li><button id="alert-ok" class="ui-close">'.concat(L10n.get(["alertOk","ok"]),"</button></li>")+"</ul>");for(var _len20=arguments.length,args=new Array(_len20>1?_len20-1:0),_key20=1;_key20<_len20;_key20++)args[_key20-1]=arguments[_key20];Dialog.open.apply(Dialog,args)}function uiBuildAutoload(){return jQuery(Dialog.setup(L10n.get("autoloadTitle"),"autoload")).append("<p>".concat(L10n.get("autoloadPrompt"),'</p><ul class="buttons">')+'<li><button id="autoload-ok" class="ui-close">'.concat(L10n.get(["autoloadOk","ok"]),"</button></li>")+'<li><button id="autoload-cancel" class="ui-close">'.concat(L10n.get(["autoloadCancel","cancel"]),"</button></li>")+"</ul>"),jQuery(document).one("click.autoload",".ui-close",(function(ev){var isAutoloadOk="autoload-ok"===ev.target.id;jQuery(document).one(":dialogclosed",(function(){isAutoloadOk&&Save.autosave.load()||Engine.play(Config.passages.start)}))})),!0}function uiBuildJumpto(){var list=document.createElement("ul");jQuery(Dialog.setup(L10n.get("jumptoTitle"),"jumpto list")).append(list);for(var expired=State.expired.length,i=State.size-1;i>=0;--i)if(i!==State.activeIndex){var passage=Story.get(State.history[i].title);passage&&passage.tags.includes("bookmark")&&jQuery(document.createElement("li")).append(jQuery(document.createElement("a")).ariaClick({one:!0},function(idx){return function(){return jQuery(document).one(":dialogclosed",(function(){return Engine.goTo(idx)}))}}(i)).addClass("ui-close").text("".concat(L10n.get("jumptoTurn")," ").concat(expired+i+1,": ").concat(passage.description()))).appendTo(list)}list.hasChildNodes()||jQuery(list).append("<li><a><em>".concat(L10n.get("jumptoUnavailable"),"</em></a></li>"))}function uiBuildRestart(){return jQuery(Dialog.setup(L10n.get("restartTitle"),"restart")).append("<p>".concat(L10n.get("restartPrompt"),'</p><ul class="buttons">')+'<li><button id="restart-ok">'.concat(L10n.get(["restartOk","ok"]),"</button></li>")+'<li><button id="restart-cancel" class="ui-close">'.concat(L10n.get(["restartCancel","cancel"]),"</button></li>")+"</ul>").find("#restart-ok").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){return Engine.restart()})),Dialog.close()})),!0}function uiBuildSaves(){var savesAllowed="function"!=typeof Config.saves.isAllowed||Config.saves.isAllowed();function createActionItem(bId,bClass,bText,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId)).html(bText);return bClass&&$btn.addClass(bClass),bAction?$btn.ariaClick(bAction):$btn.ariaDisabled(!0),jQuery(document.createElement("li")).append($btn)}var $dialogBody=jQuery(Dialog.setup(L10n.get("savesTitle"),"saves")),savesOk=Save.ok(),fileOk=Has.fileAPI&&(Config.saves.tryDiskOnMobile||!Browser.isMobile.any());if(savesOk&&$dialogBody.append(function(){function createButton(bId,bClass,bText,bSlot,bAction){var $btn=jQuery(document.createElement("button")).attr("id","saves-".concat(bId,"-").concat(bSlot)).addClass(bId).html(bText);return bClass&&$btn.addClass(bClass),bAction?"auto"===bSlot?$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelAuto"))},(function(){return bAction()})):$btn.ariaClick({label:"".concat(bText," ").concat(L10n.get("savesLabelSlot")," ").concat(bSlot+1)},(function(){return bAction(bSlot)})):$btn.ariaDisabled(!0),$btn}var saves=Save.get(),$tbody=jQuery(document.createElement("tbody"));if(Save.autosave.ok()){var $tdSlot=jQuery(document.createElement("td")),$tdLoad=jQuery(document.createElement("td")),$tdDesc=jQuery(document.createElement("td")),$tdDele=jQuery(document.createElement("td"));jQuery(document.createElement("b")).attr({title:L10n.get("savesLabelAuto"),"aria-label":L10n.get("savesLabelAuto")}).text("A").appendTo($tdSlot),saves.autosave?($tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),"auto",(function(){jQuery(document).one(":dialogclosed",(function(){return Save.autosave.load()}))}))),jQuery(document.createElement("div")).text(saves.autosave.title).appendTo($tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.autosave.date?"".concat(new Date(saves.autosave.date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo($tdDesc),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto",(function(){Save.autosave.delete(),uiBuildSaves()})))):($tdLoad.append(createButton("load",null,L10n.get("savesLabelLoad"),"auto")),$tdDesc.addClass("empty").text("•  •  •"),$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),"auto"))),jQuery(document.createElement("tr")).append($tdSlot).append($tdLoad).append($tdDesc).append($tdDele).appendTo($tbody)}for(var i=0,iend=saves.slots.length;i<iend;++i){var _$tdSlot=jQuery(document.createElement("td")),_$tdLoad=jQuery(document.createElement("td")),_$tdDesc=jQuery(document.createElement("td")),_$tdDele=jQuery(document.createElement("td"));_$tdSlot.append(document.createTextNode(i+1)),saves.slots[i]?(_$tdLoad.append(createButton("load","ui-close",L10n.get("savesLabelLoad"),i,(function(slot){jQuery(document).one(":dialogclosed",(function(){return Save.slots.load(slot)}))}))),jQuery(document.createElement("div")).text(saves.slots[i].title).appendTo(_$tdDesc),jQuery(document.createElement("div")).addClass("datestamp").html(saves.slots[i].date?"".concat(new Date(saves.slots[i].date).toLocaleString()):"<em>".concat(L10n.get("savesUnknownDate"),"</em>")).appendTo(_$tdDesc),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i,(function(slot){Save.slots.delete(slot),uiBuildSaves()})))):(_$tdLoad.append(createButton("save","ui-close",L10n.get("savesLabelSave"),i,savesAllowed?Save.slots.save:null)),_$tdDesc.addClass("empty").text("•  •  •"),_$tdDele.append(createButton("delete",null,L10n.get("savesLabelDelete"),i))),jQuery(document.createElement("tr")).append(_$tdSlot).append(_$tdLoad).append(_$tdDesc).append(_$tdDele).appendTo($tbody)}return jQuery(document.createElement("table")).attr("id","saves-list").append($tbody)}()),savesOk||fileOk){var $btnBar=jQuery(document.createElement("ul")).addClass("buttons").appendTo($dialogBody);return fileOk&&($btnBar.append(createActionItem("export","ui-close",L10n.get("savesLabelExport"),savesAllowed?function(){return Save.export()}:null)),$btnBar.append(createActionItem("import",null,L10n.get("savesLabelImport"),(function(){return $dialogBody.find("#saves-import-file").trigger("click")}))),jQuery(document.createElement("input")).css({display:"block",visibility:"hidden",position:"fixed",left:"-9999px",top:"-9999px",width:"1px",height:"1px"}).attr({type:"file",id:"saves-import-file",tabindex:-1,"aria-hidden":!0}).on("change",(function(ev){jQuery(document).one(":dialogclosed",(function(){return Save.import(ev)})),Dialog.close()})).appendTo($dialogBody)),savesOk&&$btnBar.append(createActionItem("clear",null,L10n.get("savesLabelClear"),Save.autosave.has()||!Save.slots.isEmpty()?function(){Save.clear(),uiBuildSaves()}:null)),!0}return uiOpenAlert(L10n.get("savesIncapable")),!1}function uiBuildSettings(){var $dialogBody=jQuery(Dialog.setup(L10n.get("settingsTitle"),"settings"));return Setting.forEach((function(control){if(control.type===Setting.Types.Header){var _name=control.name,_id=Util.slugify(_name),$header=jQuery(document.createElement("div")),$heading=jQuery(document.createElement("h2"));return $header.attr("id","header-body-".concat(_id)).append($heading).appendTo($dialogBody),$heading.attr("id","header-heading-".concat(_id)).wiki(_name),void(control.desc&&jQuery(document.createElement("p")).attr("id","header-desc-".concat(_id)).wiki(control.desc).appendTo($header))}var $control,name=control.name,id=Util.slugify(name),$setting=jQuery(document.createElement("div")),$label=jQuery(document.createElement("label")),$controlBox=jQuery(document.createElement("div"));switch(jQuery(document.createElement("div")).append($label).append($controlBox).appendTo($setting),control.desc&&jQuery(document.createElement("p")).attr("id","setting-desc-".concat(id)).wiki(control.desc).appendTo($setting),$label.attr({id:"setting-label-".concat(id),for:"setting-control-".concat(id)}).wiki(control.label),null==settings[name]&&(settings[name]=control.default),control.type){case Setting.Types.Toggle:$control=jQuery(document.createElement("button")),settings[name]?$control.addClass("enabled").text(L10n.get("settingsOn")):$control.text(L10n.get("settingsOff")),$control.ariaClick((function(){settings[name]?(jQuery(this).removeClass("enabled").text(L10n.get("settingsOff")),settings[name]=!1):(jQuery(this).addClass("enabled").text(L10n.get("settingsOn")),settings[name]=!0),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default})}));break;case Setting.Types.List:$control=jQuery(document.createElement("select"));for(var i=0,iend=control.list.length;i<iend;++i)jQuery(document.createElement("option")).val(i).text(control.list[i]).appendTo($control);$control.val(control.list.indexOf(settings[name])).attr("tabindex",0).on("change",(function(){settings[name]=control.list[Number(this.value)],Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,list:control.list})}));break;case Setting.Types.Range:($control=jQuery(document.createElement("input"))).attr({type:"range",min:control.min,max:control.max,step:control.step,value:settings[name],tabindex:0}).on("change input",(function(){settings[name]=Number(this.value),Setting.save(),control.hasOwnProperty("onChange")&&control.onChange.call({name:name,value:settings[name],default:control.default,min:control.min,max:control.max,step:control.step})})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$control.trigger("change"))}))}$control.attr("id","setting-control-".concat(id)).appendTo($controlBox),$setting.attr("id","setting-body-".concat(id)).appendTo($dialogBody)})),$dialogBody.append('<ul class="buttons">'+'<li><button id="settings-ok" class="ui-close">'.concat(L10n.get(["settingsOk","ok"]),"</button></li>")+'<li><button id="settings-reset">'.concat(L10n.get("settingsReset"),"</button></li>")+"</ul>").find("#settings-reset").ariaClick({one:!0},(function(){jQuery(document).one(":dialogclosed",(function(){Setting.reset(),window.location.reload()})),Dialog.close()})),!0}function uiBuildShare(){try{jQuery(Dialog.setup(L10n.get("shareTitle"),"share list")).append(uiAssembleLinkList("StoryShare"))}catch(ex){return console.error(ex),Alert.error("StoryShare",ex.message),!1}return!0}return Object.freeze(Object.defineProperties({},{assembleLinkList:{value:uiAssembleLinkList},alert:{value:uiOpenAlert},jumpto:{value:function(){uiBuildJumpto(),Dialog.open.apply(Dialog,arguments)}},restart:{value:function(){uiBuildRestart(),Dialog.open.apply(Dialog,arguments)}},saves:{value:function(){uiBuildSaves(),Dialog.open.apply(Dialog,arguments)}},settings:{value:function(){uiBuildSettings(),Dialog.open.apply(Dialog,arguments)}},share:{value:function(){uiBuildShare(),Dialog.open.apply(Dialog,arguments)}},buildAutoload:{value:uiBuildAutoload},buildJumpto:{value:uiBuildJumpto},buildRestart:{value:uiBuildRestart},buildSaves:{value:uiBuildSaves},buildSettings:{value:uiBuildSettings},buildShare:{value:uiBuildShare},stow:{value:function(){return UIBar.stow()}},unstow:{value:function(){return UIBar.unstow()}},setStoryElements:{value:function(){return UIBar.update()}},isOpen:{value:function(){return Dialog.isOpen.apply(Dialog,arguments)}},body:{value:function(){return Dialog.body()}},setup:{value:function(){return Dialog.setup.apply(Dialog,arguments)}},addClickHandler:{value:function(){return Dialog.addClickHandler.apply(Dialog,arguments)}},open:{value:function(){return Dialog.open.apply(Dialog,arguments)}},close:{value:function(){return Dialog.close.apply(Dialog,arguments)}},resize:{value:function(){return Dialog.resize()}},buildDialogAutoload:{value:uiBuildAutoload},buildDialogJumpto:{value:uiBuildJumpto},buildDialogRestart:{value:uiBuildRestart},buildDialogSaves:{value:uiBuildSaves},buildDialogSettings:{value:uiBuildSettings},buildDialogShare:{value:uiBuildShare},buildLinkListFromPassage:{value:uiAssembleLinkList}}))}(),UIBar=function(){var _$uiBar=null;function uiBarStow(noAnimation){var $story;_$uiBar&&!_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.addClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay));return this}function uiBarUpdate(){if(Story.has("StoryDisplayTitle")&&setDisplayTitle(Story.get("StoryDisplayTitle").processText()),_$uiBar){setPageElement("story-banner","StoryBanner"),setPageElement("story-subtitle","StorySubtitle"),setPageElement("story-author","StoryAuthor"),setPageElement("story-caption","StoryCaption");var menuStory=document.getElementById("menu-story");if(null!==menuStory&&(jQuery(menuStory).empty(),Story.has("StoryMenu")))try{UI.assembleLinkList("StoryMenu",menuStory)}catch(ex){console.error(ex),Alert.error("StoryMenu",ex.message)}}}return Object.freeze(Object.defineProperties({},{destroy:{value:function(){_$uiBar&&(_$uiBar.hide(),jQuery(document).off(".ui-bar"),jQuery(document.head).find("#style-ui-bar").remove(),_$uiBar.remove(),_$uiBar=null)}},hide:{value:function(){return _$uiBar&&_$uiBar.hide(),this}},init:{value:function(){if(!document.getElementById("ui-bar")){var toggleLabel,backwardLabel,jumptoLabel,forwardLabel,$backward,$forward,$elems=(toggleLabel=L10n.get("uiBarToggle"),backwardLabel=L10n.get("uiBarBackward"),jumptoLabel=L10n.get("uiBarJumpto"),forwardLabel=L10n.get("uiBarForward"),jQuery(document.createDocumentFragment()).append('<div id="ui-bar" aria-live="polite"><div id="ui-bar-tray">'+'<button id="ui-bar-toggle" tabindex="0" title="'.concat(toggleLabel,'" aria-label="').concat(toggleLabel,'"></button>')+'<div id="ui-bar-history">'+'<button id="history-backward" tabindex="0" title="'.concat(backwardLabel,'" aria-label="').concat(backwardLabel,'"></button>')+'<button id="history-jumpto" tabindex="0" title="'.concat(jumptoLabel,'" aria-label="').concat(jumptoLabel,'"></button>')+'<button id="history-forward" tabindex="0" title="'.concat(forwardLabel,'" aria-label="').concat(forwardLabel,'"></button>')+'</div></div><div id="ui-bar-body"><header id="title" role="banner"><div id="story-banner"></div><h1 id="story-title"></h1><div id="story-subtitle"></div><div id="story-title-separator"></div><p id="story-author"></p></header><div id="story-caption"></div><nav id="menu" role="navigation"><ul id="menu-story"></ul><ul id="menu-core">'+'<li id="menu-item-saves"><a tabindex="0">'.concat(L10n.get("savesTitle"),"</a></li>")+'<li id="menu-item-settings"><a tabindex="0">'.concat(L10n.get("settingsTitle"),"</a></li>")+'<li id="menu-item-restart"><a tabindex="0">'.concat(L10n.get("restartTitle"),"</a></li>")+'<li id="menu-item-share"><a tabindex="0">'.concat(L10n.get("shareTitle"),"</a></li>")+"</ul></nav></div></div>"));_$uiBar=jQuery($elems.find("#ui-bar").get(0)),$elems.insertBefore("body>script#script-sugarcube"),jQuery(document).on(":historyupdate.ui-bar",($backward=jQuery("#history-backward"),$forward=jQuery("#history-forward"),function(){$backward.ariaDisabled(State.length<2),$forward.ariaDisabled(State.length===State.size)}))}}},isHidden:{value:function(){return _$uiBar&&"none"===_$uiBar.css("display")}},isStowed:{value:function(){return _$uiBar&&_$uiBar.hasClass("stowed")}},show:{value:function(){return _$uiBar&&_$uiBar.show(),this}},start:{value:function(){_$uiBar&&(("boolean"==typeof Config.ui.stowBarInitially?Config.ui.stowBarInitially:jQuery(window).width()<=Config.ui.stowBarInitially)&&uiBarStow(!0),jQuery("#ui-bar-toggle").ariaClick({label:L10n.get("uiBarToggle")},(function(){return _$uiBar.toggleClass("stowed")})),Config.history.controls?(jQuery("#history-backward").ariaDisabled(State.length<2).ariaClick({label:L10n.get("uiBarBackward")},(function(){return Engine.backward()})),Story.lookup("tags","bookmark").length>0?jQuery("#history-jumpto").ariaClick({label:L10n.get("uiBarJumpto")},(function(){return UI.jumpto()})):jQuery("#history-jumpto").remove(),jQuery("#history-forward").ariaDisabled(State.length===State.size).ariaClick({label:L10n.get("uiBarForward")},(function(){return Engine.forward()}))):jQuery("#ui-bar-history").remove(),Story.has("StoryDisplayTitle")?setDisplayTitle(Story.get("StoryDisplayTitle").processText()):jQuery("#story-title").text(Story.title),Story.has("StoryCaption")||jQuery("#story-caption").remove(),Story.has("StoryMenu")||jQuery("#menu-story").remove(),Config.ui.updateStoryElements||uiBarUpdate(),jQuery("#menu-item-saves a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSaves(),Dialog.open()})).text(L10n.get("savesTitle")),Setting.isEmpty()?jQuery("#menu-item-settings").remove():jQuery("#menu-item-settings a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildSettings(),Dialog.open()})).text(L10n.get("settingsTitle")),jQuery("#menu-item-restart a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildRestart(),Dialog.open()})).text(L10n.get("restartTitle")),Story.has("StoryShare")?jQuery("#menu-item-share a").ariaClick({role:"button"},(function(ev){ev.preventDefault(),UI.buildShare(),Dialog.open()})).text(L10n.get("shareTitle")):jQuery("#menu-item-share").remove())}},stow:{value:uiBarStow},unstow:{value:function(noAnimation){var $story;return _$uiBar&&_$uiBar.hasClass("stowed")&&(noAnimation&&(($story=jQuery("#story")).addClass("no-transition"),_$uiBar.addClass("no-transition")),_$uiBar.removeClass("stowed"),noAnimation&&setTimeout((function(){$story.removeClass("no-transition"),_$uiBar.removeClass("no-transition")}),Engine.minDomActionDelay)),this}},update:{value:uiBarUpdate},setStoryElements:{value:uiBarUpdate}}))}(),DebugBar=function(){var _variableRe=new RegExp("^".concat(Patterns.variable,"$")),_numericKeyRe=/^\d+$/,_watchList=[],_$debugBar=null,_$watchBody=null,_$watchList=null,_$turnSelect=null,_stowed=!0;function debugBarStow(){_$debugBar.css("right","-".concat(_$debugBar.outerWidth(),"px")),_stowed=!0,_updateSession()}function debugBarUnstow(){_$debugBar.css("right",0),_stowed=!1,_updateSession()}function debugBarToggle(){_stowed?debugBarUnstow():debugBarStow()}function debugBarWatchAdd(varName){_variableRe.test(varName)&&(_watchList.pushUnique(varName),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession())}function debugBarWatchAddAll(){Object.keys(State.variables).map((function(name){return _watchList.pushUnique("$".concat(name))})),Object.keys(State.temporary).map((function(name){return _watchList.pushUnique("_".concat(name))})),_watchList.sort(),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchClear(){for(var i=_watchList.length-1;i>=0;--i)_watchList.pop();_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDelete(varName){_watchList.delete(varName),_updateWatchBody(),_updateWatchList(),_updateSession()}function debugBarWatchDisable(){_debugBarWatchDisableNoUpdate(),_updateSession()}function debugBarWatchEnable(){_debugBarWatchEnableNoUpdate(),_updateSession()}function debugBarWatchIsEnabled(){return!_$watchBody.attr("hidden")}function debugBarWatchToggle(){_$watchBody.attr("hidden")?debugBarWatchEnable():debugBarWatchDisable()}function _debugBarWatchDisableNoUpdate(){_$watchBody.attr({"aria-hidden":!0,hidden:"hidden"})}function _debugBarWatchEnableNoUpdate(){_$watchBody.removeAttr("aria-hidden hidden")}function _clearSession(){session.delete("debugState")}function _hasSession(){return session.has("debugState")}function _updateSession(){session.set("debugState",{stowed:_stowed,watchList:_watchList,watchEnabled:debugBarWatchIsEnabled(),viewsEnabled:DebugView.isEnabled()})}function _updateWatchBody(){if(0!==_watchList.length){for(var delLabel=L10n.get("debugBarDeleteWatch"),$table=jQuery(document.createElement("table")),$tbody=jQuery(document.createElement("tbody")),_loop4=function(i,len){var varName=_watchList[i],varKey=varName.slice(1),store="$"===varName[0]?State.variables:State.temporary,$row=jQuery(document.createElement("tr")),$delBtn=jQuery(document.createElement("button")),$code=jQuery(document.createElement("code"));$delBtn.addClass("watch-delete").attr("data-name",varName).ariaClick({one:!0,label:delLabel},(function(){return debugBarWatchDelete(varName)})),$code.text(_toWatchString(store[varKey])),jQuery(document.createElement("td")).append($delBtn).appendTo($row),jQuery(document.createElement("td")).text(varName).appendTo($row),jQuery(document.createElement("td")).append($code).appendTo($row),$row.appendTo($tbody)},i=0,len=_watchList.length;i<len;++i)_loop4(i);$table.append($tbody),_$watchBody.empty().append($table)}else _$watchBody.empty().append("<div>".concat(L10n.get("debugBarNoWatches"),"</div>"))}function _updateWatchList(){var svn=Object.keys(State.variables),tvn=Object.keys(State.temporary);if(0!==svn.length||0!==tvn.length){var names=[].concat(_toConsumableArray(svn.map((function(name){return"$".concat(name)}))),_toConsumableArray(tvn.map((function(name){return"_".concat(name)})))).sort(),options=document.createDocumentFragment();names.delete(_watchList);for(var i=0,len=names.length;i<len;++i)jQuery(document.createElement("option")).val(names[i]).appendTo(options);_$watchList.empty().append(options)}else _$watchList.empty()}function _updateTurnSelect(){for(var histLen=State.size,expLen=State.expired.length,options=document.createDocumentFragment(),i=0;i<histLen;++i)jQuery(document.createElement("option")).val(i).text("".concat(expLen+i+1,". ").concat(Util.escape(State.history[i].title))).appendTo(options);_$turnSelect.empty().ariaDisabled(histLen<2).append(options).val(State.activeIndex)}function _toWatchString(value){if(null===value)return"null";switch(_typeof(value)){case"number":if(Number.isNaN(value))return"NaN";if(!Number.isFinite(value))return"Infinity";case"boolean":case"symbol":case"undefined":return String(value);case"string":return JSON.stringify(value);case"function":return"Function"}var objType=Util.toStringTag(value);if("Date"===objType)return"Date {".concat(value.toLocaleString(),"}");if("RegExp"===objType)return"RegExp ".concat(value.toString());var result=[];if(value instanceof Array||value instanceof Set){for(var list=value instanceof Array?value:Array.from(value),i=0,len=list.length;i<len;++i)result.push(list.hasOwnProperty(i)?_toWatchString(list[i]):"<empty>");return Object.keys(list).filter((function(key){return!_numericKeyRe.test(key)})).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(list[key])))})),"".concat(objType,"(").concat(list.length,") [").concat(result.join(", "),"]")}return value instanceof Map?(value.forEach((function(val,key){return result.push("".concat(_toWatchString(key)," → ").concat(_toWatchString(val)))})),"".concat(objType,"(").concat(value.size,") {").concat(result.join(", "),"}")):(Object.keys(value).forEach((function(key){return result.push("".concat(_toWatchString(key),": ").concat(_toWatchString(value[key])))})),"".concat(objType," {").concat(result.join(", "),"}"))}return Object.freeze(Object.defineProperties({},{init:{value:function(){var barToggleLabel=L10n.get("debugBarToggle"),watchAddLabel=L10n.get("debugBarAddWatch"),watchAllLabel=L10n.get("debugBarWatchAll"),watchNoneLabel=L10n.get("debugBarWatchNone"),watchToggleLabel=L10n.get("debugBarWatchToggle"),viewsToggleLabel=L10n.get("debugBarViewsToggle");jQuery(document.createDocumentFragment()).append('<div id="debug-bar"><div id="debug-bar-watch">'+"<div>".concat(L10n.get("debugBarNoWatches"),"</div>>")+"</div><div>"+'<button id="debug-bar-watch-toggle" tabindex="0" title="'.concat(watchToggleLabel,'" aria-label="').concat(watchToggleLabel,'">').concat(L10n.get("debugBarLabelWatch"),"</button>")+'<label id="debug-bar-watch-label" for="debug-bar-watch-input">'.concat(L10n.get("debugBarLabelAdd"),"</label>")+'<input id="debug-bar-watch-input" name="debug-bar-watch-input" type="text" list="debug-bar-watch-list" tabindex="0"><datalist id="debug-bar-watch-list" aria-hidden="true" hidden="hidden"></datalist>'+'<button id="debug-bar-watch-add" tabindex="0" title="'.concat(watchAddLabel,'" aria-label="').concat(watchAddLabel,'"></button>')+'<button id="debug-bar-watch-all" tabindex="0" title="'.concat(watchAllLabel,'" aria-label="').concat(watchAllLabel,'"></button>')+'<button id="debug-bar-watch-none" tabindex="0" title="'.concat(watchNoneLabel,'" aria-label="').concat(watchNoneLabel,'"></button>')+"</div><div>"+'<button id="debug-bar-views-toggle" tabindex="0" title="'.concat(viewsToggleLabel,'" aria-label="').concat(viewsToggleLabel,'">').concat(L10n.get("debugBarLabelViews"),"</button>")+'<label id="debug-bar-turn-label" for="debug-bar-turn-select">'.concat(L10n.get("debugBarLabelTurn"),"</label>")+'<select id="debug-bar-turn-select" tabindex="0"></select></div>'+'<button id="debug-bar-toggle" tabindex="0" title="'.concat(barToggleLabel,'" aria-label="').concat(barToggleLabel,'"></button>')+'</div><div id="debug-bar-hint"></div>').appendTo("body"),_$debugBar=jQuery("#debug-bar"),_$watchBody=jQuery(_$debugBar.find("#debug-bar-watch").get(0)),_$watchList=jQuery(_$debugBar.find("#debug-bar-watch-list").get(0)),_$turnSelect=jQuery(_$debugBar.find("#debug-bar-turn-select").get(0));var $barToggle=jQuery(_$debugBar.find("#debug-bar-toggle").get(0)),$watchToggle=jQuery(_$debugBar.find("#debug-bar-watch-toggle").get(0)),$watchInput=jQuery(_$debugBar.find("#debug-bar-watch-input").get(0)),$watchAdd=jQuery(_$debugBar.find("#debug-bar-watch-add").get(0)),$watchAll=jQuery(_$debugBar.find("#debug-bar-watch-all").get(0)),$watchNone=jQuery(_$debugBar.find("#debug-bar-watch-none").get(0)),$viewsToggle=jQuery(_$debugBar.find("#debug-bar-views-toggle").get(0));$barToggle.ariaClick(debugBarToggle),$watchToggle.ariaClick(debugBarWatchToggle),$watchInput.on(":addwatch",(function(){debugBarWatchAdd(this.value.trim()),this.value=""})).on("keypress",(function(ev){13===ev.which&&(ev.preventDefault(),$watchInput.trigger(":addwatch"))})),$watchAdd.ariaClick((function(){return $watchInput.trigger(":addwatch")})),$watchAll.ariaClick(debugBarWatchAddAll),$watchNone.ariaClick(debugBarWatchClear),_$turnSelect.on("change",(function(){Engine.goTo(Number(this.value))})),$viewsToggle.ariaClick((function(){DebugView.toggle(),_updateSession()})),jQuery(document).on(":historyupdate.debug-bar",_updateTurnSelect).on(":passageend.debug-bar",(function(){_updateWatchBody(),_updateWatchList()})).on(":enginerestart.debug-bar",_clearSession),_hasSession()||DebugView.enable()}},isStowed:{value:function(){return _stowed}},start:{value:function(){(function(){if(!_hasSession())return!1;var debugState=session.get("debugState");_stowed=debugState.stowed,_watchList.push.apply(_watchList,_toConsumableArray(debugState.watchList)),debugState.watchEnabled?_debugBarWatchEnableNoUpdate():_debugBarWatchDisableNoUpdate();debugState.viewsEnabled?DebugView.enable():DebugView.disable()})(),_stowed?debugBarStow():debugBarUnstow(),_updateTurnSelect(),_updateWatchBody(),_updateWatchList()}},stow:{value:debugBarStow},toggle:{value:debugBarToggle},unstow:{value:debugBarUnstow},watch:{value:Object.freeze(Object.defineProperties({},{add:{value:debugBarWatchAdd},all:{value:debugBarWatchAddAll},clear:{value:debugBarWatchClear},delete:{value:debugBarWatchDelete},disable:{value:debugBarWatchDisable},enable:{value:debugBarWatchEnable},isEnabled:{value:debugBarWatchIsEnabled},toggle:{value:debugBarWatchToggle}}))}}))}(),LoadScreen=function(){var _locks=new Set,_autoId=0;function loadScreenHide(){jQuery(document.documentElement).removeAttr("data-init")}function loadScreenShow(){jQuery(document.documentElement).attr("data-init","loading")}return Object.freeze(Object.defineProperties({},{init:{value:function(){jQuery(document).on("readystatechange.SugarCube",(function(){_locks.size>0||("complete"===document.readyState?"loading"===jQuery(document.documentElement).attr("data-init")&&(Config.loadDelay>0?setTimeout((function(){0===_locks.size&&loadScreenHide()}),Math.max(Engine.minDomActionDelay,Config.loadDelay)):loadScreenHide()):loadScreenShow())}))}},clear:{value:function(){jQuery(document).off("readystatechange.SugarCube"),_locks.clear(),loadScreenHide()}},hide:{value:loadScreenHide},show:{value:loadScreenShow},lock:{value:function(){return++_autoId,_locks.add(_autoId),loadScreenShow(),_autoId}},unlock:{value:function(id){if(null==id)throw new Error("LoadScreen.unlock called with a null or undefined ID");_locks.has(id)&&_locks.delete(id),0===_locks.size&&jQuery(document).trigger("readystatechange")}}}))}(),version=Object.freeze({title:"SugarCube",major:2,minor:36,patch:1,prerelease:null,build:9717,date:new Date("2021-12-22T05:37:33.467Z"),extensions:{},toString:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,"+").concat(this.build)},short:function(){var prerelease=this.prerelease?"-".concat(this.prerelease):"";return"".concat(this.title," (v").concat(this.major,".").concat(this.minor,".").concat(this.patch).concat(prerelease,")")},long:function(){return"".concat(this.title," v").concat(this.toString()," (").concat(this.date.toUTCString(),")")}}),TempState={},macros={},postdisplay={},postrender={},predisplay={},prehistory={},prerender={},session=null,settings={},setup={},storage=null,browser=Browser,config=Config,has=Has,History=State,state=State,tale=Story,TempVariables=State.temporary;window.SugarCube={},jQuery((function(){try{var lockId=LoadScreen.lock();LoadScreen.init(),document.normalize&&document.normalize(),Story.load(),storage=SimpleStore.create(Story.domId,!0),session=SimpleStore.create(Story.domId,!1),Dialog.init(),UIBar.init(),Engine.init(),Story.init(),L10n.init(),session.has("rcWarn")||"cookie"!==storage.name||(session.set("rcWarn",1),window.alert(L10n.get("warningNoWebStorage"))),Save.init(),Setting.init(),Macro.init(),Engine.start(),Config.debug&&DebugBar.init();var $window=$(window),vprCheckId=setInterval((function(){$window.width()&&(clearInterval(vprCheckId),UIBar.start(),Config.debug&&DebugBar.start(),jQuery.event.trigger({type:":storyready"}),setTimeout((function(){return LoadScreen.unlock(lockId)}),2*Engine.minDomActionDelay))}),Engine.minDomActionDelay);Object.defineProperty(window,"SugarCube",{value:Object.seal(Object.assign(Object.create(null),{Browser:Browser,Config:Config,Dialog:Dialog,Engine:Engine,Fullscreen:Fullscreen,Has:Has,L10n:L10n,Macro:Macro,Passage:Passage,Save:Save,Scripting:Scripting,Setting:Setting,SimpleAudio:SimpleAudio,State:State,Story:Story,UI:UI,UIBar:UIBar,DebugBar:DebugBar,Util:Util,Visibility:Visibility,Wikifier:Wikifier,session:session,settings:settings,setup:setup,storage:storage,version:version}))})}catch(ex){return console.error(ex),LoadScreen.clear(),Alert.fatal(null,ex.message,ex)}}))})(window,window.document,jQuery);}
	</script>
</body>
</html>
